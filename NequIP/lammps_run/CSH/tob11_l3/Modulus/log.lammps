LAMMPS (29 Sep 2021 - Update 2)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
# Compute elastic constant tensor for a crystal at finite temperature
#
# WARNING: This script attempts to measure small differences in
# statistical averages generated by finite temperature MD simulations.
# This creates many more opportunities for errors to occur, compared
# to the zero temperature version provided in examples/ELASTIC.
# Hence, it is always a good idea to start with the zero temperature
# calculation, before attempting to use this script.
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, MD parameters, deformation parameters,
#		  and initial configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the MD sampling of stress components
#  is generating accurate statistical averages.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to
#  check for finite size effects.
#

# include init.mod

# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 2.0e-2

# real units, elastic constants in GPa
units		metal
atom_style atomic
variable cfac equal 1.0e-4
variable cunits string GPa

# Define MD parameters
variable nevery equal 10                  # sampling interval
variable nrepeat equal 10                 # number of samples
variable nfreq equal ${nevery}*${nrepeat} # length of one average
variable nfreq equal 10*${nrepeat} 
variable nfreq equal 10*10 
variable nthermo equal ${nfreq}           # interval for thermo output
variable nthermo equal 100           
variable nequil equal 10*${nthermo}       # length of equilibration run
variable nequil equal 10*100       
variable nrun equal 3*${nthermo}          # length of equilibrated run
variable nrun equal 3*100          
variable temp equal 300                   # temperature of initial sample
variable timestep equal 0.001             # timestep
variable adiabatic equal 2                # adiabatic (1) or isothermal (2)
variable tdamp equal 0.01                 # time constant for thermostat
variable seed equal 123457                # seed for thermostat

# generate the box and atom positions using a diamond lattice
variable a equal 5.431

boundary	p p p
newton off


box tilt large
read_data tob11_ref_deepmd.data
Reading data file ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (6.8037000 6.1848150 22.405446) with tilt (2.6646871 0.29402869 -0.26981789)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  88 atoms
  read_data CPU = 0.001 seconds

pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si
mass            1 40.079800
mass            4 28.08500
mass            3 15.9994
mass            2 1.00794


change_box all triclinic
Changing box ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (6.8037000 6.1848150 22.405446) with tilt (2.6646871 0.29402869 -0.26981789)

velocity	all create ${temp} 87287
velocity	all create 300 87287

thermo 100
min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
WARNING: Using 'neigh_modify every 1 delay 0 check yes' setting during minimization (src/min.cpp:188)
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.213 | 4.213 | 4.213 Mbytes
Step Temp E_pair E_mol TotEng Press 
       0          300   -571.49316            0   -568.11947     20949.29 
     100          300    -577.8692            0   -574.49551    10925.255 
     200          300   -577.99103            0   -574.61734    11050.924 
     204          300    -577.9917            0   -574.61801    11123.563 
Loop time of 113.253 on 1 procs for 204 steps with 88 atoms

99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
       -571.4931640625   -577.99169921875   -577.99169921875
  Force two-norm initial, final = 16.218635 0.084514138
  Force max component initial, final = 3.7823689 0.018306071
  Final line search alpha, max atom move = 1.0000000 0.018306071
  Iterations, force evaluations = 204 408

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 113.24     | 113.24     | 113.24     |   0.0 | 99.99
Neigh   | 0.002775   | 0.002775   | 0.002775   |   0.0 |  0.00
Comm    | 0.002414   | 0.002414   | 0.002414   |   0.0 |  0.00
Output  | 0.00011802 | 0.00011802 | 0.00011802 |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00338    |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1052.00 ave        1052 max        1052 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7270.00 ave        7270 max        7270 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7270
Ave neighs/atom = 82.613636
Neighbor list builds = 3
Dangerous builds = 0

thermo_style  custom step temp press etotal lx ly lz xy yz xz pxx pyy pzz

#timestep 0.0001

#fix 456 all nve
#fix 567 all langevin 300.0 300.0 0.1 12345

#run 5000

#unfix 456
#unfix 567
fix 123 all npt temp 300 300 1 tri 1.0 1.0 1
run 10000
Per MPI rank memory allocation (min/avg/max) = 3.104 | 3.104 | 3.104 Mbytes
Step Temp Press TotEng Lx Ly Lz Xy Yz Xz Pxx Pyy Pzz 
     204          300    11123.565   -574.61801       6.8037     6.184815    22.405446    2.6646871  -0.26981789   0.29402869    5319.9476    15393.581    12657.168 
     300    139.83064   -6578.4314   -574.68765    6.8336552    6.2494976    22.658273    2.6929928 -0.071801837   0.13643417   -8050.9254   -4738.7536   -6945.6152 
     400    141.98323   -2513.1741   -574.65947    6.7832734    6.2591764    22.718153     2.736258   0.29474929  -0.23930343   -2965.6864    3294.2278   -7868.0636 
     500    146.28497    8844.8491   -574.54152    6.7270521    6.2451819     22.48755    2.8047762   0.35615252  -0.45482756    11022.696    11854.101    3657.7503 
     600    168.54922   -4262.5878   -574.53302    6.8077398    6.2982004    22.491368     2.851227  0.094800424  -0.33134764    -12575.95   -6223.6617    6011.8484 
     700    158.50117   -3012.3462    -574.4667    6.7957127    6.2746038    22.569672    2.7880854  -0.30002399  -0.12453948   -5109.5676   -1831.2467   -2096.2244 
     800    194.01267    6596.5437   -574.33243    6.7763361    6.1883989    22.586137    2.6898148  -0.41639202 -0.040130026     8365.752    13552.889     -2129.01 
     900     171.5538    7675.9416   -574.26205    6.8225302    6.2160579    22.494427    2.6713601  -0.18766035 -0.028845393    11727.215    8085.2882    3215.3216 
    1000    173.42018   -2182.6003   -574.19236    6.8373103    6.2398196    22.371431    2.7498559   0.11147407  -0.18311163   -3955.9713   -5711.8389    3120.0092 
    1100    169.69139   -1962.7246    -574.1356    6.7899443    6.2422073     22.47824    2.8194042   0.45571081  -0.25602122    4581.4847   -9427.0855   -1042.5728 
    1200    179.32035    3993.0604   -574.02341    6.7437522    6.2459408    22.787625     2.845272   0.76321731  -0.25436484     5667.842    3873.8914    2437.4479 
    1300    151.51695    1624.1055   -574.02638    6.7716873    6.2281023    22.832924    2.8143242   0.69672445 -0.024005267    5468.1102    4964.5844   -5560.3781 
    1400    181.19976    5355.8706    -573.9767    6.8373124    6.2218504    22.316805    2.7421685   0.32972962   0.55456337   -6169.3164    8177.4303    14059.498 
    1500    191.24391     1319.811   -573.75791    6.8422655    6.2642507    22.392502    2.6668849  0.012409249   0.99921514   -1665.6594   -4278.9929    9904.0854 
    1600    199.86133   -4850.7962     -573.682    6.7941506     6.221456    22.860677    2.6802377  0.046850231     1.107533    544.81858   -2850.6442   -12246.563 
    1700    195.83312     2398.392   -573.63648    6.7765865    6.2011573    22.813059    2.8170852    0.3314247   0.96854016   -73.842145    9216.4176   -1947.3994 
    1800    208.59882   -1544.3439   -573.48163    6.8401374    6.2816251    22.547918    2.9664798   0.61120803   0.67903998   -10066.239   -1886.0232    7319.2309 
    1900    224.42734   -1339.0113    -573.3624    6.8482721    6.2918275    22.526969    2.9693196   0.81623102    0.5276934   -3690.7471   -5607.1597     5280.873 
    2000    238.12074    2882.6395   -573.28434    6.7880392    6.2171809    22.679937    2.8373605   0.98959363   0.53091652    7926.5889    5598.3111   -4876.9813 
    2100    207.88713   -3953.2788   -573.18476    6.8553158    6.2130305    22.809029    2.7424973    1.0555692   0.69627505   -12290.345   -2292.3522    2722.8612 
    2200    221.71587     4737.566   -573.14448     6.857995    6.2099778     22.71778    2.7431816   0.77940154    1.0227674   -4068.7993    13818.794    4462.7035 
    2300    222.28858    4296.2618   -573.04631    6.8209079    6.2827851    22.472178    2.8350639   0.21282555    1.2596417   -169.37909    6265.6508    6792.5136 
    2400    221.67902   -9723.3099   -572.86523    6.8482635    6.3360992    22.705688    2.9302036 -0.040569144    1.1995464   -9363.4651   -16722.286   -3084.1785 
    2500     228.7981    2414.5843   -572.84279    6.7881542    6.1911116    22.868536     2.930492    0.2973161   0.77466262    7623.7643    14275.336   -14655.347 
    2600    224.21976    3825.7809   -572.76018    6.8484787    6.2119588    22.603477    2.8796963   0.59846294   0.27531614   -118.98388    2492.7361    9103.5905 
    2700    242.32224    -5191.784   -572.55637    6.8810862    6.2989658    22.595152    2.7915283   0.68659179   0.10148725    -862.1677   -10979.839   -3733.3453 
    2800     249.8066    10001.918   -572.54892    6.7570519    6.2278819    22.496976    2.7140971   0.37103259   0.24846965    12160.936    14231.249    3613.5694 
    2900    239.33955   -6167.6936   -572.51532    6.8078386    6.2437882    22.717508    2.7522947 -0.010340764   0.50067387    459.76934    -6794.458   -12168.392 
    3000    266.92847    2999.3339   -572.33776    6.8933339     6.257304    22.691076    2.8348083  -0.20582526   0.52834735     8107.437    -2077.689    2968.2537 
    3100    279.83564    13210.818   -572.22642    6.8651685    6.2099485    22.494066    2.8766845  -0.21579391   0.31861182    13488.902    11455.014    14688.538 
    3200    258.76923   -8101.1151   -572.20259    6.7997884    6.2660379     22.70772    2.8355129  -0.22539695   0.22426481   -11576.894   -7841.3397   -4885.1119 
    3300    273.33451   -2874.8235   -572.07022    6.7436883    6.3025409    22.657618    2.8018893 -0.084616349  0.069751628    4692.8537   -16410.175    3092.8512 
    3400    255.23045    893.99794    -572.0663    6.8196908    6.2307507    22.738557    2.8230771   0.31627324   0.10045818   -6951.2258    14346.225   -4713.0052 
    3500    279.11234    6322.8454    -571.9223    6.8831116    6.2247952    22.702177    2.7997394    0.5345291   0.27671029   -1159.3142    12498.336    7629.5142 
    3600     266.7279    5301.3216   -571.91442    6.8135707    6.2189197    22.644179    2.7141267   0.35076266   0.43512474    1735.4212    6500.0383    7668.5054 
    3700    301.64492    3461.3362   -571.79287    6.7687714    6.2396595     22.57732     2.682244  -0.12609842   0.35412798    9275.3277    7619.4541   -6510.7733 
    3800    248.04576   -2064.8868   -571.75561    6.8437731    6.3109313    22.616311    2.7524358  -0.31972081 -0.030748754    10136.503   -7177.8751   -9153.2886 
    3900    296.58898    1189.9671   -571.69714    6.8752905    6.2228728     22.73299    2.8232938  -0.33996466  -0.61960877   -3684.9106   -3957.9007    11212.713 
    4000    289.28423    13229.837   -571.53423    6.8334615     6.157514    22.764616    2.8011126  -0.38846375  -0.95146238    12304.078    17495.358    9890.0741 
    4100    257.79824   -1375.0873   -571.49793    6.8341878    6.2311677    22.645784    2.7396063  -0.64852312   -0.9222241    9679.2344   -11032.311    -2772.185 
    4200    313.08868    1351.1378   -571.37835     6.820964    6.2917514    22.490712    2.7127925  -0.77473814  -0.71710522   -146.23642   -3856.2756    8055.9255 
    4300    289.50969   -1782.3641   -571.36305    6.7994241    6.2678807     22.57885    2.7349276  -0.45748264  -0.48717181    4780.0017   -8369.4332   -1757.6608 
    4400    295.62343      5550.02   -571.26989    6.8459405    6.1925571    22.838833    2.7704112 -0.035286533  -0.25995968     7361.888    6061.0922    3227.0796 
    4500    269.26375     620.9826   -571.21628    6.8575487    6.1675739    22.847313     2.769448   0.17100241  0.053755293   -3690.3808    7957.8934   -2404.5648 
    4600    285.77418    8117.7625   -571.15616    6.8341585    6.2188751    22.481617    2.7455789   0.21450384   0.42825714    9220.5427    8700.2036    6432.5413 
    4700    302.99033   -5388.4407   -571.01511     6.860156    6.3073786    22.518631    2.7422179   0.29020401   0.62713869   -10263.004   -7437.0987    1534.7806 
    4800    319.44516   -137.13475   -571.02983    6.7779771    6.2467324    22.708139    2.7299759   0.35478986   0.50742421    4872.9511   -7416.1221    2131.7668 
    4900    308.84857   -5179.8901   -570.97865     6.814869    6.1910705    22.987501    2.8027665   0.35137001   0.43922881   -162.41224   -9851.3843   -5525.8738 
    5000    295.19306   -7851.5163   -570.87116    6.9100165    6.2380297    22.901523    2.9002232   0.31548258   0.50263274   -3002.2725   -11931.956   -8620.3203 
    5100     321.9838    5085.2616   -570.76703    6.8620535    6.2574091    22.373704    2.8908158   0.33246635   0.53024983    5599.4477   -7098.5905    16754.928 
    5200    336.91196    3495.8624   -570.78287     6.850632    6.2380854     22.47649    2.8219551   0.40729422   0.46206242   -8981.3208    4223.5763    15245.332 
    5300     346.0713   -19846.285   -570.66467    6.8678649     6.230872    23.017519    2.7658189   0.30619426   0.40305734   -15445.433   -8632.3659   -35461.055 
    5400    305.00974   -1048.2833    -570.6716    6.8463518    6.1880532    22.747717    2.7796576  0.014419421   0.34819586   -3428.1473    3693.1562   -3409.8588 
    5500     311.5653   -222.98932   -570.63974    6.8622843    6.2315433    22.649139    2.8223352  -0.43863209   0.24281391   -11241.627    10547.093    25.565662 
    5600    360.98863   -339.18809   -570.56387    6.8401124    6.3023743    22.580869    2.8123058  -0.64970372  -0.13442451    2411.7015   -1822.5875   -1606.6782 
    5700    350.08375    3239.2636    -570.5958    6.7937586     6.210721    22.613892    2.7453673  -0.59546885  -0.63113968    7611.1222    9235.7332   -7129.0646 
    5800    311.60871   -4356.5756   -570.46134    6.8265032     6.195996    22.835509    2.7176132  -0.49095222   -1.0394418   -3231.5372   -1379.9802   -8458.2093 
    5900    339.31378    -2402.146   -570.47192    6.8657884    6.2460063    22.612634     2.766854  -0.46783337   -1.1004399   -1974.7152    -8208.544    2976.8212 
    6000    341.77122   -1417.7334   -570.44801    6.8803504     6.249963    22.660547    2.8444894  -0.78240712  -0.89104424   -2507.3318     2063.678   -3809.5464 
    6100    334.84655    8698.1295   -570.42487    6.8366644    6.2366587    22.746689    2.8514069  -0.88838433  -0.57989039    8449.2002    15150.017    2495.1711 
    6200    346.13047    7054.2065   -570.44226    6.8562356    6.2371959    22.742218    2.8224675  -0.78230864  -0.26633696    12789.566    1396.7997    6976.2532 
    6300    326.58435    12852.427    -570.4692    6.8584926    6.1952981    22.545739    2.8079797  -0.36692597  -0.15319542    17380.853    11417.496    9758.9318 
    6400    322.59935   -10764.783   -570.43369    6.9074773    6.2792174    22.666514    2.8182161  0.064950776   -0.2473491   -9289.3876   -12921.293   -10083.669 
    6500    327.68089    10948.804   -570.47298    6.8290074    6.2485968    22.677335    2.8041927   0.24838886  -0.31913523    11893.886    9949.1623    11003.363 
    6600    315.13242    6709.6423   -570.49587     6.798957    6.2371699    22.918158    2.8538576   0.23415338  -0.16259572    19747.975    7340.4572   -6959.5057 
    6700    318.28609   -9159.6946   -570.61922    6.9158096    6.1955507    22.848556    2.9492695   -0.1138414   0.26696275   -19470.686   -1475.1974   -6533.2002 
    6800    350.26103    -8602.457   -570.58471    6.9950836    6.2174666    22.488589    2.9477876  -0.37403305   0.67684509   -24771.773   -1910.9999    875.40155 
    6900    329.28994    7533.9758   -570.71477    6.8041527    6.2945034    22.369544    2.7704774   -0.4437207   0.76582705     14391.79     3805.769    4404.3685 
    7000    312.97122   -1117.6436    -570.7775    6.7422842    6.2857055    22.717128    2.6767138  -0.21575867   0.48636183    7518.4044   -1315.0352      -9556.3 
    7100    356.05539    1001.7565   -570.87771    6.8662314    6.2012098    22.905085    2.7655823    0.3112405   0.26139045   -1723.0406    9362.4808   -4634.1707 
    7200    339.63925     6690.154    -570.8725    6.9631502    6.1552322    22.578689    2.8770119   0.67217953   0.17630718    507.13891    5950.2563    13613.067 
    7300     309.1099   -3699.3748   -571.02649    6.9344832    6.2193205    22.556142    2.8685258   0.61769398   0.31671339   -5505.1352    2214.8716   -7807.8607 
    7400     289.3705    13313.364   -571.09997    6.7744307    6.3064181    22.486008    2.7802723   0.39051316    0.6936928    19872.366    1846.8926    18220.835 
    7500    342.28125   -1619.7082   -571.14808    6.7735807    6.3144582    22.783351    2.7498301   0.28537098    1.0412107     6500.566   -10622.097   -737.59336 
    7600    286.03865   -5965.6421   -571.28502    6.8406387    6.1901285    22.752264    2.8034887   0.37929154    1.0775867   -12434.847    11815.225   -17277.304 
    7700    254.07391    5491.9069   -571.37001    6.8798847    6.1905386    22.590117    2.8480087   0.41691779   0.72638185   -5471.5495    14708.702    7238.5679 
    7800    262.84515   -13789.872   -571.37935    6.9027833    6.3211948     22.81811    2.8422479   0.39470301   0.28363039    -10733.19   -17787.397    -12849.03 
    7900    290.83147    22119.359   -571.46245     6.748744    6.2593187    22.586569      2.81455   0.37551174 -0.069385148    32278.089     12486.43    21593.558 
    8000    321.66984    2075.8431   -571.55419     6.836508    6.2487988    22.722064     2.849435   0.34918683  -0.26598084    1524.8771    7112.5012   -2409.8489 
    8100    284.20394   -10199.687   -571.56383    6.9497955    6.2517992     22.68472    2.9282469    0.3710893  -0.20263719   -23938.825   -1537.0909   -5123.1464 
    8200    291.58348   -2255.0481   -571.59687    6.8793908    6.2645991    22.538546    2.9281481   0.24207382  -0.13648456   -3700.4547     4076.465   -7141.1546 
    8300    266.57518    4095.0626   -571.63171    6.8349692    6.3116266    22.743206    2.8975556   0.10578228 0.0042267495    14559.981   -6716.8876    4442.0945 
    8400    301.33072    13591.312   -571.68459    6.8377266    6.2545287    22.863965    2.8781184   0.15193792 -0.014075054    34157.049   -1028.3642    7645.2526 
    8500    311.18747    5920.1007   -571.69838    6.9116547    6.1608486    22.647498    2.9048215   0.10541895   -0.1712788    7248.3852    12385.208   -1873.2907 
    8600    249.13708   -20879.989   -571.71258     6.944254    6.2662187    22.587105    2.9053004 -0.057118686  -0.25528543   -21966.264    -26421.97   -14251.732 
    8700    272.55597    3674.2275   -571.72443    6.8105172    6.3120406    22.614079    2.8742884  -0.17680076   -0.1381333    6328.9232    2532.8839    2160.8754 
    8800    252.83384    6995.1425   -571.71977    6.7701681    6.2824839    22.731057     2.874238 -0.051561123 -0.0037541464    10774.465    5326.5126    4884.4497 
    8900    265.40758   -2435.8513   -571.74921    6.9320118    6.2101531    22.766113    2.9438552   0.18089201  0.018704307    -8760.776    2692.5645   -1239.3424 
    9000    288.12004    -2512.854   -571.68306    6.9788935    6.1625003    22.591618     2.929481   0.23584518  0.056096767   -19562.773    5894.0354     6130.176 
    9100    278.86667   -14749.396   -571.74055    6.8800125    6.2390743    22.694931    2.8275575  0.046169708   0.13906691   -16107.378   -17858.493   -10282.319 
    9200     265.3233    6353.5185   -571.62833     6.773956     6.273198    22.625659    2.7575119  -0.25090865   0.23120661    12833.043    8037.0874    -1809.575 
    9300    288.46406    3037.7331   -571.70367    6.8695382     6.262826    22.733332    2.8147934  -0.27313125  0.086096779    1129.0114   -3154.1899    11138.378 
    9400    252.66436   -6278.1075   -571.65204    6.9716726    6.1686602    22.785333    2.9093328   0.01801238  -0.31983472   -14433.544    -5499.182    1098.4034 
    9500    310.24384     1936.108   -571.56202      6.92038    6.1443626    22.694855    2.9069557   0.26178117  -0.63466055   -7120.9217    15198.262   -2269.0164 
    9600    279.37867   -881.32111   -571.61889    6.7759841    6.2842681    22.786821    2.8234912   0.29717443  -0.48969198    2406.5074     1264.759   -6315.2298 
    9700    287.74456    2853.8723   -571.50766    6.6888666    6.3396752    22.647684    2.7296782   0.15524658 -0.091576417    17250.125   -17839.016    9150.5071 
    9800    301.27573   -4415.4601   -571.65109    6.8570053    6.2329191    22.698193    2.7340884   0.14053903    0.4883055   -7551.1302   -3841.9428   -1853.3073 
    9900     316.2077   -1744.7904    -571.3921    7.0054538    6.1172211    22.499719    2.7718061   0.19075822   0.93232579    -20054.13    14152.999     666.7598 
   10000    290.85319    176.17118   -571.40831    6.9487994     6.162509    22.602937    2.7396508   0.24285321    1.0148869   -12740.518    16766.437   -3497.4055 
   10100    333.67845    2922.9095   -571.41994    6.7490252    6.2548772    22.639982    2.7019864   0.20651981    0.8350784    6692.5597    2204.3884   -128.21947 
   10200    306.11728    11918.517   -571.34676    6.6943606    6.3176555    22.530638    2.7494747   0.18182983   0.42765025    27909.097   -4059.0422    11905.497 
   10204    304.91905    3242.1574   -571.35371    6.6986987    6.3188838    22.538443    2.7531537   0.18248192   0.41001667    13521.578   -12710.715    8915.6097 
Loop time of 2896.77 on 1 procs for 10000 steps with 88 atoms

Performance: 0.298 ns/day, 80.466 hours/ns, 3.452 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2896.4     | 2896.4     | 2896.4     |   0.0 | 99.99
Neigh   | 0.13976    | 0.13976    | 0.13976    |   0.0 |  0.00
Comm    | 0.058446   | 0.058446   | 0.058446   |   0.0 |  0.00
Output  | 0.0066876  | 0.0066876  | 0.0066876  |   0.0 |  0.00
Modify  | 0.17656    | 0.17656    | 0.17656    |   0.0 |  0.01
Other   |            | 0.03454    |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7220.00 ave        7220 max        7220 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7220
Ave neighs/atom = 82.045455
Neighbor list builds = 198
Dangerous builds = 0

unfix 123

# Compute initial state

variable thermostat equal 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"


run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 3.088 | 3.088 | 3.088 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    304.91905   -574.78271    3242.1677            0            0            0            0            0            0 
     100    324.21931   -575.00201   -4584.7975    15696.298   -8452.8516    6356.1979   -3641.3494   -2993.9653    1389.6101 
     200    305.71132   -574.78607    15065.653    17767.434   -2850.4672    9258.8564   -3773.9757   -1818.6944   -2437.6366 
     300    304.47134    -574.7865    18562.962    18293.399   -6369.9588    4238.9713   -816.54877   -4857.3111   -9585.7642 
     400    306.83148   -574.79822    19599.061    14735.244   -598.89314    12232.302   -5612.3572   -1115.1777   -3217.3383 
     500    279.87521   -574.49554    1736.1213    13056.881   -3203.9524    1607.2327   -2068.4333   -2882.3792    3861.4065 
     600    295.49685   -574.67999   -508.42164     15075.45   -10545.739    7148.9947   -1222.5578   -5601.4815    2772.6217 
     700    274.92284   -574.44202    1851.6623    13294.154   -4672.5232    3146.4279   -394.26483    1028.1398   -3137.1645 
     800    270.88703   -574.37671     18342.19    7840.0749   -3464.4784    8722.6355    -3836.182   -793.74443   -2714.5218 
     900    277.42349   -574.45923    -616.4842    11895.745   -3743.5306     8894.132    56.195965     1524.267   -2542.6587 
    1000    274.16642   -574.41174    16825.981    13671.059   -3734.0889    523.82442   -2919.8754     -7145.04    -779.6716 
Loop time of 262.869 on 1 procs for 1000 steps with 88 atoms

Performance: 0.329 ns/day, 73.019 hours/ns, 3.804 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 262.85     | 262.85     | 262.85     |   0.0 | 99.99
Neigh   | 0.0047729  | 0.0047729  | 0.0047729  |   0.0 |  0.00
Comm    | 0.0044575  | 0.0044575  | 0.0044575  |   0.0 |  0.00
Output  | 0.00051594 | 0.00051594 | 0.00051594 |   0.0 |  0.00
Modify  | 0.0039704  | 0.0039704  | 0.0039704  |   0.0 |  0.00
Other   |            | 0.002496   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7218.00 ave        7218 max        7218 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7218
Ave neighs/atom = 82.022727
Neighbor list builds = 11
Dangerous builds = 0

if "${adiabatic} == 1" then "variable thermostat equal 0" else "variable thermostat equal 1"
variable thermostat equal 1

print ${thermostat}
print 1
1

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 3.088 | 3.088 | 3.088 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    274.16642   -574.41174    16825.945            0            0            0            0            0            0 
     100    329.28087   -574.72443    7791.8534    19228.736    5207.5475    9157.8039   -637.98087   -3362.7693    35.423676 
     200    287.92529   -574.67786    6731.9547     19390.61   -766.41579    6293.9606    -2593.326   -5099.0962   -2093.2922 
     300    279.71172   -574.06042    12690.156     20286.44   -5546.2008    5741.3331   -6339.4212   -4871.9507   -3125.3367 
Loop time of 82.2572 on 1 procs for 300 steps with 88 atoms

Performance: 0.315 ns/day, 76.164 hours/ns, 3.647 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 82.251     | 82.251     | 82.251     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0012629  | 0.0012629  | 0.0012629  |   0.0 |  0.00
Output  | 0.00013494 | 0.00013494 | 0.00013494 |   0.0 |  0.00
Modify  | 0.0037446  | 0.0037446  | 0.0037446  |   0.0 |  0.00
Other   |            | 0.0007682  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1037.00 ave        1037 max        1037 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7148.00 ave        7148 max        7148 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7148
Ave neighs/atom = 81.227273
Neighbor list builds = 0
Dangerous builds = 0

variable pxx0 equal f_avp[1]
variable pyy0 equal f_avp[2]
variable pzz0 equal f_avp[3]
variable pxy0 equal f_avp[4]
variable pxz0 equal f_avp[5]
variable pyz0 equal f_avp[6]

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 6.69869865883813
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 6.31888381027747
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 22.5384426452898

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-20286.4395292476)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-20286.4395292476)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--5546.20083479102)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--5546.20083479102)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-5741.33312474155)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-5741.33312474155)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--3125.33669790163)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--3125.33669790163)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--4871.95074624504)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--4871.95074624504)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--6339.42117019902)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--6339.42117019902)/(v_delta/v_len0)*0.0001

# Write restart
write_restart restart.equil
System init for write_restart ...

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 6.69869865883813
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*6.69869865883813
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.133973973176763 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.133973973176763 xy delta -0.0550630742420238 xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.133973973176763 xy delta -0.0550630742420238 xz delta -0.00820033334967695 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.6172254 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.6172254 6.2518494 22.471945) with tilt (2.6980906 0.41001667 0.18248192)
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.6172254 6.2518494 22.471945) with tilt (2.6980906 0.40181633 0.18248192)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.963 | 2.963 | 2.963 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.39276    43825.329            0            0            0            0            0            0 
     100    333.02699    -574.5448    21721.808    42460.076    14040.463    15730.875   -1760.4424    852.84316   -1406.0264 
     200    288.41244   -574.50262    20213.916    44756.826    7992.8042    12344.971   -2692.8051   -2930.0552   -3162.7194 
     300    280.79776   -573.62787    27357.919    46067.954     5216.884    12664.403   -6300.1104   -1961.4825   -4483.8956 
     400    298.31243   -574.53802    12006.322    35598.269    5767.3174    10996.939    1331.9857   -947.54038   -3164.5916 
     500    314.09607   -574.14813    24761.938     37925.45    15247.464    13126.103   -4138.0243   -3888.0926    1993.0539 
     600    318.98586   -574.38898    21901.673    41783.874     4642.221    12096.044   -8137.8335    -4412.133   -7425.8803 
     700    291.35383   -574.21375    25432.534    37897.331    6855.7566    11585.341   -3589.5033    -3112.906   -3792.1868 
     800    296.95251    -574.2489    17872.876    43538.386    9356.1877    19676.002   -2665.9249   -1267.8967   -2440.3025 
     900    304.73211   -574.38361    22798.111    39585.324    9794.9752    16697.225   -3793.1442    -2384.331   -1816.0199 
    1000    357.35551   -574.42218    8151.0375    37346.218    10646.356    15483.295   -3905.9002   -1319.2751   -4749.8929 
Loop time of 264.422 on 1 procs for 1000 steps with 88 atoms

Performance: 0.327 ns/day, 73.450 hours/ns, 3.782 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 264.4      | 264.4      | 264.4      |   0.0 | 99.99
Neigh   | 0.004427   | 0.004427   | 0.004427   |   0.0 |  0.00
Comm    | 0.0046873  | 0.0046873  | 0.0046873  |   0.0 |  0.00
Output  | 0.00061655 | 0.00061655 | 0.00061655 |   0.0 |  0.00
Modify  | 0.012539   | 0.012539   | 0.012539   |   0.0 |  0.00
Other   |            | 0.00247    |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1061.00 ave        1061 max        1061 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7350.00 ave        7350 max        7350 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7350
Ave neighs/atom = 83.522727
Neighbor list builds = 4
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.963 | 2.963 | 2.963 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    357.35551   -574.42218     8151.028            0            0            0            0            0            0 
     100    318.93098   -574.26898     13825.02    30436.251    9798.6188     8551.807   -600.92375   -55.256453   -3896.1482 
     200    298.23827   -574.46973    17089.467    37387.174    5255.6436     11297.79   -1411.2979   -1333.7642   -3981.3553 
     300    285.97908   -573.72961    26505.891    41927.679    4868.0602    10780.912   -5114.7422   -1679.3102   -4781.6448 
Loop time of 80.0983 on 1 procs for 300 steps with 88 atoms

Performance: 0.324 ns/day, 74.165 hours/ns, 3.745 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 80.093     | 80.093     | 80.093     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013072  | 0.0013072  | 0.0013072  |   0.0 |  0.00
Output  | 0.00017118 | 0.00017118 | 0.00017118 |   0.0 |  0.00
Modify  | 0.0035155  | 0.0035155  | 0.0035155  |   0.0 |  0.00
Other   |            | 0.0007579  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1055.00 ave        1055 max        1055 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7344.00 ave        7344 max        7344 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7344
Ave neighs/atom = 83.454545
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 108.206197370237
variable C2neg equal ${d2}
variable C2neg equal 52.0713050106682
variable C3neg equal ${d3}
variable C3neg equal 25.1978922133502
variable C4neg equal ${d4}
variable C4neg equal -8.28154026664153
variable C5neg equal ${d5}
variable C5neg equal 15.9632025834846
variable C6neg equal ${d6}
variable C6neg equal 6.12339495321668

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*6.69869865883813
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.133973973176763 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.133973973176763 xy delta 0.0550630742420238 xz delta ${deltaxz} remap units box
change_box all x delta 0 0.133973973176763 xy delta 0.0550630742420238 xz delta 0.00820033334967695 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.8851733 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.8851733 6.2518494 22.471945) with tilt (2.8082168 0.41001667 0.18248192)
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.8851733 6.2518494 22.471945) with tilt (2.8082168 0.41821700 0.18248192)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172    -574.0592   -14858.599            0            0            0            0            0            0 
     100    333.04667    -574.7796    -6932.617   -11401.516    -6211.499      348.011    1594.9994    440.57831   -1407.4309 
     200    288.19924   -574.73553   -6526.4659   -5245.2778   -10917.766   -1636.7268   -123.85583   -1963.0124   -2864.9681 
     300    277.64053   -573.79187    619.67225   -1331.6547   -13811.305   -691.27369   -3920.5972   -1396.2007   -4116.3543 
     400    298.99382   -574.72876   -13486.413   -10468.298   -12761.011   -1100.2746    2606.2096   -1075.8558   -2965.7547 
     500      311.502   -574.33514   -246.21676   -8998.2443   -2935.3916   -93.402055    -2092.845    -3261.812    1663.4403 
     600    317.93583    -574.6507   -4172.0784   -5682.7353   -13200.738    22.711549   -5414.7358   -4049.4838   -7269.7012 
     700    296.96881    -574.5163   -1564.4921     -9390.83   -11196.571   -1332.7512    -1332.271   -2665.2467   -3534.5532 
     800    296.79778   -574.52673   -6615.5781   -697.93261   -9307.2173     6950.541   -397.59844   -1930.2203   -3373.7671 
     900    304.07143   -574.57379   -5156.4433   -6032.6363   -8743.0745    3462.6767   -1375.2367   -4239.0804   -2660.1145 
    1000    348.84907   -574.62939   -18178.198   -10290.667   -6864.9764    3388.0647   -1767.7851    -3230.108   -5864.6383 
Loop time of 256.886 on 1 procs for 1000 steps with 88 atoms

Performance: 0.336 ns/day, 71.357 hours/ns, 3.893 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 256.86     | 256.86     | 256.86     |   0.0 | 99.99
Neigh   | 0.0022697  | 0.0022697  | 0.0022697  |   0.0 |  0.00
Comm    | 0.0053453  | 0.0053453  | 0.0053453  |   0.0 |  0.00
Output  | 0.00067687 | 0.00067687 | 0.00067687 |   0.0 |  0.00
Modify  | 0.0146     | 0.0146     | 0.0146     |   0.0 |  0.01
Other   |            | 0.002842   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1031.00 ave        1031 max        1031 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7030.00 ave        7030 max        7030 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7030
Ave neighs/atom = 79.886364
Neighbor list builds = 2
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    348.84907   -574.62939   -18178.199            0            0            0            0            0            0 
     100    328.04072   -574.61462    -10958.62   -14294.965   -8122.7736   -3634.8387    508.40351   -1264.6115   -3598.6357 
     200     297.6984   -574.62518   -8220.7341   -8622.8035     -13555.9   -696.18986    160.70689   -1680.5228   -3282.5472 
     300    280.45175     -573.901    -742.6906   -5081.9542   -14475.774   -1263.3381   -3435.8352   -2063.2643   -4756.1833 
Loop time of 80.996 on 1 procs for 300 steps with 88 atoms

Performance: 0.320 ns/day, 74.996 hours/ns, 3.704 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 80.99      | 80.99      | 80.99      |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013704  | 0.0013704  | 0.0013704  |   0.0 |  0.00
Output  | 0.00015402 | 0.00015402 | 0.00015402 |   0.0 |  0.00
Modify  | 0.0037231  | 0.0037231  | 0.0037231  |   0.0 |  0.00
Other   |            | 0.000731   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1034.00 ave        1034 max        1034 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7006.00 ave        7006 max        7006 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7006
Ave neighs/atom = 79.613636
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 126.841968571487
variable C2pos equal ${d2}
variable C2pos equal 44.6478676832058
variable C3pos equal ${d3}
variable C3pos equal 35.0233562437819
variable C4pos equal ${d4}
variable C4pos equal 8.15423287428658
variable C5pos equal ${d5}
variable C5pos equal -14.0434320866109
variable C6pos equal ${d6}
variable C6pos equal -14.5179299667873

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(108.206197370237+${C1pos})
variable C11 equal 0.5*(108.206197370237+126.841968571487)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(52.0713050106682+${C2pos})
variable C21 equal 0.5*(52.0713050106682+44.6478676832058)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(25.1978922133502+${C3pos})
variable C31 equal 0.5*(25.1978922133502+35.0233562437819)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-8.28154026664153+${C4pos})
variable C41 equal 0.5*(-8.28154026664153+8.15423287428658)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(15.9632025834846+${C5pos})
variable C51 equal 0.5*(15.9632025834846+-14.0434320866109)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(6.12339495321668+${C6pos})
variable C61 equal 0.5*(6.12339495321668+-14.5179299667873)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 6.31888381027747
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*6.31888381027747
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -0.126377676205549 yz delta ${deltayz} remap units box
change_box all y delta 0 -0.126377676205549 yz delta -0.00364963846911457 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.1254717 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.1254717 22.471945) with tilt (2.7531537 0.41001667 0.17883228)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.964 | 2.964 | 2.964 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.88226    42008.319            0            0            0            0            0            0 
     100    333.97155   -574.78192    21519.163    24740.304    31690.441    18170.964   -3509.9976    652.71005   -999.36684 
     200    289.47263   -574.71057    21184.623    28562.572     24222.54    14453.448   -4733.3308   -2632.6916   -2831.5898 
     300    277.73887   -573.74158    28126.194    31101.265    21444.429     14608.05   -7996.2953   -1828.4617   -4315.4691 
     400    297.35849   -574.67999    13723.129    21465.114    21579.996    13478.217   -751.12993   -1210.2407   -3047.5234 
     500    309.76585   -574.29236    26884.376    23480.336    30225.468    15878.379   -6454.8656   -3270.2976    2152.1359 
     600    321.82237   -574.57306    23045.985    27870.607    19812.831    15383.779   -9677.3875   -4275.6621   -7007.0991 
     700    293.95739   -574.44519    26402.377    22287.864    21691.972    13787.692   -5619.8095   -2830.9258   -3633.0336 
     800    300.02837   -574.47491    19612.639     30192.84    26359.508    22942.824   -4195.4122   -1196.2323    -3425.809 
     900    311.54757    -574.4776    23174.221    26022.362    25797.433     19716.46   -5894.8014   -2788.8572   -2672.4912 
    1000    351.14024   -574.43402    8880.5888    20464.609    26199.133    19414.466   -5246.5028   -2349.4877   -5331.0545 
Loop time of 262.719 on 1 procs for 1000 steps with 88 atoms

Performance: 0.329 ns/day, 72.978 hours/ns, 3.806 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 262.69     | 262.69     | 262.69     |   0.0 | 99.99
Neigh   | 0.0025389  | 0.0025389  | 0.0025389  |   0.0 |  0.00
Comm    | 0.005672   | 0.005672   | 0.005672   |   0.0 |  0.00
Output  | 0.00066876 | 0.00066876 | 0.00066876 |   0.0 |  0.00
Modify  | 0.014715   | 0.014715   | 0.014715   |   0.0 |  0.01
Other   |            | 0.002748   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1064.00 ave        1064 max        1064 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7336.00 ave        7336 max        7336 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7336
Ave neighs/atom = 83.363636
Neighbor list builds = 3
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.964 | 2.964 | 2.964 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    351.14024   -574.43396    8880.5988            0            0            0            0            0            0 
     100     320.5684   -574.48065    13637.075    14455.679    26325.872    10419.577   -3131.0019    120.47588   -3961.9773 
     200     303.8143   -574.59784    16177.015    20196.091    19809.247    12503.744   -4575.9959   -679.10947   -2362.2057 
     300    286.71537   -573.96521    25245.696    24365.826    19548.165     10505.68   -5271.5004   -565.12828   -3359.9472 
Loop time of 83.7691 on 1 procs for 300 steps with 88 atoms

Performance: 0.309 ns/day, 77.564 hours/ns, 3.581 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 83.761     | 83.761     | 83.761     |   0.0 | 99.99
Neigh   | 0.00095081 | 0.00095081 | 0.00095081 |   0.0 |  0.00
Comm    | 0.0016353  | 0.0016353  | 0.0016353  |   0.0 |  0.00
Output  | 0.00023079 | 0.00023079 | 0.00023079 |   0.0 |  0.00
Modify  | 0.0041995  | 0.0041995  | 0.0041995  |   0.0 |  0.01
Other   |            | 0.0008452  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1058.00 ave        1058 max        1058 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7398.00 ave        7398 max        7398 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7398
Ave neighs/atom = 84.068182
Neighbor list builds = 1
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 20.3969323248811
variable C2neg equal ${d2}
variable C2neg equal 125.471831019834
variable C3neg equal ${d3}
variable C3neg equal 23.8217334895548
variable C4neg equal ${d4}
variable C4neg equal -1.17305258498665
variable C5neg equal ${d5}
variable C5neg equal 21.5341123147047
variable C6neg equal ${d6}
variable C6neg equal 5.33960392523522

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*6.31888381027747
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 0.126377676205549 yz delta ${deltayz} remap units box
change_box all y delta 0 0.126377676205549 yz delta 0.00364963846911457 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.3782271 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.3782271 22.471945) with tilt (2.7531537 0.41001667 0.18613156)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.961 | 2.961 | 2.961 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.64709   -13255.703            0            0            0            0            0            0 
     100    331.87235   -574.55438   -6427.9196    3936.5729   -21492.168   -1790.9874    3835.4191    566.40326   -1820.8265 
     200    287.01008   -574.52417   -7067.8432    9218.0208   -24367.142   -3544.5979    2523.6451   -2358.8209   -3316.4942 
     300    280.02952    -573.6571    217.22151    11790.349    -27029.37   -2576.4916   -1524.8305   -1591.7887   -4408.9205 
     400    298.86976   -574.58459   -14776.956    2027.2787   -26061.834   -3657.0788    5358.1736    -899.3641   -3403.0105 
     500     318.1517   -574.10907   -1229.0627    3832.0571   -15285.897   -1742.0132    424.33391    -3179.258    2057.1922 
     600    308.18315   -574.29926      -3156.6    7358.8099   -23457.185   -2965.3356   -2672.3975   -3597.5704   -6203.4607 
     700    290.13812   -574.16626   -132.81578    3589.8456   -21909.901   -3374.5211    1608.2846   -2878.4818   -2074.2576 
     800    287.27949   -574.12207   -8682.1568    11419.075   -24053.838    3952.6981    1872.6543   -2270.4454   -1384.3329 
     900      312.327   -574.29022   -5727.1716    4695.4812    -23131.31    101.66889    981.48567   -5192.3952   -1242.8412 
    1000    340.01873   -574.44067   -18066.151    3002.9198   -19910.896    220.80184    1268.4361   -3662.2674   -3657.8924 
Loop time of 251.951 on 1 procs for 1000 steps with 88 atoms

Performance: 0.343 ns/day, 69.986 hours/ns, 3.969 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 251.93     | 251.93     | 251.93     |   0.0 | 99.99
Neigh   | 0.0023241  | 0.0023241  | 0.0023241  |   0.0 |  0.00
Comm    | 0.0046468  | 0.0046468  | 0.0046468  |   0.0 |  0.00
Output  | 0.00055456 | 0.00055456 | 0.00055456 |   0.0 |  0.00
Modify  | 0.01325    | 0.01325    | 0.01325    |   0.0 |  0.01
Other   |            | 0.002706   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7046.00 ave        7046 max        7046 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7046
Ave neighs/atom = 80.068182
Neighbor list builds = 3
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.961 | 2.961 | 2.961 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    340.01873   -574.44067   -18066.139            0            0            0            0            0            0 
     100    333.84889    -574.2572   -11897.914   -546.29401   -21101.311   -7901.2291     4495.416   -2858.7485   -2343.8375 
     200    291.69365   -574.29657   -9501.8389    2230.0421   -23509.659    -4983.932    2383.9094   -2354.5625    -4317.014 
     300    301.81503    -573.7132   -310.95593    6797.5819    -25582.19   -1944.2247   -960.10636   -4542.5816   -5928.6158 
Loop time of 80.5217 on 1 procs for 300 steps with 88 atoms

Performance: 0.322 ns/day, 74.557 hours/ns, 3.726 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 80.516     | 80.516     | 80.516     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0012343  | 0.0012343  | 0.0012343  |   0.0 |  0.00
Output  | 0.00014281 | 0.00014281 | 0.00014281 |   0.0 |  0.00
Modify  | 0.003551   | 0.003551   | 0.003551   |   0.0 |  0.00
Other   |            | 0.0007372  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1025.00 ave        1025 max        1025 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7046.00 ave        7046 max        7046 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7046
Ave neighs/atom = 80.068182
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 67.4442882806586
variable C2pos equal ${d2}
variable C2pos equal 100.179947239147
variable C3pos equal ${d3}
variable C3pos equal 38.4277893230626
variable C4pos equal ${d4}
variable C4pos equal 14.0163956968425
variable C5pos equal ${d5}
variable C5pos equal -1.64684576178715
variable C6pos equal ${d6}
variable C6pos equal -26.8965740358005

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(20.3969323248811+${C1pos})
variable C12 equal 0.5*(20.3969323248811+67.4442882806586)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(125.471831019834+${C2pos})
variable C22 equal 0.5*(125.471831019834+100.179947239147)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(23.8217334895548+${C3pos})
variable C32 equal 0.5*(23.8217334895548+38.4277893230626)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-1.17305258498665+${C4pos})
variable C42 equal 0.5*(-1.17305258498665+14.0163956968425)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(21.5341123147047+${C5pos})
variable C52 equal 0.5*(21.5341123147047+-1.64684576178715)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(5.33960392523522+${C6pos})
variable C62 equal 0.5*(5.33960392523522+-26.8965740358005)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 22.5384426452898
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*22.5384426452898
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -0.450768852905796 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.021176) with tilt (2.7531537 0.41001667 0.18248192)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.61719     40373.49            0            0            0            0            0            0 
     100    330.74331   -574.66986    22234.852    21825.244      13607.1    39424.127   -2900.8402    576.67157   -1506.5645 
     200    289.34833   -574.58905    20905.851    25832.067    7823.8249    34385.702   -3847.5152   -2902.1415   -3427.6869 
     300    278.49059   -573.63275    27522.961    28087.931    4163.7102    33284.876   -7609.2432   -1974.0742   -5358.0133 
     400    298.52627   -574.57922    13316.465    18109.526    4611.8983    32307.978   -592.02187   -1065.2234   -4213.5676 
     500    311.40032   -574.21252    26728.377    20275.163    15221.461     34244.11   -5429.6894   -3345.5021    904.41196 
     600    320.15093    -574.4502    23674.634    23696.694    3985.1541    34007.984   -9097.3626   -4296.6477   -7999.1484 
     700    293.14976   -574.30426    26163.057    19696.377     6103.137    33111.977   -4680.8591   -3061.4212   -4154.8379 
     800     300.8762   -574.29535    19971.887    26993.626    8847.3653    41263.061   -4198.6294   -1519.4687   -3281.0903 
     900    307.24314   -574.43158    22030.384    21866.125    9754.9046    37649.247   -5045.1155   -2951.0906   -2385.5498 
    1000    355.01342   -574.48999    8106.9986    18336.041    11156.827    36553.455   -5783.2384   -1875.7294   -5389.1735 
Loop time of 265.467 on 1 procs for 1000 steps with 88 atoms

Performance: 0.325 ns/day, 73.741 hours/ns, 3.767 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 265.44     | 265.44     | 265.44     |   0.0 | 99.99
Neigh   | 0.0026376  | 0.0026376  | 0.0026376  |   0.0 |  0.00
Comm    | 0.004616   | 0.004616   | 0.004616   |   0.0 |  0.00
Output  | 0.00053906 | 0.00053906 | 0.00053906 |   0.0 |  0.00
Modify  | 0.012377   | 0.012377   | 0.012377   |   0.0 |  0.00
Other   |            | 0.002469   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1040.00 ave        1040 max        1040 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7314.00 ave        7314 max        7314 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7314
Ave neighs/atom = 83.113636
Neighbor list builds = 3
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    355.01342   -574.48999    8107.0292            0            0            0            0            0            0 
     100    323.45343   -574.39606    14969.366    12949.253    9466.5717     28682.05   -2302.5787   -683.85123   -4365.0355 
     200    297.84501   -574.48138    17119.776    19142.122    4889.3294    31385.436   -2682.6188    -1794.089    -4325.831 
     300     285.7324   -573.73798     26724.79    23968.782    3730.2181     31071.06   -6723.3039   -1647.0026   -5638.4954 
Loop time of 81.2222 on 1 procs for 300 steps with 88 atoms

Performance: 0.319 ns/day, 75.206 hours/ns, 3.694 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 81.214     | 81.214     | 81.214     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017717  | 0.0017717  | 0.0017717  |   0.0 |  0.00
Output  | 0.00019622 | 0.00019622 | 0.00019622 |   0.0 |  0.00
Modify  | 0.005049   | 0.005049   | 0.005049   |   0.0 |  0.01
Other   |            | 0.0009665  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1046.00 ave        1046 max        1046 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7338.00 ave        7338 max        7338 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7338
Ave neighs/atom = 83.386364
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 18.4117134423695
variable C2neg equal ${d2}
variable C2neg equal 46.3820948015909
variable C3neg equal ${d3}
variable C3neg equal 126.648636151985
variable C4neg equal ${d4}
variable C4neg equal -12.5657932618406
variable C5neg equal ${d5}
variable C5neg equal 16.1247406089327
variable C6neg equal ${d6}
variable C6neg equal -1.91941345069535

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*22.5384426452898
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 0.450768852905796 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.922713) with tilt (2.7531537 0.41001667 0.18248192)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.91705   -11723.283            0            0            0            0            0            0 
     100    334.75582   -574.62067   -7660.4091    6214.1941   -5969.6526   -21057.279    2862.7699    562.02692    -1364.326 
     200    286.98617   -574.60913   -7553.0035    11276.544   -11000.175   -21590.727    1178.8603   -2108.5228   -2656.7498 
     300    280.35474   -573.75623    85.754644    14111.726    -13222.43   -19390.616   -2302.2184   -1591.9534   -3363.9983 
     400    297.82299   -574.63379   -15275.052    4780.0639   -12237.575   -20761.688    4628.7909   -1109.5861   -2092.6588 
     500    316.07759    -574.1723   -1845.5476    6583.4065   -3142.9897   -19160.902   -553.03387   -3619.9343    2588.7258 
     600     317.5324   -574.55664   -6200.1596    10132.122   -12980.775   -19967.132   -3972.8581   -4403.4103   -6862.2563 
     700    295.81858   -574.35986   -2734.0967    6608.4484   -11046.396   -21078.188    146.13283   -2901.8122   -3293.4938 
     800    293.49337   -574.39886   -8419.3579    14151.368   -9023.8083   -12718.211    1397.0285   -2111.5578   -2517.6246 
     900    306.52955   -574.54211   -5898.7705    8669.6508   -8799.0115   -15980.798    251.69926   -4150.8736    -1967.616 
    1000    356.23446   -574.54584   -17732.173    6224.9667   -7578.0933   -15724.595    73.373257   -2441.7462   -5442.8376 
Loop time of 256.665 on 1 procs for 1000 steps with 88 atoms

Performance: 0.337 ns/day, 71.296 hours/ns, 3.896 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 256.64     | 256.64     | 256.64     |   0.0 | 99.99
Neigh   | 0.003124   | 0.003124   | 0.003124   |   0.0 |  0.00
Comm    | 0.0054955  | 0.0054955  | 0.0054955  |   0.0 |  0.00
Output  | 0.00066018 | 0.00066018 | 0.00066018 |   0.0 |  0.00
Modify  | 0.015764   | 0.015764   | 0.015764   |   0.0 |  0.01
Other   |            | 0.003022   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1034.00 ave        1034 max        1034 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7016.00 ave        7016 max        7016 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7016
Ave neighs/atom = 79.727273
Neighbor list builds = 3
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    356.23446   -574.54584   -17732.189            0            0            0            0            0            0 
     100    326.23056    -574.4798   -12827.301    383.40786   -7935.6754   -22580.581    2724.9262   -1036.9153   -3613.3276 
     200    297.23993   -574.59265   -9448.7518    6307.6007   -13130.949   -20044.534    1878.7205   -1625.2473   -3280.8001 
     300    281.76642   -573.86017   -555.41647    10614.377   -13593.341   -19653.855    -1806.897   -2236.8527   -4120.2343 
Loop time of 77.7935 on 1 procs for 300 steps with 88 atoms

Performance: 0.333 ns/day, 72.031 hours/ns, 3.856 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 77.786     | 77.786     | 77.786     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015526  | 0.0015526  | 0.0015526  |   0.0 |  0.00
Output  | 0.00021267 | 0.00021267 | 0.00021267 |   0.0 |  0.00
Modify  | 0.0044494  | 0.0044494  | 0.0044494  |   0.0 |  0.01
Other   |            | 0.0008998  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1037.00 ave        1037 max        1037 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7062.00 ave        7062 max        7062 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7062
Ave neighs/atom = 80.250000
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 48.360310991514
variable C2pos equal ${d2}
variable C2pos equal 40.2357017365389
variable C3pos equal ${d3}
variable C3pos equal 126.975942166199
variable C4pos equal ${d4}
variable C4pos equal 4.97448798716745
variable C5pos equal ${d5}
variable C5pos equal -13.175490253716
variable C6pos equal ${d6}
variable C6pos equal -22.6626207105889

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(18.4117134423695+${C1pos})
variable C13 equal 0.5*(18.4117134423695+48.360310991514)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(46.3820948015909+${C2pos})
variable C23 equal 0.5*(46.3820948015909+40.2357017365389)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(126.648636151985+${C3pos})
variable C33 equal 0.5*(126.648636151985+126.975942166199)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(-12.5657932618406+${C4pos})
variable C43 equal 0.5*(-12.5657932618406+4.97448798716745)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(16.1247406089327+${C5pos})
variable C53 equal 0.5*(16.1247406089327+-13.175490253716)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(-1.91941345069535+${C6pos})
variable C63 equal 0.5*(-1.91941345069535+-22.6626207105889)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 22.5384426452898
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*22.5384426452898
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -0.450768852905796 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 -0.26828693)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -574.02368    13225.916            0            0            0            0            0            0 
     100     333.9759   -574.77094    6651.3498    13727.174    3611.8831    7645.2583    15.304687   -1365.8998    6872.8607 
     200    288.71717   -574.76117    5914.3076    18257.793    -1669.269    4538.8517   -1244.0184   -4590.4066    4378.0013 
     300     279.7785   -573.83777    12890.603     20835.66   -4576.4587    4968.3978   -4891.1683   -3927.5015    2494.4439 
     400    299.41246   -574.76025   -1500.7708    11070.053   -3658.8599    4214.0458    2056.9455   -2780.4158     3862.709 
     500      310.749   -574.34839    11726.205    13102.892    5617.4754    5554.2384   -2866.1548   -5454.9919    8505.9649 
     600    320.30675   -574.63171    8062.2727    17116.123   -4319.9401    5205.2627   -6393.9364   -6136.6903   -812.48703 
     700     294.5262   -574.49249    11063.298    12830.988   -2698.1791    4304.9157   -2138.1291   -4771.3091    2769.1748 
     800    297.89511     -574.526    5025.8867    20860.113   -679.14575    13064.021   -1219.3007   -3870.3019    3667.6267 
     900    307.49001   -574.52966    8730.3807    16437.734    34.539329    10070.596   -2446.8594   -5393.8007    4372.1098 
    1000    352.66237   -574.63873   -5680.2328    12129.262     1109.017    9270.3879   -2766.8217   -4287.4599     1188.453 
Loop time of 260.722 on 1 procs for 1000 steps with 88 atoms

Performance: 0.331 ns/day, 72.423 hours/ns, 3.835 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 260.7      | 260.7      | 260.7      |   0.0 | 99.99
Neigh   | 0.004858   | 0.004858   | 0.004858   |   0.0 |  0.00
Comm    | 0.0049453  | 0.0049453  | 0.0049453  |   0.0 |  0.00
Output  | 0.00058007 | 0.00058007 | 0.00058007 |   0.0 |  0.00
Modify  | 0.013534   | 0.013534   | 0.013534   |   0.0 |  0.01
Other   |            | 0.00259    |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1049.00 ave        1049 max        1049 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7180.00 ave        7180 max        7180 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7180
Ave neighs/atom = 81.590909
Neighbor list builds = 4
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    352.66237   -574.63873   -5680.2559            0            0            0            0            0            0 
     100    321.54419    -574.5658    534.07782    6399.3673     298.3675    1862.3128   -46.021955   -2480.7642    2708.9195 
     200    298.96105   -574.66833    3498.5008      13054.3   -4434.6861    4327.8909   -286.31162   -3182.1059    2703.8659 
     300     282.6441   -573.93433    11930.007    17490.033   -5147.2746    3592.4824   -4082.4666   -3761.4686    1406.6048 
Loop time of 82.4807 on 1 procs for 300 steps with 88 atoms

Performance: 0.314 ns/day, 76.371 hours/ns, 3.637 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 82.475     | 82.475     | 82.475     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013413  | 0.0013413  | 0.0013413  |   0.0 |  0.00
Output  | 0.000175   | 0.000175   | 0.000175   |   0.0 |  0.00
Modify  | 0.0038171  | 0.0038171  | 0.0038171  |   0.0 |  0.00
Other   |            | 0.0007501  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7196.00 ave        7196 max        7196 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7196
Ave neighs/atom = 81.772727
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -13.9820314565645
variable C2neg equal ${d2}
variable C2neg equal 1.99463120847905
variable C3neg equal ${d3}
variable C3neg equal -10.7442533989358
variable C4neg equal ${d4}
variable C4neg equal 22.6597074111162
variable C5neg equal ${d5}
variable C5neg equal 5.55241054270995
variable C6neg equal ${d6}
variable C6neg equal 11.2847730384091

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*22.5384426452898
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 0.450768852905796 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.63325078)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.87805    12580.085            0            0            0            0            0            0 
     100    332.06258   -574.76672    6449.2904    13535.656    2942.3775    7728.1318    222.31913    2596.9942   -9696.6386 
     200    288.09966   -574.68756    6114.2909    18186.782   -2429.2141    5554.7234   -1250.4534   -340.32021   -10394.189 
     300    277.94988    -573.7663    13450.563    20782.116   -5154.9713    6328.5555   -5008.3998    541.05682   -10982.752 
     400    297.33634   -574.71686   -1647.6438    10969.994   -4676.4188    4959.7064    2193.6844    634.31262   -10173.346 
     500     313.1577   -574.34479    11527.187    13120.075    5132.6024    6700.8988   -3133.8896   -1543.6579   -4997.0777 
     600    318.46507   -574.62762    8182.8079    16558.431   -5592.5115    6427.1231   -6824.8405   -2411.9769   -14053.217 
     700    294.50669   -574.44037    11202.741    13085.685   -3085.7179    5241.2337   -2455.5187   -1005.1418   -10064.721 
     800    295.74033   -574.44037    4947.9998    19828.495   -347.59416    13030.198   -1581.8497    370.91042   -9586.3127 
     900    305.46071   -574.63879    6812.4898    14038.949   -65.162464    9590.3011    -2295.759   -1508.1931   -8836.1313 
    1000    358.82595   -574.64752   -5195.8524    11922.704    1253.1624    9097.1756   -2697.2641   -150.11196   -11996.218 
Loop time of 261.933 on 1 procs for 1000 steps with 88 atoms

Performance: 0.330 ns/day, 72.759 hours/ns, 3.818 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 261.9      | 261.9      | 261.9      |   0.0 | 99.99
Neigh   | 0.003921   | 0.003921   | 0.003921   |   0.0 |  0.00
Comm    | 0.0055528  | 0.0055528  | 0.0055528  |   0.0 |  0.00
Output  | 0.00068426 | 0.00068426 | 0.00068426 |   0.0 |  0.00
Modify  | 0.015251   | 0.015251   | 0.015251   |   0.0 |  0.01
Other   |            | 0.00282    |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1049.00 ave        1049 max        1049 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7168.00 ave        7168 max        7168 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7168
Ave neighs/atom = 81.454545
Neighbor list builds = 3
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    358.82595   -574.64752   -5195.8644            0            0            0            0            0            0 
     100    327.49436   -574.55878    577.38365    6695.2553    316.08246    2011.6068    120.46282    880.21156   -10434.371 
     200    297.37896   -574.65387     3314.417    12409.343   -4795.0997    5189.6741   -658.57902    98.794377   -10022.536 
     300      283.636   -573.93005    12564.169    16501.629   -5786.1555    5250.6751   -4348.9737    40.895064    -10954.66 
Loop time of 79.0814 on 1 procs for 300 steps with 88 atoms

Performance: 0.328 ns/day, 73.223 hours/ns, 3.794 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 79.075     | 79.075     | 79.075     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014305  | 0.0014305  | 0.0014305  |   0.0 |  0.00
Output  | 0.00016284 | 0.00016284 | 0.00016284 |   0.0 |  0.00
Modify  | 0.0040088  | 0.0040088  | 0.0040088  |   0.0 |  0.01
Other   |            | 0.0007436  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7192.00 ave        7192 max        7192 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7192
Ave neighs/atom = 81.727273
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 18.924052563413
variable C2pos equal ${d2}
variable C2pos equal 1.19977355340035
variable C3pos equal ${d3}
variable C3pos equal 2.4532901862477
variable C4pos equal ${d4}
variable C4pos equal 39.1466152606359
variable C5pos equal ${d5}
variable C5pos equal -24.564229052462
variable C6pos equal ${d6}
variable C6pos equal -9.95223738661825

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-13.9820314565645+${C1pos})
variable C14 equal 0.5*(-13.9820314565645+18.924052563413)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(1.99463120847905+${C2pos})
variable C24 equal 0.5*(1.99463120847905+1.19977355340035)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(-10.7442533989358+${C3pos})
variable C34 equal 0.5*(-10.7442533989358+2.4532901862477)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(22.6597074111162+${C4pos})
variable C44 equal 0.5*(22.6597074111162+39.1466152606359)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(5.55241054270995+${C5pos})
variable C54 equal 0.5*(5.55241054270995+-24.564229052462)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(11.2847730384091+${C6pos})
variable C64 equal 0.5*(11.2847730384091+-9.95223738661825)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 22.5384426452898
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*22.5384426452898
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -0.450768852905796 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 -0.040752185 0.18248192)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.93884    12862.588            0            0            0            0            0            0 
     100    333.02216   -574.79108    6485.1591    13684.323    3390.9993    7511.0157   -74.131817    7253.6297   -3358.5255 
     200    288.27816   -574.75946    5605.6051    17867.472   -2122.6989    4532.6824   -1345.9638    3100.0944   -5202.3483 
     300    279.95606   -573.84479    13167.973    20569.895   -4990.0121    5521.2685   -5201.0592    3105.0676   -6603.3238 
     400    299.85144   -574.80005   -1714.9867     11004.99   -4377.1528    4395.6837    1977.3515    3495.8214   -4951.9655 
     500    314.59388    -574.3559    11453.841    12801.848    6112.5088    6449.9539   -3011.7264    937.37486   -47.627931 
     600    317.38404   -574.66522    7967.8357    16418.012   -4451.2092    5512.4655   -6575.1324    198.08469   -8962.0512 
     700    293.90877   -574.52747     11129.37    12770.156   -3118.4817    4391.8944   -2207.8352    1676.4717   -5490.2964 
     800    297.83899   -574.51917    5688.2697    20795.818   -50.707855    13225.835   -982.85034    2582.4875   -4826.3578 
     900    306.15644   -574.65546    7665.6872    15227.435    166.96807    10128.155   -2131.0045    835.58238   -4178.4163 
    1000    355.88796   -574.67755   -5443.4885    12756.703    1818.0291    9932.5324    -2331.235     2419.527   -7080.1661 
Loop time of 258.275 on 1 procs for 1000 steps with 88 atoms

Performance: 0.335 ns/day, 71.743 hours/ns, 3.872 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 258.25     | 258.25     | 258.25     |   0.0 | 99.99
Neigh   | 0.0068367  | 0.0068367  | 0.0068367  |   0.0 |  0.00
Comm    | 0.0052001  | 0.0052001  | 0.0052001  |   0.0 |  0.00
Output  | 0.00060821 | 0.00060821 | 0.00060821 |   0.0 |  0.00
Modify  | 0.014221   | 0.014221   | 0.014221   |   0.0 |  0.01
Other   |            | 0.002669   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1046.00 ave        1046 max        1046 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7232.00 ave        7232 max        7232 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7232
Ave neighs/atom = 82.181818
Neighbor list builds = 6
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    355.88796   -574.67755    -5443.504            0            0            0            0            0            0 
     100    329.53463   -574.61682    1018.0813    7242.0299    305.99667    2102.0577   -26.161432    3575.5719   -5694.8994 
     200    296.28854   -574.67499    3422.3267     12956.64   -4320.4341    4747.3593   -636.55273    2630.5071   -5652.6337 
     300    283.57035    -573.9574    12754.276    17192.173   -4962.7966    4725.4806   -4584.2087    1868.5439   -6714.8576 
Loop time of 83.5843 on 1 procs for 300 steps with 88 atoms

Performance: 0.310 ns/day, 77.393 hours/ns, 3.589 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 83.577     | 83.577     | 83.577     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017037  | 0.0017037  | 0.0017037  |   0.0 |  0.00
Output  | 0.00024915 | 0.00024915 | 0.00024915 |   0.0 |  0.00
Modify  | 0.004844   | 0.004844   | 0.004844   |   0.0 |  0.01
Other   |            | 0.0009317  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7226.00 ave        7226 max        7226 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7226
Ave neighs/atom = 82.113636
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -15.4713317593715
variable C2neg equal ${d2}
variable C2neg equal 2.9170210874734
variable C3neg equal ${d3}
variable C3neg equal -5.0792626213729
variable C4neg equal ${d4}
variable C4neg equal -17.947604750496
variable C5neg equal ${d5}
variable C5neg equal 33.7024730095084
variable C6neg equal ${d6}
variable C6neg equal 8.7760622327676

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*22.5384426452898
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 0.450768852905796 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.86078552 0.18248192)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.96814    12952.955            0            0            0            0            0            0 
     100    333.32831   -574.77148    6573.4911    13421.088    3279.4502    7794.5747    226.08551   -5989.6316    506.38693 
     200    288.46786   -574.71527    6408.2324     18433.17   -1904.6717    5459.1614   -1218.6922   -7968.7512    -888.0944 
     300    277.87077   -573.78882    13194.486    21052.925   -4668.3916    5768.3985   -4776.0581   -6478.5074   -2023.0169 
     400    297.21623   -574.70593   -1418.9336    11063.732   -3816.7129    4901.9205    2211.2518   -5651.4146   -1358.0353 
     500    310.73227   -574.32605    12031.809    13279.521    5023.3207    6032.2198   -3067.4631    -7850.225    3735.0423 
     600    321.31991   -574.62103    8353.2806    17102.479   -5273.0018    6075.4492   -6610.8761    -8796.736    -5813.066 
     700    295.70914   -574.42548    11176.616    13025.833   -2445.3879    5293.6121    -2420.169   -7337.8586   -1783.0904 
     800    296.23119   -574.47797    4685.4044    20054.795   -746.73156    12902.443   -1725.7935   -5902.3138   -960.32494 
     900     306.5884   -574.59943    7207.0996    15085.424    108.67632    9119.1712   -2623.2675   -7980.3242   -135.54382 
    1000    356.31992   -574.65686   -5288.4958    11572.366    1075.2535    8346.8554   -3337.6898   -6759.6159   -3800.5718 
Loop time of 260.79 on 1 procs for 1000 steps with 88 atoms

Performance: 0.331 ns/day, 72.442 hours/ns, 3.835 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 260.77     | 260.77     | 260.77     |   0.0 | 99.99
Neigh   | 0.0025568  | 0.0025568  | 0.0025568  |   0.0 |  0.00
Comm    | 0.0048625  | 0.0048625  | 0.0048625  |   0.0 |  0.00
Output  | 0.00066876 | 0.00066876 | 0.00066876 |   0.0 |  0.00
Modify  | 0.013674   | 0.013674   | 0.013674   |   0.0 |  0.01
Other   |            | 0.002594   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1034.00 ave        1034 max        1034 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7162.00 ave        7162 max        7162 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7162
Ave neighs/atom = 81.386364
Neighbor list builds = 3
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    356.31992   -574.65686   -5288.5291            0            0            0            0            0            0 
     100    320.84363    -574.5567    222.24808    5917.4562       539.64    1828.9632    124.51498   -5319.7478   -2080.6793 
     200    299.48899   -574.68085     3583.082    12293.414   -4588.8744    4754.8365   -384.20278   -6084.0944   -1845.4453 
     300    282.98517   -573.92633    12103.841    17172.037   -5506.4102    4245.6713   -4246.6135   -5814.9639    -2913.641 
Loop time of 82.9035 on 1 procs for 300 steps with 88 atoms

Performance: 0.313 ns/day, 76.763 hours/ns, 3.619 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 82.897     | 82.897     | 82.897     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015302  | 0.0015302  | 0.0015302  |   0.0 |  0.00
Output  | 0.00020337 | 0.00020337 | 0.00020337 |   0.0 |  0.00
Modify  | 0.0043404  | 0.0043404  | 0.0043404  |   0.0 |  0.01
Other   |            | 0.0008507  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7164.00 ave        7164 max        7164 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7164
Ave neighs/atom = 81.409091
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 15.572013128188
variable C2pos equal ${d2}
variable C2pos equal -0.198952925910598
variable C3pos equal ${d3}
variable C3pos equal 7.47830926504535
variable C4pos equal ${d4}
variable C4pos equal -1.05847835626185
variable C5pos equal ${d5}
variable C5pos equal 4.7150657492603
variable C6pos equal ${d6}
variable C6pos equal -10.4640384568516

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(-15.4713317593715+${C1pos})
variable C15 equal 0.5*(-15.4713317593715+15.572013128188)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(2.9170210874734+${C2pos})
variable C25 equal 0.5*(2.9170210874734+-0.198952925910598)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(-5.0792626213729+${C3pos})
variable C35 equal 0.5*(-5.0792626213729+7.47830926504535)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-17.947604750496+${C4pos})
variable C45 equal 0.5*(-17.947604750496+-1.05847835626185)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(33.7024730095084+${C5pos})
variable C55 equal 0.5*(33.7024730095084+4.7150657492603)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(8.7760622327676+${C6pos})
variable C65 equal 0.5*(8.7760622327676+-10.4640384568516)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 6.31888381027747

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*6.31888381027747
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -0.126377676205549 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.6267760 0.41001667 0.18248192)

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.94049    14227.464            0            0            0            0            0            0 
     100    333.72588   -574.76984     4003.352    12055.092   -14.295092    4720.6939    9475.5651    429.63134    -1455.682 
     200    288.35249   -574.74622    3520.9831    16626.264   -5689.4458    2194.7885    7408.2153   -2536.5911   -3067.5873 
     300    278.56354   -573.80414    10974.043    19853.501   -7853.4077    3049.3543    4078.4228   -1987.5576   -4349.3447 
     400    299.34831   -574.76123   -3839.6686    10046.307   -7062.8656    2011.4198    10599.835   -1209.5045   -3212.6586 
     500    312.61781   -574.36414    9513.8086    11634.196    2199.8776    3601.4244    5542.0143   -3421.3778    1640.6711 
     600    319.66887   -574.63184    5551.8956    15206.964   -7821.2967    3568.6708     1978.325   -3892.8759    -7393.697 
     700    295.06163   -574.48358     8868.404    11868.144   -5848.6438    2391.3179    6213.5337   -2802.9592   -3431.7176 
     800    296.78862   -574.49768    3454.3025    19380.755   -3039.8227    10485.445    7052.1875   -1522.2547   -2808.6303 
     900    303.97434   -574.59094    4684.0496    14049.535   -2624.1077    6860.4376    6081.0738   -3358.0887   -2357.9921 
    1000    356.55941   -574.66528   -7491.5747     10975.09    -1696.463    6184.7006    5564.0059   -1768.9399   -5432.4067 
Loop time of 259.609 on 1 procs for 1000 steps with 88 atoms

Performance: 0.333 ns/day, 72.114 hours/ns, 3.852 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 259.59     | 259.59     | 259.59     |   0.0 | 99.99
Neigh   | 0.0032001  | 0.0032001  | 0.0032001  |   0.0 |  0.00
Comm    | 0.0045512  | 0.0045512  | 0.0045512  |   0.0 |  0.00
Output  | 0.0005672  | 0.0005672  | 0.0005672  |   0.0 |  0.00
Modify  | 0.012813   | 0.012813   | 0.012813   |   0.0 |  0.00
Other   |            | 0.002386   |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1040.00 ave        1040 max        1040 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7114.00 ave        7114 max        7114 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7114
Ave neighs/atom = 80.840909
Neighbor list builds = 4
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.962 | 2.962 | 2.962 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    356.55941   -574.66528   -7491.5733            0            0            0            0            0            0 
     100    323.63576   -574.58771   -1738.9161    5403.7311   -2549.4577   -758.26801    8430.7863   -1063.5738   -3799.1023 
     200    297.40018   -574.68695     1173.598    11481.626   -7905.9243    1925.9206    7941.1369   -1481.6272   -3501.2335 
     300    282.18588   -573.92798     10027.14    16509.612   -8435.7435    1511.8899    4266.7465   -1937.5917   -4849.6269 
Loop time of 82.2821 on 1 procs for 300 steps with 88 atoms

Performance: 0.315 ns/day, 76.187 hours/ns, 3.646 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 82.276     | 82.276     | 82.276     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0012889  | 0.0012889  | 0.0012889  |   0.0 |  0.00
Output  | 0.00017023 | 0.00017023 | 0.00017023 |   0.0 |  0.00
Modify  | 0.0036895  | 0.0036895  | 0.0036895  |   0.0 |  0.00
Other   |            | 0.0007286  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1040.00 ave        1040 max        1040 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7160.00 ave        7160 max        7160 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7160
Ave neighs/atom = 81.363636
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -18.8841401305181
variable C2neg equal ${d2}
variable C2neg equal -14.4477133397662
variable C3neg equal ${d3}
variable C3neg equal -21.1472160886297
variable C4neg equal ${d4}
variable C4neg equal -8.62145123259238
variable C5neg equal ${d5}
variable C5neg equal 14.6717949967514
variable C6neg equal ${d6}
variable C6neg equal 53.0308381310587

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.7531537 0.41001667 0.18248192)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  88 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*6.31888381027747
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 0.126377676205549 remap units box
Changing box ...
  triclinic box = (0.052500671 -0.067034418 -0.066498144) to (6.7511993 6.2518494 22.471945) with tilt (2.8795314 0.41001667 0.18248192)

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 8
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.963 | 2.963 | 2.963 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    279.71172   -573.91888    11661.467            0            0            0            0            0            0 
     100    332.18323   -574.75134     9150.125     14927.35    7148.1081    10527.603   -9224.4062     807.4162   -1386.2231 
     200    288.40116   -574.67578    8595.2839    19579.658    2121.4597    7734.0994   -9881.4582   -2361.5744   -3012.7397 
     300    279.35594   -573.78442    15343.388    21430.747   -1443.9157    8070.0868   -13969.886   -1410.4249   -4261.9222 
     400    297.52532   -574.68195    738.37037    11688.837   -715.94612    7029.0268   -6284.7057   -940.46849   -3075.6401 
     500    313.00926   -574.27374    13845.251    14310.058    9500.7855    8672.6496   -11528.426   -3559.3619     2045.617 
     600    318.81355   -574.60474    10653.895    18181.515   -1495.9003    7900.2873   -15139.408   -4729.7088   -7382.3927 
     700    293.86142   -574.41211    13372.073    13661.822    624.18415    6947.7947   -10719.742   -2989.0279   -3955.0193 
     800    297.23476   -574.44708    6559.2835    21053.087    2426.7715    15293.056   -9748.2376   -1897.8556   -3105.9152 
     900    308.48262   -574.61316    10151.521    15744.027    3207.3913    12091.811   -10805.814   -3740.0897   -1980.1712 
    1000     355.5709   -574.60315   -3424.5484    12780.583    4825.7404    11825.839   -11235.172   -2590.0267   -5308.2252 
Loop time of 256.035 on 1 procs for 1000 steps with 88 atoms

Performance: 0.337 ns/day, 71.121 hours/ns, 3.906 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 256.01     | 256.01     | 256.01     |   0.0 | 99.99
Neigh   | 0.0028028  | 0.0028028  | 0.0028028  |   0.0 |  0.00
Comm    | 0.0044181  | 0.0044181  | 0.0044181  |   0.0 |  0.00
Output  | 0.00055981 | 0.00055981 | 0.00055981 |   0.0 |  0.00
Modify  | 0.012209   | 0.012209   | 0.012209   |   0.0 |  0.00
Other   |            | 0.00239    |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1043.00 ave        1043 max        1043 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7162.00 ave        7162 max        7162 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7162
Ave neighs/atom = 81.386364
Neighbor list builds = 3
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob11_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.01 ${seed}
fix 5 all langevin 300 300 0.01 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.963 | 2.963 | 2.963 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0     355.5709   -574.60315   -3424.5453            0            0            0            0            0            0 
     100    324.94507   -574.51892    2865.5105    7240.6282     3629.404    4415.0951   -8325.8245   -504.81695   -3949.5014 
     200    298.09869   -574.60681    5608.0764    13358.485   -855.62848    7280.4899   -8920.0935   -1680.6834   -3861.6716 
     300    283.97851    -573.8927    14378.175    17280.921   -1974.0946    6836.8896   -12879.412   -1747.2897   -4818.0427 
Loop time of 82.3039 on 1 procs for 300 steps with 88 atoms

Performance: 0.315 ns/day, 76.207 hours/ns, 3.645 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 82.298     | 82.298     | 82.298     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001241   | 0.001241   | 0.001241   |   0.0 |  0.00
Output  | 0.00016379 | 0.00016379 | 0.00016379 |   0.0 |  0.00
Modify  | 0.0036335  | 0.0036335  | 0.0036335  |   0.0 |  0.00
Other   |            | 0.0006838  |            |       |  0.00

Nlocal:        88.0000 ave          88 max          88 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        1046.00 ave        1046 max        1046 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      7186.00 ave        7186 max        7186 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7186
Ave neighs/atom = 81.659091
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 15.0275932363846
variable C2pos equal ${d2}
variable C2pos equal -17.8605310612531
variable C3pos equal ${d3}
variable C3pos equal -5.47778255270217
variable C4pos equal ${d4}
variable C4pos equal 8.46352984610783
variable C5pos equal ${d5}
variable C5pos equal -15.6233054808105
variable C6pos equal ${d6}
variable C6pos equal 32.699952389919

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(-18.8841401305181+${C1pos})
variable C16 equal 0.5*(-18.8841401305181+15.0275932363846)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(-14.4477133397662+${C2pos})
variable C26 equal 0.5*(-14.4477133397662+-17.8605310612531)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-21.1472160886297+${C3pos})
variable C36 equal 0.5*(-21.1472160886297+-5.47778255270217)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-8.62145123259238+${C4pos})
variable C46 equal 0.5*(-8.62145123259238+8.46352984610783)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(14.6717949967514+${C5pos})
variable C56 equal 0.5*(14.6717949967514+-15.6233054808105)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(53.0308381310587+${C6pos})
variable C66 equal 0.5*(53.0308381310587+32.699952389919)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 117.524082970862
variable C22all equal ${C22}
variable C22all equal 112.82588912949
variable C33all equal ${C33}
variable C33all equal 126.812289159092

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(43.9206103027698+${C21})
variable C12all equal 0.5*(43.9206103027698+48.359586346937)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(33.3860122169418+${C31})
variable C13all equal 0.5*(33.3860122169418+30.110624228566)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(43.3088982690649+${C32})
variable C23all equal 0.5*(43.3088982690649+31.1247614063087)

variable C44all equal ${C44}
variable C44all equal 30.903161335876
variable C55all equal ${C55}
variable C55all equal 19.2087693793843
variable C66all equal ${C66}
variable C66all equal 42.8653952604889

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(2.47101055342425+${C41})
variable C14all equal 0.5*(2.47101055342425+-0.0636536961774752)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(0.0503406844082503+${C51})
variable C15all equal 0.5*(0.0503406844082503+0.95988524843685)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-1.92827344706675+${C61})
variable C16all equal 0.5*(-1.92827344706675+-4.19726750678531)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(1.5972023809397+${C42})
variable C24all equal 0.5*(1.5972023809397+6.42167155592792)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(1.3590340807814+${C52})
variable C25all equal 0.5*(1.3590340807814+9.94363327645877)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-16.1541222005096+${C62})
variable C26all equal 0.5*(-16.1541222005096+-10.7784850552826)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(-4.14548160634405+${C43})
variable C34all equal 0.5*(-4.14548160634405+-3.79565263733658)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(1.19952332183623+${C53})
variable C35all equal 0.5*(1.19952332183623+1.47462517760835)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(-13.3124993206659+${C63})
variable C36all equal 0.5*(-13.3124993206659+-12.2910170806421)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-9.50304155337893+${C54})
variable C45all equal 0.5*(-9.50304155337893+-9.50590925487603)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-0.0789606932422746+${C64})
variable C46all equal 0.5*(-0.0789606932422746+0.666267825895424)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(-0.47575524202955+${C65})
variable C56all equal 0.5*(-0.47575524202955+-0.843988112042)


print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 117.524082970862 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 112.82588912949 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 126.812289159092 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 46.1400983248534 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 31.7483182227539 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 37.2168298376868 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 30.903161335876 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 19.2087693793843 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 42.8653952604889 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = 1.20367842862339 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = 0.50511296642255 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = -3.06277047692603 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = 4.00943696843381 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = 5.65133367862009 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = -13.4663036278961 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = -3.97056712184031 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = 1.33707424972229 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = -12.801758200654 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = -9.50447540412748 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = 0.293653566326575 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = -0.659871677035775 GPa

print " "
 
print "Cij tensor matrix"
Cij tensor matrix
print " "
 
print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}"
117.524082970862  46.1400983248534  31.7483182227539  1.20367842862339  0.50511296642255  -3.06277047692603
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}"
46.1400983248534  112.82588912949  37.2168298376868  4.00943696843381  5.65133367862009  -13.4663036278961
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}"
31.7483182227539  37.2168298376868  126.812289159092  -3.97056712184031  1.33707424972229  -12.801758200654
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}"
1.20367842862339  4.00943696843381  -3.97056712184031  30.903161335876  -9.50447540412748  0.293653566326575
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}"
0.50511296642255  5.65133367862009  1.33707424972229  -9.50447540412748  19.2087693793843  -0.659871677035775
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}"
-3.06277047692603  -13.4663036278961  -12.801758200654  0.293653566326575  -0.659871677035775  42.8653952604889

print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}" file Cij.dat screen no
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}" append Cij.dat screen no
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}" append Cij.dat screen no
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}" append Cij.dat screen no
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}" append Cij.dat screen no
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}" append Cij.dat screen no

write_restart restart2
System init for write_restart ...
Total wall time: 2:05:40
