LAMMPS (29 Sep 2021 - Update 2)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
# Compute elastic constant tensor for a crystal at finite temperature
#
# WARNING: This script attempts to measure small differences in
# statistical averages generated by finite temperature MD simulations.
# This creates many more opportunities for errors to occur, compared
# to the zero temperature version provided in examples/ELASTIC.
# Hence, it is always a good idea to start with the zero temperature
# calculation, before attempting to use this script.
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, MD parameters, deformation parameters,
#		  and initial configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the MD sampling of stress components
#  is generating accurate statistical averages.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to
#  check for finite size effects.
#

# include init.mod

# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 2.0e-2

# real units, elastic constants in GPa
units		metal
atom_style atomic
variable cfac equal 1.0e-4
variable cunits string GPa

# Define MD parameters
variable nevery equal 10                  # sampling interval
variable nrepeat equal 10                 # number of samples
variable nfreq equal ${nevery}*${nrepeat} # length of one average
variable nfreq equal 10*${nrepeat} 
variable nfreq equal 10*10 
variable nthermo equal ${nfreq}           # interval for thermo output
variable nthermo equal 100           
variable nequil equal 10*${nthermo}       # length of equilibration run
variable nequil equal 10*100       
variable nrun equal 3*${nthermo}          # length of equilibrated run
variable nrun equal 3*100          
variable temp equal 300                   # temperature of initial sample
variable timestep equal 0.0001             # timestep
variable adiabatic equal 2                # adiabatic (1) or isothermal (2)
variable tdamp equal 0.008                 # time constant for thermostat
variable seed equal 123457                # seed for thermostat

# generate the box and atom positions using a diamond lattice
variable a equal 5.431

boundary	p p p
newton off


box tilt large
read_data tob9_ref_deepmd.data
Reading data file ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (11.114968 7.4513556 9.3746986) with tilt (-0.17419075 -0.15353827 -1.9248620)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  62 atoms
  read_data CPU = 0.000 seconds

pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si
mass            1 40.079800
mass            4 28.08500
mass            3 15.9994
mass            2 1.00794


change_box all triclinic
Changing box ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (11.114968 7.4513556 9.3746986) with tilt (-0.17419075 -0.15353827 -1.9248620)

velocity	all create ${temp} 87287
velocity	all create 300 87287

thermo 100
min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
WARNING: Using 'neigh_modify every 1 delay 0 check yes' setting during minimization (src/min.cpp:188)
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.207 | 4.207 | 4.207 Mbytes
Step Temp E_pair E_mol TotEng Press 
       0          300   -451.11508            0   -448.74962    23229.612 
      45          300   -456.46262            0   -454.09716    3879.6685 
Loop time of 21.3774 on 1 procs for 45 steps with 62 atoms

99.3% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
     -451.115081787109  -456.462615966797  -456.462615966797
  Force two-norm initial, final = 21.368530 0.047583527
  Force max component initial, final = 7.2417874 0.010395684
  Final line search alpha, max atom move = 1.0000000 0.010395684
  Iterations, force evaluations = 45 89

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 21.376     | 21.376     | 21.376     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00049925 | 0.00049925 | 0.00049925 |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0008807  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4326.00 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 0
Dangerous builds = 0

thermo_style  custom step temp press etotal lx ly lz xy yz xz pxx pyy pzz

#timestep 0.0001

#fix 456 all nve
#fix 567 all langevin 300.0 300.0 0.1 12345

#run 5000

#unfix 456
#unfix 567
fix 123 all npt temp 300 300 0.1 iso 1.0 1.0 0.1
run 10000
Per MPI rank memory allocation (min/avg/max) = 3.097 | 3.097 | 3.097 Mbytes
Step Temp Press TotEng Lx Ly Lz Xy Yz Xz Pxx Pyy Pzz 
      45          300    3879.6112   -454.09716    11.114968    7.4513556    9.3746986  -0.17419075    -1.924862  -0.15353827    11863.419   -7416.4598    7191.8748 
     100    149.74355     8110.905    -453.9395    11.125881    7.4586715    9.3839029  -0.17436178   -1.9267518  -0.15368902    8371.1262   -9046.6907     25008.28 
     200    183.54291     16184.93   -453.47524    11.075437    7.4248544     9.341357  -0.17357123   -1.9180161   -0.1529922    32101.222   -2067.5773    18521.146 
     300    264.94613   -2876.0186   -452.85518    11.136428    7.4657421    9.3927985  -0.17452707   -1.9285783  -0.15383471   -1495.7548   -15363.368    8231.0671 
     400     298.8799   -7870.4091   -452.14593    11.184863    7.4982122    9.4336499  -0.17528612   -1.9369661  -0.15450377   -2359.7929    -19438.54   -1812.8945 
     500    302.07179   -8981.5212   -451.48292    11.163519    7.4839032    9.4156474  -0.17495162   -1.9332698  -0.15420893    11152.678   -29442.763   -8654.4786 
     600    311.17357   -4206.6355   -451.14058    11.151923    7.4761295    9.4058671  -0.17476989   -1.9312616  -0.15404875    316.86353   -14407.392    1470.6224 
     700    313.85565    -1019.512   -451.26427    11.169347    7.4878103     9.420563  -0.17504296   -1.9342791  -0.15428944    21421.921    -28172.49    3692.0334 
     800    261.41615     2244.742   -451.65325    11.132685    7.4632327    9.3896415  -0.17446841   -1.9279301  -0.15378301    25902.009   -17493.182   -1674.6016 
     900    295.91434    16151.986   -451.88312    11.100424    7.4416055    9.3624319  -0.17396282   -1.9223433  -0.15333737    17148.497    3171.4891    28135.973 
    1000    308.15893    13386.247   -451.88533    11.118337    7.4536142    9.3775402  -0.17424355   -1.9254454  -0.15358481    22931.371    545.81721    16681.554 
    1100    319.14787    4218.2181   -451.55851    11.156024    7.4788791    9.4093265  -0.17483417   -1.9319719  -0.15410541     13589.17   -22321.672    21387.156 
    1200    281.26871   -3689.2121   -451.22468    11.147464    7.4731407    9.4021069  -0.17470002   -1.9304896  -0.15398716      26523.5   -37173.544   -417.59181 
    1300    313.30925   -8819.5813   -451.06341    11.169134    7.4876677    9.4203836  -0.17503962   -1.9342422   -0.1542865   -9735.8869   -21873.665    5150.8083 
    1400    291.92483    -15393.87    -451.6662    11.183604    7.4973681    9.4325879  -0.17526639   -1.9367481  -0.15448638   -2638.0285   -39300.552   -4243.0285 
    1500    280.43609   -15810.717   -451.92854    11.190188    7.5017822    9.4381414  -0.17536958   -1.9378884  -0.15457733   -8246.3899   -27828.971   -11356.789 
    1600    325.28436   -868.37096   -451.70574    11.141635    7.4692326    9.3971901  -0.17460867     -1.92948  -0.15390664    9232.6038   -12923.827    1086.1105 
    1700      306.986    9609.7573   -451.24974    11.183179    7.4970832    9.4322295  -0.17525973   -1.9366745  -0.15448051    25262.385   -13722.036    17288.922 
    1800    332.27329    5586.0701   -451.12876    11.133839    7.4640062    9.3906146  -0.17448649   -1.9281299  -0.15379894    25216.541   -17147.019    8688.6886 
    1900    353.10048    2092.0396   -451.49936    11.132352    7.4630097    9.3893609  -0.17446319   -1.9278725  -0.15377841    18139.411   -13410.987    1547.6952 
    2000    285.60679   -9770.4486   -452.11045    11.142336    7.4697025    9.3977813  -0.17461965   -1.9296014  -0.15391632   -4752.5687   -13809.272   -10749.505 
    2100    243.57356   -11994.387   -452.18483    11.138227    7.4669479    9.3943156  -0.17455525   -1.9288898  -0.15385956     10983.71   -32723.632    -14243.24 
    2200    254.97618   -2403.4398   -451.92659    11.146664    7.4726038    9.4014315  -0.17468747   -1.9303509   -0.1539761    8672.3475   -19183.513    3300.8462 
    2300    327.81544    810.50552   -451.46176    11.108673    7.4471351    9.3693888  -0.17409209   -1.9237717  -0.15345131    16738.659   -16522.923    2215.7807 
    2400    318.01403    19082.968   -451.18842    11.097282    7.4394988    9.3597814  -0.17391358   -1.9217991  -0.15329396    16701.234    9905.4278    30642.243 
    2500    310.11768    2094.9684   -451.28444    11.132115    7.4628503    9.3891604  -0.17445947   -1.9278313  -0.15377513    9458.4899   -10536.306     7362.721 
    2600    253.17501   -2615.1947   -451.77835    11.151876    7.4760985    9.4058281  -0.17476917   -1.9312536  -0.15404811    18015.752    -19774.61   -6086.7261 
    2700    241.66422   -4973.9729   -452.00464     11.15485    7.4780916    9.4083357  -0.17481576   -1.9317685  -0.15408918    13441.933   -23320.515   -5043.3375 
    2800    285.08322    8679.9194   -451.82158    11.110664    7.4484697    9.3710679  -0.17412329   -1.9241165  -0.15347881    16208.396    133.24957    9698.1131 
    2900    270.98567    16554.244   -451.56949    11.079044    7.4272723     9.344399  -0.17362776   -1.9186407  -0.15304203    25112.127    9383.6108    15166.995 
    3000    296.36576   -1693.1973   -451.51708    11.140066    7.4681807    9.3958666  -0.17458407   -1.9292083  -0.15388496    22589.705   -29479.988    1810.6907 
    3100    263.53887   -2909.7352   -451.51587    11.148456    7.4738051    9.4029428  -0.17471556   -1.9306612  -0.15400085    15954.297   -22699.586   -1983.9168 
    3200    260.65878    6391.2094   -451.57502    11.124989    7.4580735    9.3831505   -0.1743478   -1.9265973   -0.1536767    23529.555   -6955.3187    2599.3925 
    3300    302.98199    9594.6653   -451.65119     11.11196    7.4493389    9.3721614  -0.17414361    -1.924341  -0.15349672    18651.231   -2198.2562    12331.021 
    3400    268.45642     19632.31   -451.67186    11.080636    7.4283396    9.3457417  -0.17365271   -1.9189164  -0.15306402    37733.693    12327.367    8835.8687 
    3500    300.46641    6766.5522   -451.63394    11.131934    7.4627295    9.3890084  -0.17445664   -1.9278001  -0.15377264    28069.587   -18646.471     10876.54 
    3600    345.76119   -7676.9624   -451.50696    11.203367     7.510617    9.4492566  -0.17557611   -1.9401706  -0.15475938    11215.862    -24796.28   -9450.4689 
    3700    330.50821   -9759.7503   -451.55109    11.128467    7.4604047    9.3860834  -0.17440229   -1.9271995  -0.15372473      1455.48   -11246.361    -19488.37 
    3800    297.99994    3721.1847   -451.70161    11.144545    7.4711833    9.3996443  -0.17465427   -1.9299839  -0.15394683    5535.8863   -7472.6581    13100.326 
    3900    274.87394     2086.522    -451.8271    11.113514    7.4503809    9.3734723  -0.17416797   -1.9246102  -0.15351819    19217.857   -17105.308    4147.0161 
    4000    300.42875    9317.1195   -451.95934     11.13997    7.4681166     9.395786  -0.17458258   -1.9291917  -0.15388364    21227.456   -6971.1823    13695.084 
    4100    319.76676   -707.24875    -451.7603    11.137806    7.4666655    9.3939604  -0.17454865   -1.9288169  -0.15385374    12226.998   -27837.595    13488.851 
    4200     359.8552    -10026.29   -451.22079    11.155123    7.4782751    9.4085666  -0.17482005   -1.9318159  -0.15409296   -2709.4451   -19865.938   -7503.4867 
    4300    281.67252   -15596.091   -451.17678    11.173471    7.4905752    9.4240416  -0.17510759   -1.9349933  -0.15434641   -15321.266   -23095.909   -8371.0982 
    4400     295.4197    4971.6076   -451.52606    11.152692    7.4766452     9.406516  -0.17478195   -1.9313949  -0.15405937    22989.145   -20307.471     12233.15 
    4500    296.62266    7177.2747   -451.87839    11.140076    7.4681874    9.3958751  -0.17458423     -1.92921   -0.1538851    21689.057    -4609.827    4452.5937 
    4600    298.73622   -1522.9768   -452.09644     11.14415     7.470919    9.3993118  -0.17464809   -1.9299157  -0.15394139     8504.225   -28706.344    15633.188 
    4700    320.07346   -17746.519   -451.42142    11.190255    7.5018272     9.438198  -0.17537063      -1.9379  -0.15457826   -17872.725   -29629.126   -5737.7062 
    4800    335.22208   -3897.1864   -450.98444    11.164168    7.4843388    9.4161955   -0.1749618   -1.9333823  -0.15421791    8466.0251   -15149.527   -5008.0575 
    4900    293.94315   -5742.2493   -451.13878    11.167047    7.4862683     9.418623  -0.17500691   -1.9338807  -0.15425766    7435.2065   -33241.897    8579.9424 
    5000    289.75129    2272.4004   -451.65422    11.104522    7.4443528    9.3658882  -0.17402705    -1.923053  -0.15339398     15620.69   -11512.033    2708.5446 
    5100    283.92632   -2677.6003   -451.85872    11.163337    7.4837816    9.4154944  -0.17494878   -1.9332384  -0.15420642   -5041.5277    -12151.39    9160.1168 
    5200    342.81218    643.05449   -451.79502    11.142947    7.4701124    9.3982969  -0.17462923   -1.9297073  -0.15392476     9841.614   -21176.274    13263.824 
    5300     334.1545    926.26046   -451.22681     11.14405    7.4708518    9.3992272  -0.17464652   -1.9298983     -0.15394    21619.432   -24788.279     5947.628 
    5400    350.50668   -14141.208   -450.88047    11.254395    7.5448256    9.4922951  -0.17637581   -1.9490075  -0.15546426   -11298.477   -41344.297    10219.151 
    5500     357.1391   -15495.983   -451.15657    11.197323    7.5065651    9.4441588  -0.17548139   -1.9391239  -0.15467589   -3965.6664   -28784.699   -13737.582 
    5600    323.59784   -8424.5665   -451.50203    11.168882    7.4874988    9.4201712  -0.17503568   -1.9341986  -0.15428302    11768.147   -41624.616     4582.769 
    5700    267.46242   -1759.8989   -451.64479    11.147424    7.4731132    9.4020724  -0.17469938   -1.9304825   -0.1539866    12475.294   -21678.531    3923.5403 
    5800    270.46266    15822.989   -451.65452    11.115756     7.451884    9.3753634   -0.1742031   -1.9249985  -0.15354916    1744.8761    16357.347    29366.744 
    5900    297.16403     10335.47    -451.5561     11.13055    7.4618016     9.387841  -0.17443495   -1.9275604  -0.15375352    13971.981   -3409.5043    20443.933 
    6000    295.14739   -3809.5669    -451.2621    11.163621    7.4839718    9.4157337  -0.17495322   -1.9332875  -0.15421034    33053.237   -38525.167   -5956.7704 
    6100    360.99081   -5463.4133   -451.03388    11.181913    7.4962349    9.4311622   -0.1752399   -1.9364553  -0.15446303     10039.87   -23096.577   -3333.5329 
    6200    278.80641   -12306.683   -451.35618    11.172765    7.4901022    9.4234465  -0.17509653   -1.9348711  -0.15433666    6873.8791   -36471.271   -7322.6562 
    6300    275.45484    6439.2139   -451.86311     11.14265    7.4699128    9.3980459  -0.17462457   -1.9296557  -0.15392065    12585.519   -7444.2866     14176.41 
    6400    262.37384    18800.803   -451.90329     11.10446    7.4443109    9.3658355  -0.17402607   -1.9230421  -0.15339311    22136.923   -233.26352    34498.748 
    6500     241.4013    2228.1586   -451.68829    11.157269    7.4797135    9.4103762  -0.17485368   -1.9321875   -0.1541226    18224.766   -28980.834    17440.544 
    6600    326.12029    1487.9741   -451.48873    11.184057    7.4976717    9.4329699  -0.17527349   -1.9368265  -0.15449264    11144.668   -12832.601    6151.8552 
    6700     284.8668   -11165.478   -451.45214    11.161303    7.4824181     9.413779   -0.1749169   -1.9328861  -0.15417833   -5125.8244     -25282.1   -3088.5103 
    6800    282.36092    971.33332   -451.48654    11.112135    7.4494561    9.3723089  -0.17414635   -1.9243713  -0.15349913    11036.413    -27762.64    19640.227 
    6900    287.85734    4873.9033   -451.46716     11.15246    7.4764899    9.4063206  -0.17477832   -1.9313547  -0.15405618    37766.801   -28884.969    5739.8788 
    7000    281.60286    3668.8486   -451.74972    11.161556    7.4825872    9.4139918  -0.17492086   -1.9329298  -0.15418181    23028.742   -16081.883    4059.6864 
    7100    253.80195   -2245.8237   -452.25973    11.124067    7.4574552    9.3823727  -0.17433334   -1.9264376  -0.15366396    816.50958   -5816.0344   -1737.9462 
    7200    246.60393    4857.9308   -452.33181    11.150408     7.475114    9.4045896  -0.17474615   -1.9309993  -0.15402782    17792.097   -12298.907    9080.6031 
    7300    278.65456    12258.655   -451.71248     11.11429    7.4509009    9.3741266  -0.17418012   -1.9247445   -0.1535289    28487.454   -4910.4868    13198.998 
    7400    247.54756    2727.7078   -451.51592    11.157227    7.4796853    9.4103408  -0.17485302   -1.9321802  -0.15412202    5954.2888   -14654.895     16883.73 
    7500    320.56968     -22441.3    -451.3465    11.218372    7.5206764    9.4619125  -0.17581127   -1.9427692  -0.15496666   -19699.116   -34129.532    -13495.25 
    7600    278.86352   -12185.628   -451.37874    11.128548    7.4604591     9.386152  -0.17440357   -1.9272136  -0.15372585   -8633.5999   -33766.179    5842.8955 
    7700    301.43208    2660.8178   -451.59331    11.132823    7.4633253     9.389758  -0.17447057    -1.927954  -0.15378491    10954.511    -15608.01    12635.952 
    7800    261.36595   -4344.2072   -452.14107    11.149879    7.4747594    9.4041435  -0.17473787   -1.9309077  -0.15402052   -4484.7165   -18040.419    9492.5139 
    7900    283.93502    -21113.12   -452.07279    11.221389    7.5226988    9.4644569  -0.17585855   -1.9432916  -0.15500833   -21498.723   -31160.599   -10680.039 
    8000    318.73927   -5258.6146   -451.70462    11.174585    7.4913218     9.424981  -0.17512505   -1.9351862  -0.15436179    8321.7923   -22334.985   -1762.6507 
    8100    338.30522   -11146.868   -451.41848    11.187854    7.5002171    9.4361723  -0.17533299    -1.937484  -0.15454508   -5781.2657   -28460.615    801.27827 
    8200    267.23088   -9262.1956   -451.58472    11.174909     7.491539    9.4252542  -0.17513012   -1.9352423  -0.15436627   -846.91055   -21597.219   -5342.4566 
    8300    238.41089    332.75077   -451.70924    11.178999    7.4942809    9.4287039  -0.17519422   -1.9359506  -0.15442277    12873.704   -26664.794    14789.342 
    8400    264.99505    1676.2793   -452.05453    11.162161    7.4829933    9.4145027  -0.17493035   -1.9330347  -0.15419018    19224.575   -14404.251    208.51373 
    8500    243.57196    6467.8099   -452.25561    11.120214    7.4548722    9.3791229  -0.17427296   -1.9257704  -0.15361073    22872.242   -9111.0178    5642.2055 
    8600     283.2968    5203.4725   -451.87574    11.131904    7.4627088    9.3889823  -0.17445616   -1.9277948  -0.15377221    26394.645   -18908.316    8124.0882 
    8700    280.34097   -764.33693   -451.34012    11.111075    7.4487454    9.3714148  -0.17412974   -1.9241877  -0.15348449     22974.88   -27669.988    2402.0979 
    8800    360.29208   -8600.3434   -451.22158    11.138791    7.4673259    9.3947911  -0.17456409   -1.9289875  -0.15386735     4969.851   -29256.279   -1514.6026 
    8900    297.96767   -13677.999   -451.38604    11.154958    7.4781641    9.4084269  -0.17481746   -1.9317872  -0.15409067   -9164.0317   -26448.646   -5421.3197 
    9000    300.63564    -5606.744   -452.01609    11.134014    7.4641237    9.3907624  -0.17448923   -1.9281603  -0.15380136    2953.1199   -22158.921    2385.5697 
    9100    287.52186    4269.9734   -452.23513    11.159071    7.4809213    9.4118958  -0.17488191   -1.9324995  -0.15414749     13586.33   -12005.711    11229.301 
    9200    286.03133   -14469.974   -451.98366    11.174654    7.4913681    9.4250392  -0.17512613   -1.9351981  -0.15436275   -6280.4287   -29900.188   -7229.3053 
    9300    293.90671   -17500.788   -451.65432    11.223906     7.524386    9.4665796  -0.17589799   -1.9437274  -0.15504309   -12413.232   -33385.881   -6703.2504 
    9400    303.73701   -4424.0957   -451.47891    11.148178    7.4736193    9.4027091  -0.17471121   -1.9306132  -0.15399703   -5084.2461   -18859.472    10671.431 
    9500    319.83044    540.37925   -451.52804    11.141095    7.4688707    9.3967347   -0.1746002   -1.9293865  -0.15389918    2267.1733   -15297.651    14651.616 
    9600    300.59269     4561.069   -451.65556    11.160283     7.481734    9.4129183  -0.17490091   -1.9327094  -0.15416423    15932.008   -7362.2061    5113.4049 
    9700    267.00754   -6693.4099   -451.71215    11.204118    7.5111204      9.44989  -0.17558788   -1.9403006  -0.15476975   -9526.5356    -10243.55   -310.14424 
    9800    303.44395     3480.824   -451.65948    11.116132    7.4521358    9.3756802  -0.17420899   -1.9250635  -0.15355435    23317.486   -24596.272    11721.258 
    9900     292.1004    6402.0197   -451.13112    11.149854    7.4747427    9.4041224  -0.17473747   -1.9309034  -0.15402017     29011.14   -20241.346    10436.265 
   10000    337.72738    8142.9508   -450.96591    11.112335    7.4495903    9.3724777  -0.17414949   -1.9244059   -0.1535019    15955.687    -7853.466    16326.632 
   10045    343.04595   -6266.8341   -451.17352     11.17174    7.4894148    9.4225817  -0.17508046   -1.9346936   -0.1543225    13127.256   -31428.452   -499.30624 
Loop time of 1659.74 on 1 procs for 10000 steps with 62 atoms

Performance: 0.521 ns/day, 46.104 hours/ns, 6.025 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1659.5     | 1659.5     | 1659.5     |   0.0 | 99.99
Neigh   | 0.034496   | 0.034496   | 0.034496   |   0.0 |  0.00
Comm    | 0.033005   | 0.033005   | 0.033005   |   0.0 |  0.00
Output  | 0.0055816  | 0.0055816  | 0.0055816  |   0.0 |  0.00
Modify  | 0.10842    | 0.10842    | 0.10842    |   0.0 |  0.01
Other   |            | 0.02829    |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        737.000 ave         737 max         737 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4372.00 ave        4372 max        4372 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4372
Ave neighs/atom = 70.516129
Neighbor list builds = 79
Dangerous builds = 0

unfix 123

# Compute initial state

variable thermostat equal 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"


run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 3.082 | 3.082 | 3.082 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    343.04595   -453.87839   -6266.8334            0            0            0            0            0            0 
     100    321.48179   -453.70831    2585.0341    15365.843   -21997.556    3181.2797    12882.384    679.30813    5646.9557 
     200    320.53301   -453.70102    5816.2419    14196.428   -10909.029    11215.689      12964.4    5380.0175    4945.4907 
     300    355.42812   -453.97601    7151.5232    13726.165   -6320.6324    14831.192    5797.0691   -5300.0473    664.33688 
     400    342.60301   -453.87497    4700.8488    21530.294   -10719.606    8053.3815    8250.5413   -7312.3433   -843.62357 
     500    316.48433   -453.66907   -4022.5917     16260.24   -15015.089   -2772.4258    10646.246     1688.137    2433.5793 
     600    299.72636    -453.5368    -3889.732    2888.1448   -11298.518   -7765.7826    7069.0345   -2564.8734   -2160.9187 
     700    358.76662   -454.00232    2484.8841    10080.537   -15296.655     253.6908     8432.112   -8966.8739   -7965.4372 
     800    367.91524    -454.0744    2083.5094    17287.146   -21048.372    11235.028     12185.99    3909.1473   -7875.5826 
     900    282.12578   -453.39804   -3956.2481    2924.0097   -20472.933    11374.324    9970.0946    7998.2198   -2856.9834 
    1000    303.46289   -453.56647   -4174.5051   -4125.5526   -21043.215    11280.611    10305.717   -3102.1192    970.30761 
Loop time of 170.566 on 1 procs for 1000 steps with 62 atoms

Performance: 0.051 ns/day, 473.796 hours/ns, 5.863 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 170.56     | 170.56     | 170.56     |   0.0 | 99.99
Neigh   | 0.00089717 | 0.00089717 | 0.00089717 |   0.0 |  0.00
Comm    | 0.0031364  | 0.0031364  | 0.0031364  |   0.0 |  0.00
Output  | 0.00050974 | 0.00050974 | 0.00050974 |   0.0 |  0.00
Modify  | 0.0033603  | 0.0033603  | 0.0033603  |   0.0 |  0.00
Other   |            | 0.00225    |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        727.000 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4326.00 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 2
Dangerous builds = 0

if "${adiabatic} == 1" then "variable thermostat equal 0" else "variable thermostat equal 1"
variable thermostat equal 1

print ${thermostat}
print 1
1

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 3.082 | 3.082 | 3.082 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    303.46289   -453.56647   -4174.4965            0            0            0            0            0            0 
     100    286.76158   -453.59241    3480.8122    9191.5528    -28780.21    22477.267    17065.092    101.58885    1536.9561 
     200    291.69798   -453.68015    1703.9861    16042.999   -25199.261    21036.382    12225.475    2610.1897    6196.7566 
     300    317.04817   -454.00797   -5647.6418    2869.5121   -25018.956    11333.665     10665.46    2461.1493    6133.1137 
Loop time of 54.9302 on 1 procs for 300 steps with 62 atoms

Performance: 0.047 ns/day, 508.613 hours/ns, 5.461 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 54.925     | 54.925     | 54.925     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.000916   | 0.000916   | 0.000916   |   0.0 |  0.00
Output  | 0.00015187 | 0.00015187 | 0.00015187 |   0.0 |  0.00
Modify  | 0.0031333  | 0.0031333  | 0.0031333  |   0.0 |  0.01
Other   |            | 0.000684   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4318.00 ave        4318 max        4318 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4318
Ave neighs/atom = 69.645161
Neighbor list builds = 0
Dangerous builds = 0

variable pxx0 equal f_avp[1]
variable pyy0 equal f_avp[2]
variable pzz0 equal f_avp[3]
variable pxy0 equal f_avp[4]
variable pxz0 equal f_avp[5]
variable pyz0 equal f_avp[6]

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 11.171740075426
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 7.48941479754596
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 9.42258167658589

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-2869.51205794601)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-2869.51205794601)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--25018.9559128545)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--25018.9559128545)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-11333.664536759)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-11333.664536759)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-6133.11368338162)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-6133.11368338162)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-2461.14926334424)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-2461.14926334424)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-10665.4599304907)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-10665.4599304907)/(v_delta/v_len0)*0.0001

# Write restart
write_restart restart.equil
System init for write_restart ...

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 11.171740075426
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*11.171740075426
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.22343480150852 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.22343480150852 xy delta 0.00350160929648113 xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.22343480150852 xy delta 0.00350160929648113 xz delta 0.00308644996367088 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (10.919919 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (10.919919 7.4703852 9.3986401) with tilt (-0.17157886 -0.15432250 -1.9346936)
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (10.919919 7.4703852 9.3986401) with tilt (-0.17157886 -0.15123605 -1.9346936)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.67355    27783.261            0            0            0            0            0            0 
     100    258.42318   -453.75989    16267.291    63107.194   -17902.636    20190.391    16114.363    1305.0897    5155.8722 
     200    234.05901   -453.37137    10592.139    41798.882    -12871.92    9152.1367    11509.492   -5888.0314    8715.8629 
     300    270.70113   -453.26315    9974.6533    33942.114   -13779.151    6061.0725    10365.492   -2680.5973    7227.8775 
     400    301.64318   -453.37863    12258.058    38589.644   -14548.148    8446.1881    15870.922   -2779.4769    5310.1354 
     500    304.72221     -453.483    21958.064    39970.196   -5645.5298     16983.06    19697.936   -9586.3602    2923.4287 
     600    292.61233   -453.54675    22645.516    46855.738   -473.19717    22293.331     18810.92    -9200.495    86.905386 
     700    283.27576   -453.58749    19737.176    50345.541   -3664.8258    16329.636    16489.888   -902.71729    3205.2025 
     800    323.49646   -453.63623     14156.46    41348.688    -7091.877    18128.607    14404.435   -3046.4535    6319.3426 
     900    281.69444   -453.75385    6323.7993    31129.493   -15768.935    10903.365    13232.519   -1326.7308    3876.8672 
    1000     261.3936    -453.4465    4045.6142    27098.827   -12469.685    323.75153    17143.595    5612.8856     7980.859 
Loop time of 174.544 on 1 procs for 1000 steps with 62 atoms

Performance: 0.050 ns/day, 484.845 hours/ns, 5.729 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 174.53     | 174.53     | 174.53     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0039833  | 0.0039833  | 0.0039833  |   0.0 |  0.00
Output  | 0.0005095  | 0.0005095  | 0.0005095  |   0.0 |  0.00
Modify  | 0.011814   | 0.011814   | 0.011814   |   0.0 |  0.01
Other   |            | 0.002585   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4390.00 ave        4390 max        4390 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4390
Ave neighs/atom = 70.806452
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0     261.3936    -453.4465    4045.6333            0            0            0            0            0            0 
     100    280.69729   -453.74753    12689.109    34168.959   -8545.6449    466.28338    17753.714    2827.2882    7332.7223 
     200     265.0532   -453.53421    17230.068    52047.597   -8694.9627     10667.85    11683.559   -4758.2953    4922.1157 
     300    290.48846   -453.54462    10778.263     40056.97   -12893.616    10935.986    11399.063   -2057.4157    3861.2451 
Loop time of 52.9858 on 1 procs for 300 steps with 62 atoms

Performance: 0.049 ns/day, 490.610 hours/ns, 5.662 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 52.98      | 52.98      | 52.98      |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0012848  | 0.0012848  | 0.0012848  |   0.0 |  0.00
Output  | 0.00020599 | 0.00020599 | 0.00020599 |   0.0 |  0.00
Modify  | 0.0038576  | 0.0038576  | 0.0038576  |   0.0 |  0.01
Other   |            | 0.0008438  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4430.00 ave        4430 max        4430 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4430
Ave neighs/atom = 71.451613
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 185.937287519707
variable C2neg equal ${d2}
variable C2neg equal 60.626700974668
variable C3neg equal ${d3}
variable C3neg equal -1.98839350187451
variable C4neg equal ${d4}
variable C4neg equal -11.3593428693005
variable C5neg equal ${d5}
variable C5neg equal -22.5928248409475
variable C6neg equal ${d6}
variable C6neg equal 3.668012957215

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*11.171740075426
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.22343480150852 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.22343480150852 xy delta -0.00350160929648113 xz delta ${deltaxz} remap units box
change_box all x delta 0 0.22343480150852 xy delta -0.00350160929648113 xz delta -0.00308644996367088 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.366789 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.366789 7.4703852 9.3986401) with tilt (-0.17858207 -0.15432250 -1.9346936)
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.366789 7.4703852 9.3986401) with tilt (-0.17858207 -0.15740895 -1.9346936)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817    -453.6777   -35005.761            0            0            0            0            0            0 
     100    273.66808   -453.74011   -26638.348   -46627.189   -41075.004   -5978.4013    15320.046     -1089.03    4075.1714 
     200    234.21306   -453.42163   -20211.913   -18704.223   -37841.905   -7443.9937    9988.7171   -2652.0299    7299.2691 
     300    265.22492   -453.32333   -23682.134   -26468.933     -35754.8   -6672.4839    8517.9388    -219.1207    5938.2579 
     400    300.22158   -453.41647   -22205.926    -30624.43   -34394.086   -5738.1382    13849.458   -1409.3214    4755.4353 
     500    300.87242   -453.52112    -11369.43   -25184.125   -26564.258    1707.9841    17150.071   -7021.6456    2960.4866 
     600    291.50291   -453.58026    -10242.87   -15818.333   -21183.406    6867.8962    16401.187   -6023.9743   -20.071246 
     700    283.79828   -453.61209   -13032.344   -13533.201   -23510.806    1521.3671    14617.978    1768.3774    2569.2669 
     800    323.13931   -453.67322    -18621.81   -22183.524   -26855.765     3318.256     12432.48     246.2031    5499.1137 
     900    282.88689   -453.75977   -26406.428    -32393.14   -36163.795   -2778.0353     10277.68    1741.2398    3537.7017 
    1000     261.7401   -453.43216    -28484.95   -36857.097   -33266.894   -12375.692    14195.617    7457.0264    7404.2782 
Loop time of 168.503 on 1 procs for 1000 steps with 62 atoms

Performance: 0.051 ns/day, 468.063 hours/ns, 5.935 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 168.49     | 168.49     | 168.49     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0035119  | 0.0035119  | 0.0035119  |   0.0 |  0.00
Output  | 0.00053334 | 0.00053334 | 0.00053334 |   0.0 |  0.00
Modify  | 0.010685   | 0.010685   | 0.010685   |   0.0 |  0.01
Other   |            | 0.002369   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4242.00 ave        4242 max        4242 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4242
Ave neighs/atom = 68.419355
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0     261.7401   -453.43216   -28484.937            0            0            0            0            0            0 
     100    282.44725   -453.73801   -20109.105   -29826.246   -28772.206   -12727.366    14922.218    5970.0578    6690.1997 
     200    263.95528   -453.54132     -15160.7   -12229.524   -28101.779   -3798.1613    9536.6158   -1346.1092    4018.6941 
     300    288.16504   -453.55057   -20932.945   -21814.333   -32416.545   -2971.5306    9184.8108    670.24112    2835.9393 
Loop time of 54.1511 on 1 procs for 300 steps with 62 atoms

Performance: 0.048 ns/day, 501.399 hours/ns, 5.540 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 54.146     | 54.146     | 54.146     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001009   | 0.001009   | 0.001009   |   0.0 |  0.00
Output  | 0.00013089 | 0.00013089 | 0.00013089 |   0.0 |  0.00
Modify  | 0.0030372  | 0.0030372  | 0.0030372  |   0.0 |  0.01
Other   |            | 0.0007191  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        727.000 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4246.00 ave        4246 max        4246 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4246
Ave neighs/atom = 68.483871
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 123.419226216208
variable C2pos equal ${d2}
variable C2pos equal 36.9879435933885
variable C3pos equal ${d3}
variable C3pos equal 71.5259755598223
variable C4pos equal ${d4}
variable C4pos equal 16.4858721335047
variable C5pos equal ${d5}
variable C5pos equal 8.95454070644353
variable C6pos equal ${d6}
variable C6pos equal 7.4032455797781

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(185.937287519707+${C1pos})
variable C11 equal 0.5*(185.937287519707+123.419226216208)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(60.626700974668+${C2pos})
variable C21 equal 0.5*(60.626700974668+36.9879435933885)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(-1.98839350187451+${C3pos})
variable C31 equal 0.5*(-1.98839350187451+71.5259755598223)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-11.3593428693005+${C4pos})
variable C41 equal 0.5*(-11.3593428693005+16.4858721335047)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-22.5928248409475+${C5pos})
variable C51 equal 0.5*(-22.5928248409475+8.95454070644353)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(3.668012957215+${C6pos})
variable C61 equal 0.5*(3.668012957215+7.4032455797781)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 7.48941479754596
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*7.48941479754596
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -0.149788295950919 yz delta ${deltayz} remap units box
change_box all y delta 0 -0.149788295950919 yz delta 0.038693871078448 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.3205969 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.3205969 9.3986401) with tilt (-0.17508046 -0.15432250 -1.8959997)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -454.03696    22355.927            0            0            0            0            0            0 
     100    263.64997   -454.04355    20302.776    19351.471    18517.114    21772.405    16521.924   -2788.7861    4657.8301 
     200    236.91006   -453.65414    17824.476    25114.031    16444.066    16128.911    10740.623   -6551.9437    8463.2652 
     300    267.97006   -453.53232    12985.196    13824.305    13721.395    13010.169    9448.7605   -3901.7918    6485.4783 
     400    298.35218   -453.63681    14753.649    13052.779    13697.377    12656.966    14917.926   -4678.3221    5161.5195 
     500     303.3429   -453.73163    25722.317    17584.498     22654.09    20709.336    18545.955   -11013.972    3106.8674 
     600     292.6528   -453.79306    25966.116    25997.241    27099.663    26507.537    17777.372   -10344.035    113.25178 
     700    283.46152   -453.83862    22149.111    28010.419     23598.02    19812.802     15617.79   -2081.4794    3214.0379 
     800     322.8668   -453.90454    16202.693    18295.603    20005.686    20915.693    13441.538   -3775.9206    6364.5713 
     900     283.7654     -454.021    7959.3574    8378.7419    10561.579    13254.492    11765.686   -2029.6669    4082.5467 
    1000    262.27821   -453.71014    6011.3111    4447.1588    13937.726    2397.3753    15811.901    4435.9282    8344.5289 
Loop time of 172.112 on 1 procs for 1000 steps with 62 atoms

Performance: 0.050 ns/day, 478.089 hours/ns, 5.810 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 172.1      | 172.1      | 172.1      |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0035515  | 0.0035515  | 0.0035515  |   0.0 |  0.00
Output  | 0.00055003 | 0.00055003 | 0.00055003 |   0.0 |  0.00
Modify  | 0.010272   | 0.010272   | 0.010272   |   0.0 |  0.01
Other   |            | 0.002237   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        745.000 ave         745 max         745 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4416.00 ave        4416 max        4416 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4416
Ave neighs/atom = 71.225806
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    262.27821   -453.71014    6011.3054            0            0            0            0            0            0 
     100    282.74632   -454.01666    14752.558    11907.978    17929.829    2990.8313    16539.077    2083.8601    7439.6903 
     200    265.09315   -453.80548    19011.963    30105.529    16800.962    12849.871    10624.855   -5835.5072    5076.7097 
     300    290.43717   -453.82919    12272.513    18527.412    11275.982     13271.95    10281.614   -3206.0446    3926.5796 
Loop time of 53.1241 on 1 procs for 300 steps with 62 atoms

Performance: 0.049 ns/day, 491.890 hours/ns, 5.647 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 53.117     | 53.117     | 53.117     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014074  | 0.0014074  | 0.0014074  |   0.0 |  0.00
Output  | 0.00023007 | 0.00023007 | 0.00023007 |   0.0 |  0.00
Modify  | 0.004267   | 0.004267   | 0.004267   |   0.0 |  0.01
Other   |            | 0.0009849  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        739.000 ave         739 max         739 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4432.00 ave        4432 max        4432 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4432
Ave neighs/atom = 71.483871
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 78.2894978819381
variable C2neg equal ${d2}
variable C2neg equal 181.474690667428
variable C3neg equal ${d3}
variable C3neg equal 9.691427718096
variable C4neg equal ${d4}
variable C4neg equal -11.0326705797774
variable C5neg equal ${d5}
variable C5neg equal -28.3359692068913
variable C6neg equal ${d6}
variable C6neg equal -1.91923091743651

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*7.48941479754596
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 0.149788295950919 yz delta ${deltayz} remap units box
change_box all y delta 0 0.149788295950919 yz delta -0.038693871078448 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.6201735 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.6201735 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9733874)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.956 | 2.956 | 2.956 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.46777   -30034.871            0            0            0            0            0            0 
     100    259.30344   -453.38763   -29116.755   -5219.0626   -73612.211   -7514.8408    15073.941    2679.9924    4561.1895 
     200    232.94976   -453.10217   -27158.215   -1565.2897   -65815.968   -13260.514     10679.67   -1733.2246    7517.1715 
     300    267.35584   -452.99594   -27279.778    -9053.448   -61881.166   -13337.082    9396.7153     955.0581    6574.3721 
     400     303.4329    -453.1098   -24830.888   -7716.3921    -61051.27   -10134.152     14819.94    410.28977      4936.93 
     500    302.48067   -453.22833   -15076.172   -4240.9211   -53494.735   -1895.8868    18317.364   -5551.4009    2864.6402 
     600    291.92689   -453.29355   -13745.884    3284.7628   -47416.707     2886.228    17510.432    -4801.242   -87.559847 
     700    284.03341   -453.32568   -15734.218    6562.8459   -49362.237   -1873.6809    15574.376     2996.457    2489.2366 
     800    323.36802   -453.37384   -20952.068   -1264.7239   -52708.942    569.11976    13526.422    1071.7915    5388.1153 
     900     281.0545    -453.4635   -28329.464   -11686.191   -61317.407   -5103.6087    11890.844    2536.3431    3401.8449 
    1000    261.24475   -453.14066   -30686.077    -16211.96    -58440.29   -14384.043    15620.207    8677.4273    7056.3303 
Loop time of 168.11 on 1 procs for 1000 steps with 62 atoms

Performance: 0.051 ns/day, 466.971 hours/ns, 5.949 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 168.09     | 168.09     | 168.09     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0033498  | 0.0033498  | 0.0033498  |   0.0 |  0.00
Output  | 0.00047159 | 0.00047159 | 0.00047159 |   0.0 |  0.00
Modify  | 0.0098526  | 0.0098526  | 0.0098526  |   0.0 |  0.01
Other   |            | 0.002278   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4238.00 ave        4238 max        4238 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4238
Ave neighs/atom = 68.354839
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.956 | 2.956 | 2.956 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    261.24475   -453.14066    -30686.09            0            0            0            0            0            0 
     100    280.59975   -453.44321   -22463.354   -9559.7657   -54110.207   -15152.504    16167.413    6792.2199    6586.7694 
     200     264.2629   -453.24414   -17306.638    7618.0404   -52537.679   -6018.1448    10668.161    -279.7773     3921.223 
     300    287.88181   -453.24188   -22745.931   -2408.2975   -55525.358    -5276.026    10366.154    1846.9101    2790.9182 
Loop time of 50.6919 on 1 procs for 300 steps with 62 atoms

Performance: 0.051 ns/day, 469.369 hours/ns, 5.918 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 50.687     | 50.687     | 50.687     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0010328  | 0.0010328  | 0.0010328  |   0.0 |  0.00
Output  | 0.00015497 | 0.00015497 | 0.00015497 |   0.0 |  0.00
Modify  | 0.0029237  | 0.0029237  | 0.0029237  |   0.0 |  0.01
Other   |            | 0.0006683  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4232.00 ave        4232 max        4232 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4232
Ave neighs/atom = 68.258065
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 26.3890475552513
variable C2pos equal ${d2}
variable C2pos equal 152.532008460776
variable C3pos equal ${d3}
variable C3pos equal 83.0484529271794
variable C4pos equal ${d4}
variable C4pos equal 16.7109776408539
variable C5pos equal ${d5}
variable C5pos equal 3.0711959040622
variable C6pos equal ${d6}
variable C6pos equal 1.496527854742

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(78.2894978819381+${C1pos})
variable C12 equal 0.5*(78.2894978819381+26.3890475552513)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(181.474690667428+${C2pos})
variable C22 equal 0.5*(181.474690667428+152.532008460776)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(9.691427718096+${C3pos})
variable C32 equal 0.5*(9.691427718096+83.0484529271794)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-11.0326705797774+${C4pos})
variable C42 equal 0.5*(-11.0326705797774+16.7109776408539)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(-28.3359692068913+${C5pos})
variable C52 equal 0.5*(-28.3359692068913+3.0711959040622)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(-1.91923091743651+${C6pos})
variable C62 equal 0.5*(-1.91923091743651+1.496527854742)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.42258167658589
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.42258167658589
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -0.188451633531718 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.2101885) with tilt (-0.17508046 -0.15432250 -1.9346936)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.958 | 2.958 | 2.958 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.69312    23360.021            0            0            0            0            0            0 
     100    267.01595   -453.78149    16766.146    19840.349   -15825.676    56187.152    16030.526    1492.3451    4941.5413 
     200    235.29954   -453.39621    11601.395    19657.948   -11033.801    34113.107    11197.721   -4716.8555    8716.4008 
     300    272.13271   -453.31723    8183.4874    8319.1182   -12827.964    29223.142    10413.965   -1585.8019    7109.7316 
     400     302.1668   -453.43906     9924.552    9293.2816   -14083.807    30523.513    16011.496    -1814.105    5189.3299 
     500    304.28054   -453.54926    20030.721    13603.722   -5606.5464     36908.03    19540.917   -8040.3991    2977.7511 
     600    292.65401   -453.62408    20352.932    22008.658   -268.35919    40831.003     18654.75   -7321.5591    140.57333 
     700    283.48861   -453.68051    16541.422    24798.701   -3640.3359    33693.586    16432.581    763.53603    3255.0943 
     800    324.17088   -453.72314    10286.052    15095.825   -7656.4668     34564.72    14192.316   -1111.2629    6547.0182 
     900    283.00576   -453.83963    2372.3779    4300.2362   -17235.169    27454.829    12628.862    946.17701    4074.4382 
    1000     264.3835   -453.53799   -95.694715    219.88992   -14466.417    17078.774     16754.89    7604.5573    8377.6428 
Loop time of 171.608 on 1 procs for 1000 steps with 62 atoms

Performance: 0.050 ns/day, 476.689 hours/ns, 5.827 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 171.59     | 171.59     | 171.59     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.003258   | 0.003258   | 0.003258   |   0.0 |  0.00
Output  | 0.00052142 | 0.00052142 | 0.00052142 |   0.0 |  0.00
Modify  | 0.0097363  | 0.0097363  | 0.0097363  |   0.0 |  0.01
Other   |            | 0.002314   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        743.000 ave         743 max         743 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4392.00 ave        4392 max        4392 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4392
Ave neighs/atom = 70.838710
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.958 | 2.958 | 2.958 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0     264.3835   -453.53799   -95.675144            0            0            0            0            0            0 
     100    280.42344   -453.84436    8531.2949    7632.2545   -10100.456     16146.16    17336.401    4947.0938     7507.532 
     200    263.99524   -453.64725    13154.685    26042.461   -9882.5789    25499.848    11346.082   -2979.8581    4923.4821 
     300    290.14781   -453.65176    6887.0751    14681.315   -14604.221    26242.886    11275.636   -185.71197     3679.086 
Loop time of 55.0971 on 1 procs for 300 steps with 62 atoms

Performance: 0.047 ns/day, 510.159 hours/ns, 5.445 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 55.092     | 55.092     | 55.092     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0009768  | 0.0009768  | 0.0009768  |   0.0 |  0.00
Output  | 0.00016212 | 0.00016212 | 0.00016212 |   0.0 |  0.00
Modify  | 0.0028396  | 0.0028396  | 0.0028396  |   0.0 |  0.01
Other   |            | 0.0007279  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        737.000 ave         737 max         737 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4422.00 ave        4422 max        4422 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4422
Ave neighs/atom = 71.322581
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 59.0590145416894
variable C2neg equal ${d2}
variable C2neg equal 52.0736749754659
variable C3neg equal ${d3}
variable C3neg equal 74.5461089002114
variable C4neg equal ${d4}
variable C4neg equal -12.2701386546209
variable C5neg equal ${d5}
variable C5neg equal -13.2343061763799
variable C6neg equal ${d6}
variable C6neg equal 3.0508800780025

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.42258167658589
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 0.188451633531718 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.5870918) with tilt (-0.17508046 -0.15432250 -1.9346936)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.955 | 2.955 | 2.955 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.79929   -31041.591            0            0            0            0            0            0 
     100     261.6521   -453.73825   -26501.052   -6146.4231   -43410.462   -38301.599    15458.921   -935.03195      4266.25 
     200    234.84376   -453.46585    -21606.46    2582.9607   -40437.463   -30297.506    10355.863   -3180.0492    7356.1443 
     300    263.61459   -453.33743   -22543.358   -4702.7916   -37686.867   -26917.944     8652.312   -643.38139     5980.959 
     400    301.22476   -453.44742   -20011.466   -4871.2478    -35723.07   -24539.993    13900.351   -1651.1589    4804.0963 
     500    301.85889   -453.55463    -9443.853   -1398.8992   -27410.193   -14873.869    17542.489   -7820.2507    2827.9199 
     600    291.97813    -453.6123   -8097.4883    6147.6133    -22079.38   -8293.6769    16825.357   -7220.4033   -154.88651 
     700    283.78163   -453.63376   -10020.818    8812.4502   -24167.455   -12474.264    14977.722    713.77313    2429.3737 
     800    323.05994   -453.70718   -14942.951     864.9397   -27048.804   -9689.3699    12930.192   -974.38712    5197.6362 
     900    282.13233   -453.79816   -22652.157   -8787.9395   -35562.133    -15804.58    11140.088    238.62924    3314.1297 
    1000    259.20951   -453.47336   -24503.963   -13233.978    -32125.15   -25510.585    14846.386    6084.9465    6981.3161 
Loop time of 167.816 on 1 procs for 1000 steps with 62 atoms

Performance: 0.051 ns/day, 466.155 hours/ns, 5.959 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 167.8      | 167.8      | 167.8      |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0031259  | 0.0031259  | 0.0031259  |   0.0 |  0.00
Output  | 0.00043082 | 0.00043082 | 0.00043082 |   0.0 |  0.00
Modify  | 0.0094428  | 0.0094428  | 0.0094428  |   0.0 |  0.01
Other   |            | 0.002222   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        689.000 ave         689 max         689 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4264.00 ave        4264 max        4264 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4264
Ave neighs/atom = 68.774194
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.955 | 2.955 | 2.955 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    259.20951   -453.47336   -24503.965            0            0            0            0            0            0 
     100    283.08121   -453.77585   -16056.857   -6597.1217   -28016.339   -24712.523    15554.176    4418.5564    6385.3559 
     200    265.37314    -453.5621   -11166.345    10474.029   -27719.911   -14839.998    10097.225   -2627.4549     3915.225 
     300    288.23461   -453.57776   -17062.615    304.99813   -31559.117   -14316.253    9536.6774    -698.0443    2880.9487 
Loop time of 54.2755 on 1 procs for 300 steps with 62 atoms

Performance: 0.048 ns/day, 502.551 hours/ns, 5.527 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 54.271     | 54.271     | 54.271     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00098348 | 0.00098348 | 0.00098348 |   0.0 |  0.00
Output  | 0.00018787 | 0.00018787 | 0.00018787 |   0.0 |  0.00
Modify  | 0.0029333  | 0.0029333  | 0.0029333  |   0.0 |  0.01
Other   |            | 0.0007603  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        699.000 ave         699 max         699 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4260.00 ave        4260 max        4260 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4260
Ave neighs/atom = 68.709677
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 12.8225696539698
variable C2pos equal ${d2}
variable C2pos equal 32.700806087784
variable C3pos equal ${d3}
variable C3pos equal 128.249588402137
variable C4pos equal ${d4}
variable C4pos equal 16.2608247797284
variable C5pos equal ${d5}
variable C5pos equal 15.7959678034108
variable C6pos equal ${d6}
variable C6pos equal 5.64391245214025

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(59.0590145416894+${C1pos})
variable C13 equal 0.5*(59.0590145416894+12.8225696539698)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(52.0736749754659+${C2pos})
variable C23 equal 0.5*(52.0736749754659+32.700806087784)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(74.5461089002114+${C3pos})
variable C33 equal 0.5*(74.5461089002114+128.249588402137)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(-12.2701386546209+${C4pos})
variable C43 equal 0.5*(-12.2701386546209+16.2608247797284)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(-13.2343061763799+${C5pos})
variable C53 equal 0.5*(-13.2343061763799+15.7959678034108)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(3.0508800780025+${C6pos})
variable C63 equal 0.5*(3.0508800780025+5.64391245214025)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.42258167658589
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.42258167658589
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -0.188451633531718 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -2.1231452)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.88895    -5444.797            0            0            0            0            0            0 
     100    258.63686   -453.82193   -5714.5145    6578.6815   -30793.957    6888.7817    13207.018   -57.296049    20075.003 
     200    234.55803   -453.49606   -5386.7076    11294.987   -26671.987    1108.2234    8810.4607    -4297.221    19522.657 
     300    266.03968   -453.36798   -7863.4897    1892.4651   -26143.359    184.91541    7902.7719   -1343.7048    17111.945 
     400    300.76143   -453.47089   -5926.8147    2004.6277   -25674.886    1416.1988    13663.174   -1939.1877    15687.251 
     500    304.41139   -453.57855    4199.0872    5820.0811   -17353.865    8913.3864    17313.391   -8197.0197    13499.634 
     600     292.4355   -453.64661    5209.5858    13754.172   -11781.461    14353.066    16463.711   -7343.5415    10262.578 
     700    283.32267   -453.66849    2694.8458    16736.056   -14635.637    9177.2193    14455.884    828.54032    12772.736 
     800    324.00345    -453.7243   -2941.9556    8193.6092   -17976.516    11294.252    12560.892    -914.2823    15549.172 
     900     283.9362   -453.83765   -10765.673    -2364.189   -26878.797    4382.3721    11059.952     841.5464    13069.665 
    1000    261.64803   -453.51965   -12986.538   -6659.4293   -23935.267   -5644.7066    14831.605    7082.2588    17084.433 
Loop time of 169.641 on 1 procs for 1000 steps with 62 atoms

Performance: 0.051 ns/day, 471.225 hours/ns, 5.895 timesteps/s
100.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 169.62     | 169.62     | 169.62     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0035031  | 0.0035031  | 0.0035031  |   0.0 |  0.00
Output  | 0.00054383 | 0.00054383 | 0.00054383 |   0.0 |  0.00
Modify  | 0.010053   | 0.010053   | 0.010053   |   0.0 |  0.01
Other   |            | 0.002297   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        739.000 ave         739 max         739 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4326.00 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    261.64803   -453.51965   -12986.566            0            0            0            0            0            0 
     100    280.92004     -453.814   -4381.4033    380.17655   -19788.802   -5529.0162    15371.642    4890.7436     16373.66 
     200     264.5023   -453.61624    531.35137     18442.18   -19378.195    3990.8449    9576.7085   -2608.5141    13502.967 
     300     289.7739   -453.62726   -5751.3063    7596.1022   -23662.417    4646.8843    9350.1887   -376.06978    12040.216 
Loop time of 54.5587 on 1 procs for 300 steps with 62 atoms

Performance: 0.048 ns/day, 505.173 hours/ns, 5.499 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 54.554     | 54.554     | 54.554     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00099897 | 0.00099897 | 0.00099897 |   0.0 |  0.00
Output  | 0.00013709 | 0.00013709 | 0.00013709 |   0.0 |  0.00
Modify  | 0.002872   | 0.002872   | 0.002872   |   0.0 |  0.01
Other   |            | 0.0007463  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4344.00 ave        4344 max        4344 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4344
Ave neighs/atom = 70.064516
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 23.6329509287785
variable C2neg equal ${d2}
variable C2neg equal 6.78269432658849
variable C3neg equal ${d3}
variable C3neg equal -33.4339012525477
variable C4neg equal ${d4}
variable C4neg equal 29.5355106103029
variable C5neg equal ${d5}
variable C5neg equal -14.1860952015547
variable C6neg equal ${d6}
variable C6neg equal -6.57635635945884

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.42258167658589
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 0.188451633531718 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.7462419)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.956 | 2.956 | 2.956 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.95447   -5590.9703            0            0            0            0            0            0 
     100    263.47007   -453.91666   -6103.4398    5706.4417   -30368.865    6100.4682    18284.563    181.73392   -10884.044 
     200    233.34694   -453.53906   -6375.2662    10186.733   -26892.534    145.74417    12684.954   -3728.8615   -3632.7766 
     300    268.85312   -453.43329   -8496.8234    1172.8717   -25898.411   -1406.5408    11050.829   -1260.1059    -4097.173 
     400    300.84335   -453.53809   -6238.4822    1754.0929   -25576.902    504.64733     16167.75   -1974.0118   -5700.5364 
     500    301.06551   -453.63675    4358.5494    5763.9443    -17284.98    9217.2023    19653.237   -8037.4735   -7662.2682 
     600    291.92414   -453.69632     5040.861    13827.533   -12216.716    14387.207    18911.603   -7452.1503   -10272.121 
     700    283.90023    -453.7486    1843.2396      16287.9   -14816.475    8243.8578    16884.686    436.07595   -7141.2016 
     800    322.71037   -453.80844   -3674.7286    7234.0989   -18304.127    9760.8594    14485.203   -1421.2378   -3878.7251 
     900    281.38703   -453.90024   -11523.997   -2633.7774   -27435.784    3397.7667    12620.711    14.363166   -5724.9033 
    1000    261.65323   -453.58783   -13635.706   -6846.4912   -24202.145   -6761.7679    16679.231    6337.7796   -1783.1966 
Loop time of 169.166 on 1 procs for 1000 steps with 62 atoms

Performance: 0.051 ns/day, 469.905 hours/ns, 5.911 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 169.15     | 169.15     | 169.15     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0040588  | 0.0040588  | 0.0040588  |   0.0 |  0.00
Output  | 0.00055695 | 0.00055695 | 0.00055695 |   0.0 |  0.00
Modify  | 0.012262   | 0.012262   | 0.012262   |   0.0 |  0.01
Other   |            | 0.002674   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        725.000 ave         725 max         725 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4308.00 ave        4308 max        4308 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4308
Ave neighs/atom = 69.483871
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.956 | 2.956 | 2.956 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    261.65323   -453.58783   -13635.702            0            0            0            0            0            0 
     100    282.29488   -453.90204    -5241.976    162.97965   -19914.277   -7069.4722    17476.449     4330.256   -2435.6132 
     200    264.35829   -453.68817   -656.90435    17537.698   -19786.399    2476.4062    11847.587   -3116.5454     -4655.94 
     300    288.49943    -453.6983    -6562.632    6862.9758   -24004.168    2987.8441     11410.58   -692.13555   -5464.8344 
Loop time of 56.8637 on 1 procs for 300 steps with 62 atoms

Performance: 0.046 ns/day, 526.516 hours/ns, 5.276 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 56.856     | 56.856     | 56.856     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015271  | 0.0015271  | 0.0015271  |   0.0 |  0.00
Output  | 0.00023985 | 0.00023985 | 0.00023985 |   0.0 |  0.00
Modify  | 0.0046561  | 0.0046561  | 0.0046561  |   0.0 |  0.01
Other   |            | 0.0009887  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        727.000 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4344.00 ave        4344 max        4344 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4344
Ave neighs/atom = 70.064516
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -19.9673187616
variable C2pos equal ${d2}
variable C2pos equal -5.07394066549301
variable C3pos equal ${d3}
variable C3pos equal 41.7291020174815
variable C4pos equal ${d4}
variable C4pos equal 57.9897404278786
variable C5pos equal ${d5}
variable C5pos equal 15.7664240515655
variable C6pos equal ${d6}
variable C6pos equal -3.72559816630049

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(23.6329509287785+${C1pos})
variable C14 equal 0.5*(23.6329509287785+-19.9673187616)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(6.78269432658849+${C2pos})
variable C24 equal 0.5*(6.78269432658849+-5.07394066549301)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(-33.4339012525477+${C3pos})
variable C34 equal 0.5*(-33.4339012525477+41.7291020174815)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(29.5355106103029+${C4pos})
variable C44 equal 0.5*(29.5355106103029+57.9897404278786)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-14.1860952015547+${C5pos})
variable C54 equal 0.5*(-14.1860952015547+15.7664240515655)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-6.57635635945884+${C6pos})
variable C64 equal 0.5*(-6.57635635945884+-3.72559816630049)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.42258167658589
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.42258167658589
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -0.188451633531718 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.34277413 -1.9346936)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817     -453.884   -4645.2098            0            0            0            0            0            0 
     100    262.93332   -453.88583   -6825.6708    7001.3367   -33174.113    7728.9544    16122.242    14595.697    4509.8173 
     200    235.96514   -453.53601    -7523.434    8930.3457   -28778.571   -176.94668     11172.92    1732.4399    7780.0755 
     300    268.05558   -453.42181   -9353.0009    235.85362   -28222.109   -1450.9931    9798.4115    4767.4103    6529.6095 
     400    302.01233   -453.52286   -7167.4005    1066.3982   -27987.363     766.9729    14918.937    5475.2543    5000.5452 
     500    303.44846   -453.63168    3068.7101    4823.1782   -19692.978    8999.0456    18373.983   -1807.2351    2944.0064 
     600    291.52768   -453.69266    3809.1905    12561.247   -14407.149     14061.97    17585.303   -1461.8012    165.01831 
     700    281.26975    -453.7135    915.58458    15156.418   -17169.509    8574.2943    15465.246    6840.6416    3060.0554 
     800    323.73595   -453.76151   -4560.0587      6109.88   -20390.888    10415.263    13411.698      4743.27    6064.2133 
     900    281.64734   -453.86044   -12211.936   -4197.7587   -29218.922    4037.1495    11851.413    6024.4577    3923.6977 
    1000    262.48744   -453.55756   -14519.188   -8242.0644   -26246.506   -6081.4387    15876.679    12327.717    7976.3748 
Loop time of 173.511 on 1 procs for 1000 steps with 62 atoms

Performance: 0.050 ns/day, 481.974 hours/ns, 5.763 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 173.49     | 173.49     | 173.49     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0041506  | 0.0041506  | 0.0041506  |   0.0 |  0.00
Output  | 0.00064635 | 0.00064635 | 0.00064635 |   0.0 |  0.00
Modify  | 0.012388   | 0.012388   | 0.012388   |   0.0 |  0.01
Other   |            | 0.002675   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4312.00 ave        4312 max        4312 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4312
Ave neighs/atom = 69.548387
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    262.48744   -453.55756   -14519.213            0            0            0            0            0            0 
     100    280.45642   -453.85947   -6072.5592   -1390.2382   -22117.461   -6336.8396    16690.544    10295.466    7275.3973 
     200    264.44117   -453.65231   -1383.5456    16599.486   -21907.289    3077.0415     11095.72    2886.0722     4472.846 
     300    289.60184   -453.66299   -7551.7758     5744.077   -26158.255    3495.1144    10726.092    4794.6202    3404.9452 
Loop time of 56.0473 on 1 procs for 300 steps with 62 atoms

Performance: 0.046 ns/day, 518.957 hours/ns, 5.353 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 56.041     | 56.041     | 56.041     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0012679  | 0.0012679  | 0.0012679  |   0.0 |  0.00
Output  | 0.00019217 | 0.00019217 | 0.00019217 |   0.0 |  0.00
Modify  | 0.0037885  | 0.0037885  | 0.0037885  |   0.0 |  0.01
Other   |            | 0.0008266  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4348.00 ave        4348 max        4348 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4348
Ave neighs/atom = 70.129032
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 14.3728245703947
variable C2neg equal ${d2}
variable C2neg equal -5.69649447287249
variable C3neg equal ${d3}
variable C3neg equal -39.192750620198
variable C4neg equal ${d4}
variable C4neg equal -13.640842234354
variable C5neg equal ${d5}
variable C5neg equal 11.6673547049279
variable C6neg equal ${d6}
variable C6neg equal 0.303161629842998

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.42258167658589
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 0.188451633531718 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 0.034129135 -1.9346936)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.94327   -6056.7465            0            0            0            0            0            0 
     100    261.15937   -453.89471   -5237.8419    4994.9126   -27662.505    5256.8835    15387.181   -14329.955    4751.0558 
     200    231.83995   -453.53317   -4199.2368    11810.123   -24353.537    1373.5044    10327.703   -9721.8815    8226.6219 
     300    267.12024   -453.41919   -6859.3916    2715.7645   -23390.976    286.86205    9137.4531   -7261.5554    6616.2907 
     400    299.69978   -453.52277   -4967.3789    2530.8816   -22866.463    1184.3375    14909.207   -9304.2561    5056.6208 
     500    301.97134   -453.62155     5444.006    6431.3088   -14539.973    8979.6868    18589.218   -14421.121    2949.0589 
     600    292.77684   -453.68646    6433.0201    14713.976   -9178.4952    14473.239     17778.92   -13355.117   -122.33208 
     700    285.75209    -453.7388    3624.6366    17654.252   -11878.395    8649.0779    15858.956   -5592.8379     2633.039 
     800    323.17659   -453.80569    -2063.469    9137.8504   -15512.794    10425.839    13631.254   -7123.8138    5655.4508 
     900    283.37844   -453.91275   -10081.837   -994.49026   -24699.861    3497.1162    11824.044   -5236.5084    3450.8327 
    1000    260.67821   -453.58258   -12098.252   -5436.2971    -21474.04    -6608.999    15610.822    1044.5591    7348.6981 
Loop time of 173.755 on 1 procs for 1000 steps with 62 atoms

Performance: 0.050 ns/day, 482.652 hours/ns, 5.755 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 173.73     | 173.73     | 173.73     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0046902  | 0.0046902  | 0.0046902  |   0.0 |  0.00
Output  | 0.00065589 | 0.00065589 | 0.00065589 |   0.0 |  0.00
Modify  | 0.013016   | 0.013016   | 0.013016   |   0.0 |  0.01
Other   |            | 0.003111   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4326.00 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    260.67821   -453.58258   -12098.266            0            0            0            0            0            0 
     100    282.69922   -453.88989    -3551.413    1755.2235   -17160.038   -6539.4517    16154.137   -1131.3623    6709.6792 
     200    264.55028   -453.68704    1248.5054    19204.279   -16846.647     3121.783    10340.643   -8644.7971    4449.8418 
     300    288.65342   -453.69681   -4776.5267    8623.8994   -21131.553    3809.9049    10053.081   -5865.6026    3266.7204 
Loop time of 54.3331 on 1 procs for 300 steps with 62 atoms

Performance: 0.048 ns/day, 503.084 hours/ns, 5.521 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 54.325     | 54.325     | 54.325     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0016484  | 0.0016484  | 0.0016484  |   0.0 |  0.00
Output  | 0.000247   | 0.000247   | 0.000247   |   0.0 |  0.00
Modify  | 0.0048914  | 0.0048914  | 0.0048914  |   0.0 |  0.01
Other   |            | 0.001128   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        727.000 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4338.00 ave        4338 max        4338 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4338
Ave neighs/atom = 69.967742
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -28.7719367982383
variable C2pos equal ${d2}
variable C2pos equal -19.4370149592835
variable C3pos equal ${d3}
variable C3pos equal 37.6187981456317
variable C4pos equal ${d4}
variable C4pos equal 14.3319666140766
variable C5pos equal ${d5}
variable C5pos equal 41.6337594785047
variable C6pos equal ${d6}
variable C6pos equal 3.0618970007725

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(14.3728245703947+${C1pos})
variable C15 equal 0.5*(14.3728245703947+-28.7719367982383)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-5.69649447287249+${C2pos})
variable C25 equal 0.5*(-5.69649447287249+-19.4370149592835)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(-39.192750620198+${C3pos})
variable C35 equal 0.5*(-39.192750620198+37.6187981456317)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-13.640842234354+${C4pos})
variable C45 equal 0.5*(-13.640842234354+14.3319666140766)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(11.6673547049279+${C5pos})
variable C55 equal 0.5*(11.6673547049279+41.6337594785047)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(0.303161629842998+${C6pos})
variable C65 equal 0.5*(0.303161629842998+3.0618970007725)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 7.48941479754596

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*7.48941479754596
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -0.149788295950919 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.32486876 -0.15432250 -1.9346936)

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -453.80426   -4729.6424            0            0            0            0            0            0 
     100    265.25779   -453.74475   -5409.3635    6268.3553   -29858.979    6586.8734    30735.003    3552.9666    2080.7268 
     200    233.26011    -453.3811   -5442.9842    10799.713   -26576.702    1015.7796    22882.169    -2466.043    6105.4077 
     300    268.68745   -453.26276   -7815.9362    1995.7829   -25953.462   -216.86109    20893.928    184.06131    5091.9317 
     400    300.68115   -453.36292   -5807.2978    2163.4089   -25742.199    1464.5601    26286.476   -292.69854    3714.5258 
     500    301.55717   -453.46628    4576.4836     5913.818   -17231.991    9610.7146    29326.308   -7011.7068    1616.0207 
     600    292.23175    -453.5329     5445.923    14217.195   -12032.856    14836.119    27928.363   -6319.8834    -1287.275 
     700    283.13331   -453.56775    2453.9742    16947.493   -14846.427    9237.0971    25577.682    1785.4951    1716.8786 
     800    324.35827   -453.63055   -3019.4577    8066.5638   -18084.231     10826.84    23584.269   -191.98185    4840.5879 
     900    282.52744   -453.74185   -10640.758   -2092.8578   -26890.576    4200.4975    22420.487    1483.8108    2646.8898 
    1000    262.75007   -453.43564   -12902.914   -6354.0643   -23675.205   -5818.7064    26493.018    7825.9808    6781.2747 
Loop time of 175.561 on 1 procs for 1000 steps with 62 atoms

Performance: 0.049 ns/day, 487.670 hours/ns, 5.696 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 175.54     | 175.54     | 175.54     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0049875  | 0.0049875  | 0.0049875  |   0.0 |  0.00
Output  | 0.00059414 | 0.00059414 | 0.00059414 |   0.0 |  0.00
Modify  | 0.01426    | 0.01426    | 0.01426    |   0.0 |  0.01
Other   |            | 0.003414   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4338.00 ave        4338 max        4338 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4338
Ave neighs/atom = 69.967742
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    262.75007   -453.43564   -12902.869            0            0            0            0            0            0 
     100    281.12111   -453.73755   -4518.8984    499.42586    -19472.16   -6066.4748    26948.288    5843.6431    6069.8651 
     200    264.34415   -453.53891    288.78396    18434.138   -19427.751    3478.3041    21096.791    -1377.265    3497.9816 
     300     289.4063   -453.54526   -5918.1574    7734.4495   -23889.719    4129.4827    20751.664    864.65674    2500.0864 
Loop time of 56.0018 on 1 procs for 300 steps with 62 atoms

Performance: 0.046 ns/day, 518.535 hours/ns, 5.357 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 55.996     | 55.996     | 55.996     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013564  | 0.0013564  | 0.0013564  |   0.0 |  0.00
Output  | 0.0002389  | 0.0002389  | 0.0002389  |   0.0 |  0.00
Modify  | 0.0037675  | 0.0037675  | 0.0037675  |   0.0 |  0.01
Other   |            | 0.000931   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4342.00 ave        4342 max        4342 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4342
Ave neighs/atom = 70.032258
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 24.3246870708993
variable C2neg equal ${d2}
variable C2neg equal 5.64618456690551
variable C3neg equal ${d3}
variable C3neg equal -36.0209090413826
variable C4neg equal ${d4}
variable C4neg equal -18.1651364245982
variable C5neg equal ${d5}
variable C5neg equal -7.98246262635247
variable C6neg equal ${d6}
variable C6neg equal 50.4310228263576

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.17508046 -0.15432250 -1.9346936)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.002 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*7.48941479754596
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 0.149788295950919 remap units box
Changing box ...
  triclinic box = (-0.028385922 -0.019029618 -0.023941541) to (11.143354 7.4703852 9.3986401) with tilt (-0.025292169 -0.15432250 -1.9346936)

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    317.04817   -454.03323   -5998.3132            0            0            0            0            0            0 
     100    256.34286   -453.98492    -6103.295    6032.9596   -30185.717    6170.0564    820.71208   -3240.5192    7228.2336 
     200    234.59342   -453.64722   -5922.2526    10702.084   -26071.499    371.67001   -1319.9355   -5431.6109    9919.8467 
     300    266.42765   -453.53378   -8154.9967    1322.9584    -25128.67   -1000.8958   -1921.4958   -2728.9738    8114.4184 
     400    301.02592   -453.63934   -6058.0828    1790.4098   -24650.077    423.41304    3565.5364   -3568.7263    6414.2651 
     500    304.00019   -453.74365     4218.228     5774.853   -16655.983    8424.5017    7666.4213   -9166.4581    4313.8461 
     600    292.01111   -453.80319    5045.8151    13477.567   -11224.729    13741.913    7478.5656   -8451.9574    1363.6929 
     700    284.01159   -453.84055    2338.4526    16239.081   -13828.745    7989.3959     5776.365   -497.37454    4045.0098 
     800    322.22531   -453.88965   -3326.6756    7565.0162    -17400.39    10031.318    3509.9105   -2132.8573    6957.9979 
     900    282.54279   -453.98264    -11374.04   -2741.2598   -26571.332    3373.3777     1298.516   -630.92473    4809.7088 
    1000    260.56753   -453.65607   -13461.392   -7000.6438   -23574.739    -6834.406    5033.4416    5608.9349    8629.7387 
Loop time of 170.689 on 1 procs for 1000 steps with 62 atoms

Performance: 0.051 ns/day, 474.135 hours/ns, 5.859 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 170.67     | 170.67     | 170.67     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00472    | 0.00472    | 0.00472    |   0.0 |  0.00
Output  | 0.00061464 | 0.00061464 | 0.00061464 |   0.0 |  0.00
Modify  | 0.013272   | 0.013272   | 0.013272   |   0.0 |  0.01
Other   |            | 0.003161   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4326.00 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.008 ${seed}
fix 5 all langevin 300 300 0.008 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    260.56753   -453.65607   -13461.375            0            0            0            0            0            0 
     100     282.0237    -453.9621   -4854.2369    211.85596   -19356.869   -6833.7515    5934.1494    3386.3035    7994.6878 
     200    264.57599   -453.74957   -187.25432    17682.702   -18879.258    2700.8484    382.90346   -4327.1388    5499.0345 
     300    288.97173   -453.76306   -6169.6156    6865.5839   -22948.377    3182.9144    48.860137   -1907.6215    4260.1637 
Loop time of 53.68 on 1 procs for 300 steps with 62 atoms

Performance: 0.048 ns/day, 497.037 hours/ns, 5.589 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 53.672     | 53.672     | 53.672     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0016115  | 0.0016115  | 0.0016115  |   0.0 |  0.00
Output  | 0.00024199 | 0.00024199 | 0.00024199 |   0.0 |  0.00
Modify  | 0.0046401  | 0.0046401  | 0.0046401  |   0.0 |  0.01
Other   |            | 0.001168   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        727.000 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4336.00 ave        4336 max        4336 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4336
Ave neighs/atom = 69.935484
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -19.9803592570993
variable C2pos equal ${d2}
variable C2pos equal -10.352894995506
variable C3pos equal ${d3}
variable C3pos equal 40.7537505857938
variable C4pos equal ${d4}
variable C4pos equal 9.36474986332911
variable C5pos equal ${d5}
variable C5pos equal 21.843853601643
variable C6pos equal ${d6}
variable C6pos equal 53.0829989692665

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(24.3246870708993+${C1pos})
variable C16 equal 0.5*(24.3246870708993+-19.9803592570993)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(5.64618456690551+${C2pos})
variable C26 equal 0.5*(5.64618456690551+-10.352894995506)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-36.0209090413826+${C3pos})
variable C36 equal 0.5*(-36.0209090413826+40.7537505857938)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-18.1651364245982+${C4pos})
variable C46 equal 0.5*(-18.1651364245982+9.36474986332911)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(-7.98246262635247+${C5pos})
variable C56 equal 0.5*(-7.98246262635247+21.843853601643)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(50.4310228263576+${C6pos})
variable C66 equal 0.5*(50.4310228263576+53.0829989692665)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 154.678256867958
variable C22all equal ${C22}
variable C22all equal 167.003349564102
variable C33all equal ${C33}
variable C33all equal 101.397848651174

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(52.3392727185947+${C21})
variable C12all equal 0.5*(52.3392727185947+48.8073222840282)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(35.9407920978296+${C31})
variable C13all equal 0.5*(35.9407920978296+34.7687910289739)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(42.387240531625+${C32})
variable C23all equal 0.5*(42.387240531625+46.3699403226377)

variable C44all equal ${C44}
variable C44all equal 43.7626255190907
variable C55all equal ${C55}
variable C55all equal 26.6505570917163
variable C66all equal ${C66}
variable C66all equal 51.7570108978121

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(1.83281608358925+${C41})
variable C14all equal 0.5*(1.83281608358925+2.5632646321021)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(-7.1995561139218+${C51})
variable C15all equal 0.5*(-7.1995561139218+-6.81914206725199)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(2.1721639069+${C61})
variable C16all equal 0.5*(2.1721639069+5.53562926849655)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(0.85437683054774+${C42})
variable C24all equal 0.5*(0.85437683054774+2.83915353053825)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(-12.566754716078+${C52})
variable C25all equal 0.5*(-12.566754716078+-12.6323866514145)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-2.35335521430025+${C62})
variable C26all equal 0.5*(-2.35335521430025+-0.211351531347255)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(4.1476003824669+${C43})
variable C34all equal 0.5*(4.1476003824669+1.99534306255375)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(-0.786976237283149+${C53})
variable C35all equal 0.5*(-0.786976237283149+1.28083081351545)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(2.3664207722056+${C63})
variable C36all equal 0.5*(2.3664207722056+4.34739626507137)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(0.3455621898613+${C54})
variable C45all equal 0.5*(0.3455621898613+0.7901644250054)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-4.40019328063454+${C64})
variable C46all equal 0.5*(-4.40019328063454+-5.15097726287966)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(6.93069548764527+${C65})
variable C56all equal 0.5*(6.93069548764527+1.68252931530775)


print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 154.678256867958 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 167.003349564102 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 101.397848651174 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 50.5732975013115 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 35.3547915634017 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 44.3785904271313 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 43.7626255190907 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 26.6505570917163 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 51.7570108978121 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = 2.19804035784568 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = -7.00934909058689 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = 3.85389658769827 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = 1.84676518054299 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = -12.5995706837463 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = -1.28235337282375 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = 3.07147172251032 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = 0.246927288116151 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = 3.35690851863848 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = 0.56786330743335 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -4.7755852717571 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = 4.30661240147651 GPa

print " "
 
print "Cij tensor matrix"
Cij tensor matrix
print " "
 
print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}"
154.678256867958  50.5732975013115  35.3547915634017  2.19804035784568  -7.00934909058689  3.85389658769827
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}"
50.5732975013115  167.003349564102  44.3785904271313  1.84676518054299  -12.5995706837463  -1.28235337282375
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}"
35.3547915634017  44.3785904271313  101.397848651174  3.07147172251032  0.246927288116151  3.35690851863848
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}"
2.19804035784568  1.84676518054299  3.07147172251032  43.7626255190907  0.56786330743335  -4.7755852717571
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}"
-7.00934909058689  -12.5995706837463  0.246927288116151  0.56786330743335  26.6505570917163  4.30661240147651
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}"
3.85389658769827  -1.28235337282375  3.35690851863848  -4.7755852717571  4.30661240147651  51.7570108978121

print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}" file Cij.dat screen no
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}" append Cij.dat screen no
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}" append Cij.dat screen no
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}" append Cij.dat screen no
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}" append Cij.dat screen no
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}" append Cij.dat screen no

write_restart restart2
System init for write_restart ...
Total wall time: 1:18:23
