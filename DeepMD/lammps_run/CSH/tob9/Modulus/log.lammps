LAMMPS (2 Aug 2023 - Update 1)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
# Compute elastic constant tensor for a crystal at finite temperature
#
# WARNING: This script attempts to measure small differences in
# statistical averages generated by finite temperature MD simulations.
# This creates many more opportunities for errors to occur, compared
# to the zero temperature version provided in examples/ELASTIC.
# Hence, it is always a good idea to start with the zero temperature
# calculation, before attempting to use this script.
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, MD parameters, deformation parameters,
#		  and initial configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the MD sampling of stress components
#  is generating accurate statistical averages.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to
#  check for finite size effects.
#

# include init.mod

# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 2.0e-2

# real units, elastic constants in GPa
units		metal
atom_style atomic
variable cfac equal 1.0e-4
variable cunits string GPa

# Define MD parameters
variable nevery equal 10                  # sampling interval
variable nrepeat equal 10                 # number of samples
variable nfreq equal ${nevery}*${nrepeat} # length of one average
variable nfreq equal 10*${nrepeat} 
variable nfreq equal 10*10 
variable nthermo equal ${nfreq}           # interval for thermo output
variable nthermo equal 100           
variable nequil equal 10*${nthermo}       # length of equilibration run
variable nequil equal 10*100       
variable nrun equal 3*${nthermo}          # length of equilibrated run
variable nrun equal 3*100          
variable temp equal 300                   # temperature of initial sample
variable timestep equal 0.001             # timestep
variable adiabatic equal 2                # adiabatic (1) or isothermal (2)
variable tdamp equal 0.1                 # time constant for thermostat
variable seed equal 123457                # seed for thermostat

# generate the box and atom positions using a diamond lattice
variable a equal 5.431

boundary	p p p


box tilt large

The 'box' command has been removed and will be ignored

read_data tob9_ref_deepmd.data
Reading data file ...
  triclinic box = (0 0 0) to (11.114968 7.4513556 9.3746986) with tilt (-0.17419075 -0.15353827 -1.924862)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  62 atoms
  read_data CPU = 0.001 seconds

pair_style	deepmd tob9_deepmd_compress.pb
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmdpair_coeff	* * Ca H O Si
mass            1 40.079800
mass            4 28.08500
mass            3 15.9994
mass            2 1.00794


change_box all triclinic
Changing box ...
  triclinic box = (0 0 0) to (11.114968 7.4513556 9.3746986) with tilt (-0.17419075 -0.15353827 -1.924862)

velocity	all create ${temp} 87287
velocity	all create 300 87287

thermo 100
min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE

Your simulation uses code contributions which should be cited:

- USER-DEEPMD package:

@article{Wang_ComputPhysCommun_2018_v228_p178,
  author = {Wang, Han and Zhang, Linfeng and Han, Jiequn and E, Weinan},
  doi = {10.1016/j.cpc.2018.03.016},
  url = {https://doi.org/10.1016/j.cpc.2018.03.016},
  year = 2018,
  month = {jul},
  publisher = {Elsevier {BV}},
  volume = 228,
  journal = {Comput. Phys. Commun.},
  title = {{DeePMD-kit: A deep learning package for many-body potential energy representation and molecular dynamics}},
  pages = {178--184}
}
@misc{Zeng_JChemPhys_2023_v159_p054801,
  title  = {{DeePMD-kit v2: A software package for deep potential models}},
  author =   {Jinzhe Zeng and Duo Zhang and Denghui Lu and Pinghui Mo and Zeyu Li
         and Yixiao Chen and Mari{\'a}n Rynik and Li'ang Huang and Ziyao Li and 
         Shaochen Shi and Yingze Wang and Haotian Ye and Ping Tuo and Jiabin
         Yang and Ye Ding and Yifan Li and Davide Tisi and Qiyu Zeng and Han 
         Bao and Yu Xia and Jiameng Huang and Koki Muraoka and Yibo Wang and 
         Junhan Chang and Fengbo Yuan and Sigbj{\o}rn L{\o}land Bore and Chun
         Cai and Yinnian Lin and Bo Wang and Jiayan Xu and Jia-Xin Zhu and 
         Chenxing Luo and Yuzhi Zhang and Rhys E A Goodall and Wenshuo Liang
         and Anurag Kumar Singh and Sikai Yao and Jingchao Zhang and Renata
         Wentzcovitch and Jiequn Han and Jie Liu and Weile Jia and Darrin M
         York and Weinan E and Roberto Car and Linfeng Zhang and Han Wang},
  journal =  {J. Chem. Phys.},
  volume =   159,
  issue =    5,  
  year =    2023,
  pages  =   054801,
  doi =      {10.1063/5.0155600},
}

CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE

Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.207 | 4.207 | 4.207 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300           -451.17407      0             -448.8086       20224.121    
       100   300           -456.63899      0             -454.27353      1584.4404    
       200   300           -456.639        0             -454.27354      1591.9542    
       204   300           -456.639        0             -454.27354      1591.9575    
Loop time of 2.57015 on 1 procs for 204 steps with 62 atoms

115.7% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
     -451.174065529084  -456.638996653339   -456.63899665334
  Force two-norm initial, final = 21.373936 4.3506596e-06
  Force max component initial, final = 7.3208246 9.0154977e-07
  Final line search alpha, max atom move = 1 9.0154977e-07
  Iterations, force evaluations = 204 407

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2.5618     | 2.5618     | 2.5618     |   0.0 | 99.67
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0036179  | 0.0036179  | 0.0036179  |   0.0 |  0.14
Output  | 0.00010062 | 0.00010062 | 0.00010062 |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00466    |            |       |  0.18

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4326 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 0
Dangerous builds = 0

thermo_style  custom step temp press etotal lx ly lz xy yz xz pxx pyy pzz

fix 456 all nve
fix 567 all langevin 300.0 300.0 0.1 12345

run 5000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 3.082 | 3.082 | 3.082 Mbytes
   Step          Temp          Press          TotEng           Lx             Ly             Lz             Xy             Yz             Xz            Pxx            Pyy            Pzz      
       204   300            1591.9575     -454.27354      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     3949.1057      939.15999     -112.39306    
       300   280.44236      5305.9485     -452.4086       11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -5016.4799      7779.1136      13155.212    
       400   291.2477      -2009.5105     -452.30078      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -9218.5302      8163.1951     -4973.1965    
       500   336.3562       6422.0191     -451.75913      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     4706.217       5477.3786      9082.4618    
       600   285.69197      7440.8275     -452.20626      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     20036.853      3315.3347     -1029.7054    
       700   298.96058      7654.0097     -451.95526      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     21751.164      658.98125      551.88342    
       800   303.05295      5268.9412     -452.08775      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     14938.902      79.725487      788.19575    
       900   311.36257      3168.6299     -452.52272      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     16853.876     -10496.447      3148.4614    
      1000   293.33764      3863.5217     -452.34667      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     14629.981     -13298.205      10258.789    
      1100   280.37729      4089.3902     -452.4371       11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     18035.153     -14362.91       8595.9284    
      1200   242.78084      4294.7209     -452.82934      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     20045.388     -15600.501      8439.2754    
      1300   285.32914      12041.908     -453.01201      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     25228.562     -17370.101      28267.264    
      1400   274.22758      5712.1863     -453.00181      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     19487.593     -11029.369      8678.3353    
      1500   321.78386      9490.8419     -452.72973      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     21420.904      626.14825      6425.4735    
      1600   279.65212      5158.5775     -453.05882      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     11791.856     -19235.313      22919.19     
      1700   280.2199      -13117.677     -452.82408      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -9692.5377     -15528.432     -14132.062    
      1800   298.02122      7135.1386     -452.44607      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     10512.684     -15067.601      25960.333    
      1900   297.75387      2421.3494     -452.95816      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     21939.931     -15544.171      868.28873    
      2000   242.80995      4258.717      -453.43719      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     11155.408     -7201.6856      8822.4287    
      2100   264.24355      1415.5523     -453.45839      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     13917.171     -10862.901      1192.3871    
      2200   293.45851      7748.5504     -452.94688      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     21956.161     -13967.144      15256.634    
      2300   285.48284      5677.9391     -453.03588      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     9911.8542      1161.7858      5960.1774    
      2400   277.16551     -452.33072     -453.16912      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -903.73922      3084.1228     -3537.3757    
      2500   301.21116      938.58416     -453.30558      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     6861.4697     -2034.3958     -2011.3215    
      2600   340.78657      5851.4956     -452.52153      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     14495.224     -3629.5622      6688.8246    
      2700   341.63739      7658.9743     -452.61995      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     25823.858     -14779.975      11933.04     
      2800   244.75738     -3873.2594     -453.15366      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     17987.483     -18385.168     -11222.093    
      2900   282.10496      3632.3774     -452.91797      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     27980.05      -22856.782      5773.8635    
      3000   333.3663       4938.1187     -452.83518      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     6907.1752     -8515.7711      16422.952    
      3100   348.66088     -3321.2101     -452.58079      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     1016.4782     -17598.948      6618.8398    
      3200   360.12515      7299.1949     -452.80958      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     12777.581     -3586.9603      12706.964    
      3300   258.74283      2233.1256     -453.3599       11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     10930.335     -9322.3902      5091.432     
      3400   274.42148      8256.118      -453.11406      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     24589.883     -20305.882      20484.354    
      3500   297.95308     -1949.0379     -453.09123      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     8323.0698     -17312.782      3142.5989    
      3600   293.07836      1730.6178     -452.74282      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     18478.378     -20023.894      6737.3692    
      3700   312.9658       1519.7035     -452.9125       11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     9767.4899     -17164.766      11956.387    
      3800   352.49809     -3758.7955     -452.87686      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -5790.5373     -18896.403      13410.554    
      3900   334.88593     -2459.9582     -452.77043      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     2057.0918     -5124.1614     -4312.805     
      4000   324.74271      3543.4694     -452.86671      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     18229.085     -6424.7715     -1173.9055    
      4100   340.2597       723.09599     -452.66254      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     6675.9507     -12145.657      7638.9938    
      4200   262.59767     -7538.9264     -453.41822      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -3849.4377     -10425.122     -8342.2191    
      4300   296.64854     -1443.2911     -453.57218      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     11081.069     -21767.321      6356.3776    
      4400   277.69013      335.00861     -453.45552      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     6603.3243     -8846.508       3248.2095    
      4500   292.33551     -2327.0872     -453.05661      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -1839.4474     -13331.695      8189.8811    
      4600   296.37516     -6052.1153     -452.96512      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -10014.582     -11026.982      2885.218     
      4700   261.56158      3414.5577     -453.51618      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     6055.4871     -4065.6243      8253.8102    
      4800   299.82585      2291.375      -452.8536       11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     11027.037     -12481.555      8328.6437    
      4900   312.76439      4133.6875     -452.59759      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     6110.205      -4759.2586      11050.116    
      5000   256.83523     -7933.4279     -453.07543      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -4260.1002     -12145.952     -7394.2317    
      5100   313.84444      2225.8129     -452.72285      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827     4949.6203     -2423.2584      4151.0767    
      5200   311.35085     -2284.7469     -452.72303      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -1956.3897     -18136.259      13238.408    
      5204   291.7539      -3421.0261     -452.71237      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -482.61746     -18755.638      8975.1771    
Loop time of 31.5385 on 1 procs for 5000 steps with 62 atoms

Performance: 13.698 ns/day, 1.752 hours/ns, 158.536 timesteps/s, 9.829 katom-step/s
115.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 31.391     | 31.391     | 31.391     |   0.0 | 99.53
Neigh   | 0.0025416  | 0.0025416  | 0.0025416  |   0.0 |  0.01
Comm    | 0.043361   | 0.043361   | 0.043361   |   0.0 |  0.14
Output  | 0.0033633  | 0.0033633  | 0.0033633  |   0.0 |  0.01
Modify  | 0.068207   | 0.068207   | 0.068207   |   0.0 |  0.22
Other   |            | 0.0297     |            |       |  0.09

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            691 ave         691 max         691 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4402 ave        4402 max        4402 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4402
Ave neighs/atom = 71
Neighbor list builds = 5
Dangerous builds = 0

unfix 456
unfix 567
fix 123 all npt temp 300 300 0.1 tri 1.0 1.0 1
run 10000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 3.097 | 3.097 | 3.097 Mbytes
   Step          Temp          Press          TotEng           Lx             Ly             Lz             Xy             Yz             Xz            Pxx            Pyy            Pzz      
      5204   291.7539      -3421.0261     -452.71237      11.114968      7.4513556      9.3746986     -0.17419075    -1.924862      -0.15353827    -482.61746     -18755.638      8975.1771    
      5300   260.27087     -1529.4727     -453.08352      11.190955      7.3541706      9.4395701     -0.056792812   -1.8413357     -0.064491887    3212.5004      2879.5843     -10680.503    
      5400   260.76949      152.38321     -453.50805      11.290135      7.3114384      9.4314532      0.10955393    -1.7909171      0.10549598    -468.77228      16839.53      -15913.608    
      5500   274.15621      4817.8892     -453.74945      11.151499      7.43405        9.3276145      0.11322903    -1.8727165      0.17760332     6974.3694      1475.3051      6003.9929    
      5600   288.63458     -2842.7844     -453.58212      11.069498      7.46877        9.3951403     -0.026665452   -1.924556       0.14057245     6605.8844     -14717.375     -416.86227    
      5700   288.55988      7821.3597     -453.28463      11.255161      7.3089075      9.4379476     -0.16797463    -1.8815947      0.08010354    -1830.3955      16127.74       9166.7349    
      5800   304.11591      2229.397      -453.10836      11.236019      7.3266508      9.411609      -0.089153391   -1.804325      -0.091361375   -4020.7146      6845.1592      3863.7465    
      5900   274.9094      -7444.0591     -452.91829      11.151127      7.4747815      9.4320225      0.10274056    -1.8224125     -0.14715322    -5858.7703     -12743.121     -3730.2861    
      6000   290.9014      -2983.261      -453.05746      11.13898       7.3961063      9.3988051      0.14155259    -1.8711617     -0.013370704    4826.0175     -5364.4599     -8411.3406    
      6100   305.08486     -9981.9566     -453.51206      11.254159      7.3575338      9.3736298      0.0063339771  -1.8974978      0.1388247     -23285.339     -3723.7883     -2936.7424    
      6200   246.40794      1403.7737     -453.69743      11.200246      7.3953711      9.3800502     -0.14863417    -1.9107464      0.15519134    -2694.3903     -1938.1725      8843.8838    
      6300   243.58768      7664.4642     -453.4512       11.122241      7.3931564      9.423097      -0.12030507    -1.851061       0.089986417    21172.491     -8248.426       10069.328    
      6400   297.81433     -2537.2571     -452.95674      11.248063      7.3586883      9.4332683      0.070884977   -1.8330505     -0.031677597    2133.2887     -3631.3518     -6113.7081    
      6500   311.73546      2060.9329     -452.89113      11.217327      7.3620962      9.3748509      0.12534835    -1.8285331     -0.10375786     13945.249     -6627.1967     -1135.2536    
      6600   327.24828      16256.227     -453.13425      11.137603      7.3993042      9.4171533      0.015818605   -1.8890849     -0.076607807    43983.347      6986.6776     -2201.3431    
      6700   267.66894      4676.9065     -453.35785      11.172905      7.4007667      9.443333      -0.1287829     -1.9161071      0.063542486    22009.574     -7726.9518     -251.90215    
      6800   307.85375      8704.1716     -453.49317      11.206188      7.3449556      9.3614799     -0.12993729    -1.8721637      0.12947917     5753.783       9072.0026      11286.729    
      6900   260.61298     -7330.9714     -453.7169       11.221992      7.4231005      9.361031       0.03838795    -1.8253931      0.099783684   -6218.9779     -18353.227      2579.2908    
      7000   269.16025      6067.4889     -453.47044      11.114272      7.3700113      9.3910769      0.15108798    -1.8046062     -0.014754246    3932.2267      3627.6655      10642.574    
      7100   293.21159     -15013.278     -453.03408      11.247015      7.4061703      9.4936695      0.035896574   -1.8846028     -0.043828413   -15791.58      -8399.2216     -20849.032    
      7200   327.59214      5425.8017     -452.7063       11.204932      7.3268086      9.3253419     -0.17221811    -1.9222633     -0.03569016    -11888.112      17215.798      10949.718    
      7300   308.84662     -18015.478     -452.94006      11.239463      7.3998791      9.3770713     -0.18649416    -1.9175623      0.044930129   -31572.463     -11879.367     -10594.604    
      7400   288.15103     -10127.289     -453.51692      11.139678      7.3960878      9.4631711      0.033682694   -1.8274702      0.12124388    -13332.107      2024.987      -19074.746    
      7500   264.8915      -7911.9821     -453.47295      11.143744      7.3820182      9.4110694      0.22728187    -1.743736       0.12433205    -10097.823     -5093.0857     -8545.0373    
      7600   287.29912      13527.901     -453.35121      11.248295      7.3355804      9.2881494      0.12181689    -1.812863       0.027101346    765.18099      20657.243      19161.279    
      7700   287.10615     -6850.8159     -453.03119      11.258619      7.3739991      9.4676782     -0.2124841     -1.9540017      0.024718915   -11396.271      5498.8337     -14655.01     
      7800   353.48162      11908.107     -452.71312      11.031231      7.3927479      9.4535073     -0.27159321    -2.0002696     -0.05088358     25869.855      7952.5336      1901.9333    
      7900   302.59062     -6020.9432     -452.90483      11.223163      7.435281       9.3209631     -0.019834041   -1.8892414     -0.14255364     3050.1088     -16844.575     -4268.3636    
      8000   245.71175     -3691.7727     -453.4252       11.288391      7.3413938      9.3976955      0.23047265    -1.7624602     -0.077918082   -10645.868     -745.6697       316.21923    
      8100   250.82934      3226.5473     -453.63496      11.111353      7.3674138      9.5129602      0.18219706    -1.7529254      0.11075709     14949.571     -6580.3679      1310.4387    
      8200   305.16984      2861.4829     -453.38571      11.09902       7.4090328      9.385213      -0.11250993    -1.9217567      0.24917804     9383.7454      2566.85       -3366.1466    
      8300   293.01344      1395.0613     -452.8582       11.265267      7.4025923      9.2969998     -0.21454364    -1.9693619      0.19007311    -14037.243     -2037.4632      20259.89     
      8400   340.84293     -3122.6879     -452.96157      11.204522      7.3896959      9.4137626     -0.050766685   -1.9024926      0.0029107692   1332.0266     -6824.3974     -3875.6929    
      8500   304.76887      7447.531      -453.15242      11.125565      7.3609401      9.4499592      0.11509892    -1.8002007     -0.17120266     3397.2568      4723.8736      14221.463    
      8600   264.19297      755.1175      -453.56294      11.225935      7.3940491      9.4930969      0.12126486    -1.7898702     -0.16227222     527.45327     -3178.0493      4915.9485    
      8700   255.78665      18251.031     -454.06837      11.198345      7.335606       9.3285693     -0.048068093   -1.8443219      0.0085691781   18269.22       17970.079      18513.792    
      8800   222.02144      1307.1601     -454.26877      11.190352      7.4053095      9.3739811     -0.13239022    -1.9496981      0.15754833     6905.7358     -6906.5997      3922.3444    
      8900   244.19507     -65.696379     -453.69409      11.134939      7.4164305      9.3753412     -0.066856407   -1.9327706      0.10979877     12147.565     -8587.4007     -3757.2532    
      9000   307.9214      -11663.264     -453.32604      11.236608      7.3728888      9.4425469      0.047830985   -1.8428657      0.046287575   -9543.9622     -14736.261     -10709.568    
      9100   305.15517      11525.719     -453.05339      11.197642      7.3106244      9.4550577      0.078619258   -1.7629688      0.00095094091  12615.386      15129.874      6831.8959    
      9200   319.27421     -5772.7515     -452.9118       11.210168      7.4297498      9.3667825     -0.051374051   -1.8533739     -0.040358835   -6149.5793     -1116.615      -10052.06     
      9300   339.3018      -2719.1777     -452.85116      11.171747      7.4705292      9.3266665     -0.15378603    -1.9381635     -0.050235257   -10644.807     -8366.6969      10853.97     
      9400   283.88913     -14664.168     -453.42311      11.164898      7.3635282      9.4767677     -0.057483775   -1.8970234     -0.06997645    -16704.996     -5021.6195     -22265.888    
      9500   312.59035     -10189.423     -453.65681      11.272056      7.3192106      9.4486045      0.10505956    -1.8050859     -0.039624195   -21743.52       4399.435      -13224.184    
      9600   249.86275      7788.0501     -453.51747      11.177981      7.3996027      9.3470315      0.11777298    -1.8209446      0.069491911   -403.29808     -987.79652      24755.245    
      9700   312.97217     -16748.63      -452.99708      11.113304      7.487406       9.3750192     -0.050882209   -1.8633574      0.2398023     -17842.436     -24159.973     -8243.4809    
      9800   321.94576      11802.063     -452.83946      11.135826      7.3292825      9.3901805     -0.18744685    -1.8788617      0.176015       11196.36       20950.243      3259.5874    
      9900   279.82051     -13571.122     -453.04207      11.375937      7.3867513      9.4371166     -0.10800438    -1.8844222     -0.032945935   -23314.567     -17108.661     -290.13785    
     10000   326.56765      11529.568     -453.18705      11.095447      7.3194787      9.4078153      0.12038812    -1.8174476     -0.2101564      22447.912      13221.477     -1080.6854    
     10100   257.81679     -9255.62       -453.42062      11.156549      7.4045008      9.5127755      0.15951745    -1.8322629     -0.07441977    -4150.2355     -21133.459     -2483.1658    
     10200   238.51695     -558.33415     -453.77131      11.172493      7.4021224      9.3256306     -0.025778978   -1.8731071      0.025198631    6692.6145     -4244.4085     -4123.2085    
     10300   277.59115     -13015.221     -453.7088       11.261994      7.4379906      9.337689      -0.14102901    -1.9170313      0.12905197    -17651.102     -15320.844     -6073.7169    
     10400   278.54715      22245.467     -453.13732      11.142842      7.2700312      9.4325819     -0.091067908   -1.8746725      0.14876909     20379.498      30360.254      15996.649    
     10500   313.86925     -15047.272     -452.89216      11.219623      7.4004438      9.4832832      0.08207118    -1.8495935      0.10084619    -12055.291     -14971.933     -18114.592    
     10600   361.43449      21602.244     -452.9047       11.1257        7.3842822      9.3181115      0.1316332     -1.8269363     -0.029509561    23778.569      12404.849      28623.315    
     10700   283.73251     -11674.994     -453.41578      11.272282      7.4297781      9.3996943      0.00658861    -1.863555      -0.039386715   -16399.29      -17266.753     -1358.9389    
     10800   332.88113      5078.135      -453.66006      11.133692      7.3122098      9.4261532     -0.10378094    -1.8613894     -0.089676904   -1093.6043      20110.795     -3782.7856    
     10900   282.5437       5829.3982     -453.46673      11.195133      7.3966728      9.417105      -0.1036128     -1.9001639     -0.024872305    13699.644     -9818.5431      13607.094    
     11000   322.81675      14912.864     -452.703        11.229664      7.3647304      9.3862577      0.0067703136  -1.8739333      0.099438442    12911.101      33109.548     -1282.058     
     11100   347.45033      875.93534     -452.75959      11.154464      7.4518352      9.2860877      0.087557831   -1.8679913      0.17344657     9097.5212     -14538.413      8068.698     
     11200   259.44753      604.62941     -453.31644      11.178521      7.4029812      9.397333       0.016960201   -1.8698704      0.11098262     6221.8439     -4877.7583      469.8026     
     11300   263.92922     -11154.876     -453.51662      11.205805      7.3528152      9.5500856     -0.090221325   -1.840999      -0.013362179   -11336.427     -8920.4292     -13207.772    
     11400   296.81981      10745.189     -453.41844      11.170274      7.307579       9.3989722     -0.086960148   -1.8547866     -0.10744947     14493.908      6364.9915      11376.669    
     11500   310.31273      2014.4115     -452.76924      11.296638      7.4300867      9.3453202      0.0047854407  -1.8955197     -0.07058538    -7470.0781      4054.7399      9458.5726    
     11600   323.43172      18641.325     -452.39842      11.079002      7.4450613      9.3990598      0.084143329   -1.8989264     -0.0011619204   27605.184      8183.0647      20135.726    
     11700   328.35061      1105.5775     -452.8146       11.128503      7.3876452      9.4667384      0.01728779    -1.8681372      0.065431572    10230.476     -6517.3049     -396.43843    
     11800   266.87059     -5984.1462     -453.16499      11.325334      7.2964669      9.4429106     -0.082497819   -1.7922373      0.065550528   -19728.142      6958.5945     -5182.8907    
     11900   330.65329     -743.39237     -453.33693      11.210152      7.3481436      9.376171      -0.063084927   -1.812079       0.022436601   -5841.9807      535.03688      3076.7667    
     12000   269.69578      3342.579      -453.35013      11.087269      7.4505117      9.3789292      0.0042441584  -1.8932495      0.0038994513   659.18325      1100.2599      8268.2939    
     12100   278.71781     -877.50967     -453.3896       11.205397      7.4286673      9.4523809      0.10504286    -1.9234481     -0.041213325   -808.55026      4211.1606     -6035.1393    
     12200   311.65524      3144.7222     -452.96727      11.285259      7.3224678      9.3140939      0.066630103   -1.8928355     -0.1078771     -10070.819      10247.917      9257.0686    
     12300   352.08069     -2889.0365     -452.72471      11.240215      7.3577635      9.4480451     -0.094030506   -1.8679318     -0.048598178    36.950946     -2042.1581     -6661.9025    
     12400   338.9192      -1386.1338     -452.82721      11.106143      7.4103964      9.5439423     -0.15681828    -1.8034183      0.10645046     15434.207     -11643.6       -7949.0092    
     12500   251.24425      5151.8863     -453.44945      11.11838       7.3665711      9.3509649     -0.011894845   -1.8059318      0.21830821     3128.8831      4567.231       7759.5448    
     12600   296.00357     -4434.0835     -453.41358      11.342333      7.4442227      9.2927575      0.18747807    -1.8427147      0.12893307    -6329.5053     -15811.883      8839.138     
     12700   275.03986      5676.4722     -453.35649      11.148255      7.4033982      9.3539677      0.14654987    -1.9096053     -0.030350092    10248.292     -6734.0041      13515.128    
     12800   303.92528      9397.6225     -453.00881      11.041492      7.3087662      9.5748827     -0.12004392    -1.9047416     -0.11666286     31402.881      19606.075     -22816.088    
     12900   326.75787     -4970.5154     -452.82437      11.34053       7.3745693      9.4633077     -0.27307469    -1.8988398     -0.12798163     1598.1888     -7299.9905     -9209.7443    
     13000   284.01533      6651.1539     -452.92511      11.294723      7.4062641      9.2001834     -0.11261044    -1.8505491     -0.031780059   -5104.3332      994.5553       24063.24     
     13100   280.94977     -10222.526     -453.01453      11.143295      7.449339       9.4195689      0.14189578    -1.8110355      0.14320594    -11548.671     -16327.386     -2791.5222    
     13200   289.7622      -12118.303     -453.05557      11.104921      7.3734004      9.517435       0.15453102    -1.8280233      0.17617992    -14163.026     -366.80288     -21825.079    
     13300   281.39733      5487.8532     -453.40228      11.27834       7.3396075      9.4029311     -0.02154474    -1.9386233      0.10487001    -12119.19       16132.003      12450.747    
     13400   287.37103     -413.79218     -453.73064      11.261538      7.3730423      9.3710947     -0.15026011    -1.9431361      0.016057365   -11451.611     -1148.3684      11358.603    
     13500   258.68231      14317.763     -454.0503       11.115638      7.3756718      9.3611951     -0.082658091   -1.9018707     -0.093724265    17958.004      18446.223      6549.0632    
     13600   218.14142     -37.054761     -453.53694      11.199223      7.4366259      9.4392081      0.094194      -1.8176626     -0.23350376     5239.1251     -6362.5438      1012.2544    
     13700   315.55012     -9743.6385     -453.15295      11.270336      7.3575586      9.434331       0.13800333    -1.7773004     -0.13199114    -10786.265     -11084.933     -7359.7171    
     13800   305.81483      9928.07       -452.99351      11.174771      7.2957176      9.4316307     -0.010139349   -1.8471876      0.14907443     19985.235      9911.0697     -112.09457    
     13900   295.23079     -1574.6169     -453.02068      11.167481      7.4153657      9.4154663     -0.12128046    -1.9344542      0.2803691      2947.2149     -1139.9412     -6531.1243    
     14000   286.56453      838.72712     -453.2407       11.214132      7.4520574      9.2724359     -0.12485404    -1.9319988      0.14290614     1876.9127     -10182.753      10822.022    
     14100   268.49725     -7578.0017     -453.72337      11.228995      7.3449609      9.441973       0.020302148   -1.8171949     -0.05896643    -9110.177      -8064.4478     -5559.3802    
     14200   230.16962     -11687.587     -453.71276      11.197369      7.3238655      9.4978416      0.12999017    -1.7852304     -0.21515808    -11622.817     -9983.3373     -13456.606    
     14300   325.15309     -9744.4952     -453.10393      11.196203      7.3835238      9.4119216      0.030606365   -1.8568971     -0.12474275    -12528.107     -13518.481     -3186.8982    
     14400   283.00833      2511.0473     -452.85611      11.218119      7.4420734      9.3799141     -0.1072998     -1.9407272      0.07026014     2735.8492     -7938.5162      12735.809    
     14500   305.34914      13870.034     -452.95333      11.174692      7.3694532      9.3460237     -0.11861746    -1.9181918      0.16032252     21207.548      5858.5148      14544.038    
     14600   288.70269      4652.7581     -453.4264       11.238146      7.3187637      9.4384865      0.031198199   -1.8235941      0.03706172     7556.8802      9082.6569     -2681.2628    
     14700   263.37433     -3278.7755     -453.60417      11.244246      7.3847046      9.4742082      0.15525859    -1.7847978     -0.09226932     3992.9433     -5565.5003     -8263.7695    
     14800   280.48335      12532.721     -453.39947      11.122908      7.4144893      9.3505011      0.065417988   -1.8354351     -0.075645336    18219.732      567.94468      18810.486    
     14900   339.96037     -8005.0203     -452.56991      11.186233      7.4286977      9.3808548     -0.12875199    -1.9346986      0.020288654   -8331.7106     -5252.446      -10430.904    
     15000   372.56502      6221.1154     -452.57427      11.19394       7.3880786      9.3322856     -0.18150408    -1.9437011     -0.016971991   -3971.1425      9572.3786      13062.11     
     15100   317.41347     -6418.7277     -453.188        11.184197      7.4113443      9.4406114     -0.0071381766  -1.8102268     -0.097259567   -11646.681     -7683.4903      73.987737    
     15200   272.74326     -6849.8254     -453.32414      11.167903      7.3374539      9.545073       0.1816882     -1.737134      -0.083813471   -6149.2871      4599.3461     -18999.535    
     15204   276.25459     -6875.8895     -453.3261       11.167812      7.3363526      9.5429273      0.18407555    -1.736548      -0.079489538   -1953.5774      5621.6634     -24295.755    
Loop time of 62.3701 on 1 procs for 10000 steps with 62 atoms

Performance: 13.853 ns/day, 1.733 hours/ns, 160.333 timesteps/s, 9.941 katom-step/s
117.1% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 62.06      | 62.06      | 62.06      |   0.0 | 99.50
Neigh   | 0.012447   | 0.012447   | 0.012447   |   0.0 |  0.02
Comm    | 0.074287   | 0.074287   | 0.074287   |   0.0 |  0.12
Output  | 0.0052313  | 0.0052313  | 0.0052313  |   0.0 |  0.01
Modify  | 0.18312    | 0.18312    | 0.18312    |   0.0 |  0.29
Other   |            | 0.03518    |            |       |  0.06

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            723 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4380 ave        4380 max        4380 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4380
Ave neighs/atom = 70.645161
Neighbor list builds = 31
Dangerous builds = 0

unfix 123

# Compute initial state

variable thermostat equal 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"


run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 3.082 | 3.082 | 3.082 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   276.25459     -455.50433     -6875.8895      0              0              0              0              0              0            
       100   242.1514      -455.2344       1005.0526      2126.5728      3598.7665     -7855.6312     -11996.606      1622.933      -6280.6807    
       200   296.25514     -455.66226      1928.0079      818.55917      9182.0863     -14115.6       -13296.436     -166.93017     -5361.347     
       300   268.54111     -455.44224     -6221.4526      3830.5049      8376.3317     -20253.827     -13366.765     -2988.1727     -5190.8101    
       400   316.05439     -455.82107     -728.85756      908.64051      3353.33       -15870.675     -11348.113     -1639.4926     -4448.6793    
       500   335.06878     -455.97136     -2491.0125      6789.6208      9333.5893     -13322.891     -14143.826      2522.7845     -6653.889     
       600   266.97423     -455.43129     -166.23838     -3637.5889      1238.5261     -13544.61      -14775.032      1191.8121     -4811.9146    
       700   238.40024     -455.20321      1062.1175      2406.9018      6905.1449     -20318.958     -12226.575     -3202.802      -2544.6429    
       800   248.52052     -455.28586      1158.8911     -694.87937      8026.3746     -12778.952     -14934.227      712.78267     -6916.7055    
       900   314.26999     -455.80572      3355.1248      348.17504      2396.3441     -15550.197     -13395.575     -2222.4959     -5855.6689    
      1000   302.68312     -455.71275     -13087.053      2825.8353      3743.699      -13775.244     -10963.829      2645.1139     -5094.5309    
Loop time of 6.21711 on 1 procs for 1000 steps with 62 atoms

Performance: 13.897 ns/day, 1.727 hours/ns, 160.846 timesteps/s, 9.972 katom-step/s
116.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.2018     | 6.2018     | 6.2018     |   0.0 | 99.75
Neigh   | 0.00025354 | 0.00025354 | 0.00025354 |   0.0 |  0.00
Comm    | 0.0069659  | 0.0069659  | 0.0069659  |   0.0 |  0.11
Output  | 0.00045496 | 0.00045496 | 0.00045496 |   0.0 |  0.01
Modify  | 0.0032261  | 0.0032261  | 0.0032261  |   0.0 |  0.05
Other   |            | 0.004363   |            |       |  0.07

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            747 ave         747 max         747 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4366 ave        4366 max        4366 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4366
Ave neighs/atom = 70.419355
Neighbor list builds = 1
Dangerous builds = 0

if "${adiabatic} == 1" then "variable thermostat equal 0" else "variable thermostat equal 1"
variable thermostat equal 1

print ${thermostat}
print 1
1

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 3.082 | 3.082 | 3.082 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   302.68312     -455.71275     -13087.053      0              0              0              0              0              0            
       100   304.71253     -455.23536     -14892.044     -1006.9939     -4818.5899     -21249.906     -15888.613     -3264.9211     -5856.8522    
       200   331.70004     -455.13519     -659.41061     -103.17466      5578.1234     -15924.192     -12501.921     -2394.8449     -5730.1716    
       300   286.95655     -455.63982     -3463.7817     -2953.33        9276.2071     -13790.849     -13471.041      1105.8208     -8966.1848    
Loop time of 1.88729 on 1 procs for 300 steps with 62 atoms

Performance: 13.734 ns/day, 1.747 hours/ns, 158.958 timesteps/s, 9.855 katom-step/s
117.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8799     | 1.8799     | 1.8799     |   0.0 | 99.61
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0021312  | 0.0021312  | 0.0021312  |   0.0 |  0.11
Output  | 0.00015466 | 0.00015466 | 0.00015466 |   0.0 |  0.01
Modify  | 0.0037819  | 0.0037819  | 0.0037819  |   0.0 |  0.20
Other   |            | 0.001348   |            |       |  0.07

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4400 ave        4400 max        4400 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4400
Ave neighs/atom = 70.967742
Neighbor list builds = 0
Dangerous builds = 0

variable pxx0 equal f_avp[1]
variable pyy0 equal f_avp[2]
variable pzz0 equal f_avp[3]
variable pxy0 equal f_avp[4]
variable pxz0 equal f_avp[5]
variable pyz0 equal f_avp[6]

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 11.1678120839068
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 7.33635257958294
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 9.54292732499844

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--2953.32997066779)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--2953.32997066779)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-9276.20707451053)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-9276.20707451053)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--13790.8489890524)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--13790.8489890524)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--8966.1847503545)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--8966.1847503545)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-1105.82082938894)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-1105.82082938894)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--13471.0408431112)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--13471.0408431112)/(v_delta/v_len0)*0.0001

# Write restart
write_restart restart.equil
System init for write_restart ...
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 11.1678120839068
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*11.1678120839068
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.223356241678136 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.223356241678136 xy delta -0.00368151092707633 xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.223356241678136 xy delta -0.00368151092707633 xz delta 0.0015897907664871 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (10.918034 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (10.918034 7.3938541 9.458813) with tilt (0.18039404 -0.079489538 -1.736548)
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (10.918034 7.3938541 9.458813) with tilt (0.18039404 -0.077899748 -1.736548)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.3294       35059.733      0              0              0              0              0              0            
       100   267.8451      -455.24519      17531.671      33985.515      12125.915     -11686.229     -13408.083      1184.3002     -8426.4317    
       200   326.39407     -454.88783      21213.392      34331.375      15123.937     -6460.9701     -13315.265     -1268.4236     -6174.5626    
       300   304.8683      -455.71149      16239.55       30668.997      19289.954     -4862.0943     -13729.241      705.97559     -9450.6274    
       400   252.57534     -455.27261      22642.843      32646.356      14878.257     -7558.9556     -13669.245      1256.3071     -6650.9833    
       500   270.10168     -455.02519      6662.8747      36844.307      17706.298     -10576.333     -12460.095     -1759.7155     -7323.6761    
       600   335.29433     -455.08419      19122.369      36523.674      18629.542     -7291.2599     -14659.691     -3105.9093     -4146.7222    
       700   332.45716     -455.10363      21356.774      35366.839      14876.123     -3100.8715     -13718.828      469.83354     -7990.4508    
       800   275.48994     -455.05633      6836.3252      33608.404      18117.224     -7041.839      -13959.326     -1196.604      -8664.2763    
       900   366.84473     -454.89826      22629.667      35781.077      9931.3802     -10784.713     -13271.71       843.1357      -3233.2987    
      1000   342.80991     -455.54099      19183.066      34188.305      23352.58      -2574.0197     -9433.8588      1059.0861     -5150.8344    
Loop time of 6.2544 on 1 procs for 1000 steps with 62 atoms

Performance: 13.814 ns/day, 1.737 hours/ns, 159.887 timesteps/s, 9.913 katom-step/s
118.3% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.2291     | 6.2291     | 6.2291     |   0.0 | 99.59
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0076514  | 0.0076514  | 0.0076514  |   0.0 |  0.12
Output  | 0.0005306  | 0.0005306  | 0.0005306  |   0.0 |  0.01
Modify  | 0.012621   | 0.012621   | 0.012621   |   0.0 |  0.20
Other   |            | 0.004541   |            |       |  0.07

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            740 ave         740 max         740 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4476 ave        4476 max        4476 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4476
Ave neighs/atom = 72.193548
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   342.80991     -455.54099      19183.066      0              0              0              0              0              0            
       100   289.07559     -455.23417      7133.8596      33774.223      13184.392     -7963.5389     -14734.666      1976.9649     -6375.3356    
       200   336.85815     -454.97748      18701.886      34441.212      16097.14      -5069.229      -13535.209     -647.30216     -6130.6427    
       300   285.14104     -455.69793      15171.792      30359.096      18893.839     -6723.6352     -13191.805     -181.53315     -9361.3063    
Loop time of 1.75438 on 1 procs for 300 steps with 62 atoms

Performance: 14.774 ns/day, 1.624 hours/ns, 171.000 timesteps/s, 10.602 katom-step/s
118.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.7477     | 1.7477     | 1.7477     |   0.0 | 99.62
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019439  | 0.0019439  | 0.0019439  |   0.0 |  0.11
Output  | 0.00010856 | 0.00010856 | 0.00010856 |   0.0 |  0.01
Modify  | 0.0033202  | 0.0033202  | 0.0033202  |   0.0 |  0.19
Other   |            | 0.001298   |            |       |  0.07

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            739 ave         739 max         739 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4430 ave        4430 max        4430 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4430
Ave neighs/atom = 71.451613
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 166.562127514941
variable C2neg equal ${d2}
variable C2neg equal 48.0881608267679
variable C3neg equal ${d3}
variable C3neg equal 35.3360688445612
variable C4neg equal ${d4}
variable C4neg equal -1.97560775185985
variable C5neg equal ${d5}
variable C5neg equal -6.43676987235805
variable C6neg equal ${d6}
variable C6neg equal 1.396181240533

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*11.1678120839068
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.223356241678136 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.223356241678136 xy delta 0.00368151092707633 xz delta ${deltaxz} remap units box
change_box all x delta 0 0.223356241678136 xy delta 0.00368151092707633 xz delta -0.0015897907664871 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.364746 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.364746 7.3938541 9.458813) with tilt (0.18775706 -0.079489538 -1.736548)
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.364746 7.3938541 9.458813) with tilt (0.18775706 -0.081079329 -1.736548)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.18268     -37459.151      0              0              0              0              0              0            
       100   247.63546     -454.93376     -26221.787     -26367.461     -8424.6346     -24906.492     -12648.306     -2043.3414     -7903.0476    
       200   324.99379     -454.83983     -23149.167     -28361.454     -6352.7578     -21789.96      -12233.498     -1635.1352     -6000.9438    
       300   317.26543     -455.66138     -19101.001     -30402.979     -2290.2021     -19993.714     -13132.491      474.85314     -7111.1276    
       400   236.96492     -455.12476     -13980.994     -34341.348     -4423.1234     -23783.878     -13166.499     -1434.119      -7016.205     
       500   267.2604      -454.72232     -26590.526     -26272.846     -3726.5709     -23749.444     -10639.434     -2279.5451     -7349.2103    
       600   301.25435     -454.84585     -16298.806     -25964.296      558.7021      -22470.645     -13253.969     -2863.112      -3615.5821    
       700   325.05294     -454.81875     -16355.014     -25781.97      -6114.4273     -18522.521     -12679.361     -719.70375     -7210.0131    
       800   286.09563     -454.90091     -28302.579     -27899.935     -2098.2951     -20945.284     -11917.627     -1944.1118     -7599.8709    
       900   386.09604     -454.86511     -17077.775     -27415.684     -7551.7114     -24339.08      -12747.493      105.91051     -3076.3863    
      1000   335.1224      -455.34139     -17078.841     -27643.228      281.33578     -14703.546     -8235.1006      894.48768     -4946.1757    
Loop time of 6.31597 on 1 procs for 1000 steps with 62 atoms

Performance: 13.680 ns/day, 1.754 hours/ns, 158.329 timesteps/s, 9.816 katom-step/s
117.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.2903     | 6.2903     | 6.2903     |   0.0 | 99.59
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0074456  | 0.0074456  | 0.0074456  |   0.0 |  0.12
Output  | 0.00054948 | 0.00054948 | 0.00054948 |   0.0 |  0.01
Modify  | 0.012656   | 0.012656   | 0.012656   |   0.0 |  0.20
Other   |            | 0.005033   |            |       |  0.08

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            721 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4298 ave        4298 max        4298 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4298
Ave neighs/atom = 69.322581
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   335.1224      -455.34139     -17078.841      0              0              0              0              0              0            
       100   304.23999     -455.31645     -21899.655     -25181.805     -5529.1827     -18244.653     -12834.997     -2140.8549     -4734.9144    
       200   314.61131     -454.7207      -17418.881     -23565.966     -3759.1735     -21640.606     -12951.408     -2049.2723     -6625.2682    
       300   294.15466     -455.63206     -15438.941     -30314.657     -1578.1415     -20846.489     -13148.556     -303.16645     -7343.3662    
Loop time of 1.96562 on 1 procs for 300 steps with 62 atoms

Performance: 13.187 ns/day, 1.820 hours/ns, 152.624 timesteps/s, 9.463 katom-step/s
115.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9578     | 1.9578     | 1.9578     |   0.0 | 99.60
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0022155  | 0.0022155  | 0.0022155  |   0.0 |  0.11
Output  | 0.0001666  | 0.0001666  | 0.0001666  |   0.0 |  0.01
Modify  | 0.0038432  | 0.0038432  | 0.0038432  |   0.0 |  0.20
Other   |            | 0.00159    |            |       |  0.08

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            715 ave         715 max         715 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4276 ave        4276 max        4276 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4276
Ave neighs/atom = 68.967742
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 136.806636564091
variable C2pos equal ${d2}
variable C2pos equal 54.2717428623864
variable C3pos equal ${d3}
variable C3pos equal 35.2782005044
variable C4pos equal ${d4}
variable C4pos equal -8.1140927858386
variable C5pos equal ${d5}
variable C5pos equal 7.04493637197444
variable C6pos equal ${d6}
variable C6pos equal -1.6124233719205

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(166.562127514941+${C1pos})
variable C11 equal 0.5*(166.562127514941+136.806636564091)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(48.0881608267679+${C2pos})
variable C21 equal 0.5*(48.0881608267679+54.2717428623864)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(35.3360688445612+${C3pos})
variable C31 equal 0.5*(35.3360688445612+35.2782005044)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-1.97560775185985+${C4pos})
variable C41 equal 0.5*(-1.97560775185985+-8.1140927858386)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-6.43676987235805+${C5pos})
variable C51 equal 0.5*(-6.43676987235805+7.04493637197444)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(1.396181240533+${C6pos})
variable C61 equal 0.5*(1.396181240533+-1.6124233719205)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 7.33635257958294
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*7.33635257958294
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -0.146727051591659 yz delta ${deltayz} remap units box
change_box all y delta 0 -0.146727051591659 yz delta 0.0347309592745638 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.247127 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.247127 9.458813) with tilt (0.18407555 -0.079489538 -1.701817)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.30915      23191.388      0              0              0              0              0              0            
       100   263.67994     -455.05079      11547.347      13383.957      32944.519     -10722.936     -13929.52      -414.18954     -8434.6832    
       200   325.03381     -454.75585      15725.353      10954.741      33265.725     -8072.9763     -14061.458     -1298.1046     -6129.5985    
       300   313.86699     -455.62304      12283.27       8638.3984      37719.141     -6321.4144     -14875.403      499.75286     -9100.2903    
       400   254.35254     -455.24671      19049.56       7578.8152      31876.052     -8850.0312     -13768.618     -112.04008     -7128.2724    
       500   269.04999     -454.88647      7071.6069      13970.918      35833.936     -11701.589     -12444.248     -2573.8103     -5780.1948    
       600   321.60923     -455.03452      18839.945      13204.727      36281.074     -8128.5587     -14969.213     -3796.9364     -3923.7677    
       700   323.92915     -454.94991      20630.478      12403.649      34382.194     -3769.0107     -13609.363     -187.76696     -7034.6051    
       800   289.81224     -455.10318      3670.3085      9824.8884      34721.878     -7288.9301     -13843.825     -1869.4902     -8626.0002    
       900   349.28318     -454.77861      20329.609      11628.273      26175.11      -11706.069     -14712.836      165.23006     -3483.2536    
      1000   340.39222     -455.55022      18023.487      12650.386      42284.347     -2847.9639     -10268.61       929.07631     -6056.1652    
Loop time of 5.80255 on 1 procs for 1000 steps with 62 atoms

Performance: 14.890 ns/day, 1.612 hours/ns, 172.338 timesteps/s, 10.685 katom-step/s
113.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 5.772      | 5.772      | 5.772      |   0.0 | 99.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0092962  | 0.0092962  | 0.0092962  |   0.0 |  0.16
Output  | 0.00060542 | 0.00060542 | 0.00060542 |   0.0 |  0.01
Modify  | 0.014396   | 0.014396   | 0.014396   |   0.0 |  0.25
Other   |            | 0.006303   |            |       |  0.11

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            743 ave         743 max         743 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4478 ave        4478 max        4478 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4478
Ave neighs/atom = 72.225806
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   340.39222     -455.55022      18023.487      0              0              0              0              0              0            
       100   280.64864     -455.18568      7532.5859      10900.425      31341.548     -7105.0739     -14934.269      644.58994     -5221.12      
       200   332.40748     -454.86462      17854.68       10606.283      34979.769     -6671.7446     -14048.448     -772.19031     -6353.3345    
       300   302.29702     -455.64616      11113.732      8444.4529      37731.814     -7907.1475     -13940.528     -354.54859     -9264.0771    
Loop time of 1.7159 on 1 procs for 300 steps with 62 atoms

Performance: 15.106 ns/day, 1.589 hours/ns, 174.835 timesteps/s, 10.840 katom-step/s
114.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.7068     | 1.7068     | 1.7068     |   0.0 | 99.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027808  | 0.0027808  | 0.0027808  |   0.0 |  0.16
Output  | 0.00015696 | 0.00015696 | 0.00015696 |   0.0 |  0.01
Modify  | 0.0042754  | 0.0042754  | 0.0042754  |   0.0 |  0.25
Other   |            | 0.001897   |            |       |  0.11

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            719 ave         719 max         719 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4444 ave        4444 max        4444 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4444
Ave neighs/atom = 71.677419
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 56.9889141547926
variable C2neg equal ${d2}
variable C2neg equal 142.27803594855
variable C3neg equal ${d3}
variable C3neg equal 29.4185076732596
variable C4neg equal ${d4}
variable C4neg equal -1.48946192147815
variable C5neg equal ${d5}
variable C5neg equal -7.30184709261313
variable C6neg equal ${d6}
variable C6neg equal -2.347436621277

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*7.33635257958294
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 0.146727051591659 yz delta ${deltayz} remap units box
change_box all y delta 0 0.146727051591659 yz delta -0.0347309592745638 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.5405811 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.5405811 9.458813) with tilt (0.18407555 -0.079489538 -1.7712789)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.47682     -27022.142      0              0              0              0              0              0            
       100   264.47005     -455.20974     -23126.35      -9119.9698     -30009.036     -25937.108     -12270.722     -249.57798     -8093.2115    
       200   324.67106     -454.87293     -17708.567     -8045.2626     -24051.763     -20997.418     -12673.869      1.9047179     -6314.5744    
       300   318.82169     -455.62876     -16168.163     -12550.108     -23129.794     -20369.151     -13959.236      1801.4878     -8388.3586    
       400   226.53243     -455.11233     -15630.374     -13867.925     -25422.179     -23778.133     -12422.416      44.289328     -7082.2131    
       500   274.04768     -454.8951      -26953.543     -4346.6044     -23181.841     -23323.157     -10672.407     -1580.9019     -6747.641     
       600   285.21918     -454.75153     -15972.212     -6486.9075     -18768.825     -22774.735     -13174.215     -2410.0644     -4140.2734    
       700   344.53355     -455.0603      -17499.256     -8760.3057     -27764.439     -18461.743     -12160.03      -56.040317     -7577.3239    
       800   285.89095     -455.01299     -29073.686     -8414.9312     -21639.931     -20166.715     -11459.393     -355.61391     -6278.9059    
       900   388.92056     -454.89431     -16612.901     -9531.9164     -26926.753     -24804.499     -12966.654      1332.2048     -5043.8263    
      1000   358.49047     -455.4331      -19544.782     -9556.421      -18703.666     -15706.954     -9010.6442      1701.0478     -6258.3058    
Loop time of 5.74963 on 1 procs for 1000 steps with 62 atoms

Performance: 15.027 ns/day, 1.597 hours/ns, 173.924 timesteps/s, 10.783 katom-step/s
113.2% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 5.7195     | 5.7195     | 5.7195     |   0.0 | 99.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.009153   | 0.009153   | 0.009153   |   0.0 |  0.16
Output  | 0.00053351 | 0.00053351 | 0.00053351 |   0.0 |  0.01
Modify  | 0.014289   | 0.014289   | 0.014289   |   0.0 |  0.25
Other   |            | 0.006124   |            |       |  0.11

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4308 ave        4308 max        4308 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4308
Ave neighs/atom = 69.483871
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   358.49047     -455.4331      -19544.782      0              0              0              0              0              0            
       100   304.57462     -455.22281     -25982.913     -9063.3454     -28936.332     -19932.764     -12669.042      312.07398     -4916.1185    
       200   317.32925     -454.65848     -15035.842     -6869.9563     -23248.202     -21376.873     -12769.287     -266.36189     -7442.3342    
       300   299.87867     -455.54834     -14993.185     -12224.333     -21902.795     -20550.719     -13505.636      1064.711      -8125.5357    
Loop time of 1.72918 on 1 procs for 300 steps with 62 atoms

Performance: 14.990 ns/day, 1.601 hours/ns, 173.492 timesteps/s, 10.757 katom-step/s
115.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.7201     | 1.7201     | 1.7201     |   0.0 | 99.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027298  | 0.0027298  | 0.0027298  |   0.0 |  0.16
Output  | 0.00016022 | 0.00016022 | 0.00016022 |   0.0 |  0.01
Modify  | 0.0042982  | 0.0042982  | 0.0042982  |   0.0 |  0.25
Other   |            | 0.001869   |            |       |  0.11

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            713 ave         713 max         713 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4262 ave        4262 max        4262 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4262
Ave neighs/atom = 68.741935
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 46.3550160163915
variable C2pos equal ${d2}
variable C2pos equal 155.895012024392
variable C3pos equal ${d3}
variable C3pos equal 33.7993508224734
variable C4pos equal ${d4}
variable C4pos equal -4.20324531336514
variable C5pos equal ${d5}
variable C5pos equal 0.205549143351149
variable C6pos equal ${d6}
variable C6pos equal 0.172976884140007

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(56.9889141547926+${C1pos})
variable C12 equal 0.5*(56.9889141547926+46.3550160163915)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(142.27803594855+${C2pos})
variable C22 equal 0.5*(142.27803594855+155.895012024392)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(29.4185076732596+${C3pos})
variable C32 equal 0.5*(29.4185076732596+33.7993508224734)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-1.48946192147815+${C4pos})
variable C42 equal 0.5*(-1.48946192147815+-4.20324531336514)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(-7.30184709261313+${C5pos})
variable C52 equal 0.5*(-7.30184709261313+0.205549143351149)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(-2.347436621277+${C6pos})
variable C62 equal 0.5*(-2.347436621277+0.172976884140007)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.54292732499844
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.54292732499844
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -0.190858546499969 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.2679544) with tilt (0.18407555 -0.079489538 -1.736548)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.55797      24979.195      0              0              0              0              0              0            
       100   270.31005     -455.375        9187.4239      9066.1651      8744.1605      8478.2033     -13904.856      2938.7453     -8933.5237    
       200   317.47919     -454.93679      12673.376      8126.2295      11186.409      12506.637     -13826.872      1288.5049     -6244.9381    
       300   292.279       -455.85015      10608.529      4639.5644      15150.019      8914.7205     -13773.125      1761.1493     -8367.3182    
       400   250.84941     -455.59013      15087.113      5170.1745      14287.412      6814.1024     -13208.014      863.47665     -7333.8347    
       500   250.20148     -455.27488      1772.2366      10926.726      13778.137      8196.934      -12778.78      -1981.2237     -7559.3348    
       600   325.42421     -455.3603       19482.923      11018.591      16038.904      13025.763     -15597.405      396.97732     -5650.127     
       700   322.86193     -455.14764      19127.437      9044.0999      12235.957      16107.863     -14164.294      3576.8774     -7735.3342    
       800   290.54179     -455.37299      1126.6345      6593.3854      12080.602      11231.926     -13977.789      384.17466     -8678.1589    
       900   342.97821     -454.97061      19325.766      7534.8568      7977.9315      8426.5439     -13585.843      2283.7151     -4576.6792    
      1000   348.57208     -455.7086       13107.332      8280.0926      18265.078      14505.204     -9479.9004      4428.1021     -5266.9873    
Loop time of 6.05012 on 1 procs for 1000 steps with 62 atoms

Performance: 14.281 ns/day, 1.681 hours/ns, 165.286 timesteps/s, 10.248 katom-step/s
115.1% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.019      | 6.019      | 6.019      |   0.0 | 99.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0096852  | 0.0096852  | 0.0096852  |   0.0 |  0.16
Output  | 0.00059785 | 0.00059785 | 0.00059785 |   0.0 |  0.01
Modify  | 0.014645   | 0.014645   | 0.014645   |   0.0 |  0.24
Other   |            | 0.006181   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            737 ave         737 max         737 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4484 ave        4484 max        4484 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4484
Ave neighs/atom = 72.322581
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   348.57208     -455.7086       13107.332      0              0              0              0              0              0            
       100   292.87126     -455.45517      6230.3348      7672.8671      11892.576      13630.381     -15143.774      3637.4497     -6726.3857    
       200   329.65279     -454.9856       14187.556      8239.2176      12825.216      11918.315     -13912.382      1075.6912     -6589.2306    
       300   283.30177     -455.89955      9589.1016      4876.4957      15557.702      10257.083     -13594.086      2092.9392     -8202.219     
Loop time of 1.88511 on 1 procs for 300 steps with 62 atoms

Performance: 13.750 ns/day, 1.745 hours/ns, 159.142 timesteps/s, 9.867 katom-step/s
117.3% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8759     | 1.8759     | 1.8759     |   0.0 | 99.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0028314  | 0.0028314  | 0.0028314  |   0.0 |  0.15
Output  | 0.00016723 | 0.00016723 | 0.00016723 |   0.0 |  0.01
Modify  | 0.0043535  | 0.0043535  | 0.0043535  |   0.0 |  0.23
Other   |            | 0.00185    |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            721 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4448 ave        4448 max        4448 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4448
Ave neighs/atom = 71.741935
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 39.1491283018404
variable C2neg equal ${d2}
variable C2neg equal 31.4074742609993
variable C3neg equal ${d3}
variable C3neg equal 120.23965852801
variable C4neg equal ${d4}
variable C4neg equal 3.81982891608045
variable C5neg equal ${d5}
variable C5neg equal 4.93559210007189
variable C6neg equal ${d6}
variable C6neg equal -0.615225703313508

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.54292732499844
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 0.190858546499969 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.6496715) with tilt (0.18407555 -0.079489538 -1.736548)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.22953     -27985.102      0              0              0              0              0              0            
       100   254.58088     -454.95353     -21452.101     -6304.8435     -6110.1151     -40196.581     -12553.728     -3596.5925     -7622.2357    
       200   321.94364     -454.6793      -16027.564     -5958.1685     -3124.8166     -36610.399     -12146.813     -3104.7869     -5142.519     
       300   319.10716     -455.56199     -16150.793     -9448.3028      618.77817     -35053.577     -13905.327     -1042.8215     -8788.7508    
       400   228.75776     -454.91064     -11296.063     -11566.173     -2939.0108     -37122.927     -13161.356     -1927.0567     -6434.1009    
       500   260.17832     -454.6344      -23181.419     -1669.4052      798.28562     -36856.053     -11149.179     -3968.0742     -6635.6304    
       600   296.73533     -454.6806      -13809.899     -5727.874       3272.7402     -36575.403     -13314.874     -5838.8934     -3285.4402    
       700   340.9058      -454.91672     -14178.855     -5691.9615     -3100.6311     -31734.305     -12894.76      -1906.5585     -7060.1577    
       800   284.91696     -454.88375     -25503.713     -8435.2567      899.89198     -36060.754     -11780.985     -3199.9671     -5753.1355    
       900   384.56647     -454.86155     -12736.933     -7519.3873     -7703.3942     -38801.413     -13563.951     -1590.4509     -3993.5732    
      1000   346.23753     -455.45044     -14989.276     -7429.3916      4042.7415     -31937.458     -9184.2902     -1181.8029     -5828.5188    
Loop time of 6.50474 on 1 procs for 1000 steps with 62 atoms

Performance: 13.283 ns/day, 1.807 hours/ns, 153.734 timesteps/s, 9.532 katom-step/s
116.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.4742     | 6.4742     | 6.4742     |   0.0 | 99.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0092401  | 0.0092401  | 0.0092401  |   0.0 |  0.14
Output  | 0.00056749 | 0.00056749 | 0.00056749 |   0.0 |  0.01
Modify  | 0.0145     | 0.0145     | 0.0145     |   0.0 |  0.22
Other   |            | 0.006268   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            725 ave         725 max         725 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4300 ave        4300 max        4300 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4300
Ave neighs/atom = 69.354839
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   346.23753     -455.45044     -14989.276      0              0              0              0              0              0            
       100   288.41468     -455.09819     -22484.604     -6265.8761     -6178.4549     -35567.42      -12837.49      -2633.1475     -5188.7722    
       200   314.71923     -454.66986     -8294.7258     -6307.9635     -1650.9804     -35715.489     -12730.327     -2613.9605     -6109.2706    
       300   289.52452     -455.32488     -10749.502     -9626.5965      1800.4257     -35118.66      -13513.573     -1829.2342     -9250.2726    
Loop time of 1.90651 on 1 procs for 300 steps with 62 atoms

Performance: 13.596 ns/day, 1.765 hours/ns, 157.356 timesteps/s, 9.756 katom-step/s
115.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8975     | 1.8975     | 1.8975     |   0.0 | 99.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027238  | 0.0027238  | 0.0027238  |   0.0 |  0.14
Output  | 0.00015915 | 0.00015915 | 0.00015915 |   0.0 |  0.01
Modify  | 0.0043185  | 0.0043185  | 0.0043185  |   0.0 |  0.23
Other   |            | 0.001834   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            715 ave         715 max         715 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4262 ave        4262 max        4262 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4262
Ave neighs/atom = 68.741935
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 33.3663325046534
variable C2pos equal ${d2}
variable C2pos equal 37.3789070417102
variable C3pos equal ${d3}
variable C3pos equal 106.639057043404
variable C4pos equal ${d4}
variable C4pos equal 1.42043937450116
variable C5pos equal ${d5}
variable C5pos equal 14.6752753179651
variable C6pos equal ${d6}
variable C6pos equal 0.212658832311508

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(39.1491283018404+${C1pos})
variable C13 equal 0.5*(39.1491283018404+33.3663325046534)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(31.4074742609993+${C2pos})
variable C23 equal 0.5*(31.4074742609993+37.3789070417102)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(120.23965852801+${C3pos})
variable C33 equal 0.5*(120.23965852801+106.639057043404)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(3.81982891608045+${C4pos})
variable C43 equal 0.5*(3.81982891608045+1.42043937450116)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(4.93559210007189+${C5pos})
variable C53 equal 0.5*(4.93559210007189+14.6752753179651)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(-0.615225703313508+${C6pos})
variable C63 equal 0.5*(-0.615225703313508+0.212658832311508)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.54292732499844
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.54292732499844
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -0.190858546499969 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.9274065)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.69143     -3477.0115      0              0              0              0              0              0            
       100   262.17216     -455.37412     -7103.761       1488.0136      342.46397     -18916.951     -12717.866     -807.21795      588.74986    
       200   313.32867     -454.95621     -3499.8124      87.441685      3724.775      -14989.751     -12429.811     -1489.9344      2932.178     
       300   314.15568     -455.91059     -5597.058      -2297.816       7977.6183     -13315.399     -13872.333      561.20565     -74.156926    
       400   229.52829     -455.33691      3106.4866     -3120.8175      4241.8384     -15565.853     -13247.075      596.78861      1425.1882    
       500   259.4736      -454.96511     -10739.484      4621.3048      6867.8407     -18205.309     -11505.671     -2261.0097      1618.6707    
       600   303.43023     -455.02036      445.75911      3101.8783      9799.3467     -15774.423     -14080.724     -2948.404       4885.5341    
       700   332.2111      -455.01917      342.20166      505.83614      2933.7244     -11761.41      -13362.581     -275.07999      816.17248    
       800   286.69958     -455.11583     -14746.291     -679.731        6001.6025     -15120.136     -12835.501     -1347.9809      1143.704     
       900   373.68533     -454.96094      1778.802       966.65572      999.8204      -18662.944     -12947.046      874.06355      4841.4171    
      1000   354.07667     -455.71983     -693.88302      1321.2883      11254.243     -8463.1357     -9334.6492      852.36156      3249.1519    
Loop time of 6.60509 on 1 procs for 1000 steps with 62 atoms

Performance: 13.081 ns/day, 1.835 hours/ns, 151.399 timesteps/s, 9.387 katom-step/s
114.7% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.5747     | 6.5747     | 6.5747     |   0.0 | 99.54
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0092041  | 0.0092041  | 0.0092041  |   0.0 |  0.14
Output  | 0.00059994 | 0.00059994 | 0.00059994 |   0.0 |  0.01
Modify  | 0.014339   | 0.014339   | 0.014339   |   0.0 |  0.22
Other   |            | 0.006242   |            |       |  0.09

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            735 ave         735 max         735 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4406 ave        4406 max        4406 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4406
Ave neighs/atom = 71.064516
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   354.07667     -455.71983     -693.88302      0              0              0              0              0              0            
       100   288.5652      -455.54055     -10538.318      87.922567      2152.0691     -13680.209     -13696.184      279.47883      3122.983     
       200   322.69634     -455.0066      -118.04613     -704.57964      4716.8952     -13988.675     -13007.991     -1149.1691      2343.1239    
       300   289.69987     -455.84434     -1982.316      -2629.4511      9026.4595     -13870.411     -13881.44       333.34385     -438.70931    
Loop time of 1.76442 on 1 procs for 300 steps with 62 atoms

Performance: 14.690 ns/day, 1.634 hours/ns, 170.027 timesteps/s, 10.542 katom-step/s
113.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.7555     | 1.7555     | 1.7555     |   0.0 | 99.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027106  | 0.0027106  | 0.0027106  |   0.0 |  0.15
Output  | 0.00015551 | 0.00015551 | 0.00015551 |   0.0 |  0.01
Modify  | 0.004287   | 0.004287   | 0.004287   |   0.0 |  0.24
Other   |            | 0.001731   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            715 ave         715 max         715 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4356 ave        4356 max        4356 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4356
Ave neighs/atom = 70.258065
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 1.6193941529248
variable C2neg equal ${d2}
variable C2neg equal -1.2487376473422
variable C3neg equal ${d3}
variable C3neg equal -0.397810011563005
variable C4neg equal ${d4}
variable C4neg equal 42.6373772023848
variable C5neg equal ${d5}
variable C5neg equal -3.86238490404457
variable C6neg equal ${d6}
variable C6neg equal -2.0519939100195

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.54292732499844
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 0.190858546499969 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.5456894)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.42768     -3168.7348      0              0              0              0              0              0            
       100   256.24527     -455.14239     -5610.1008      1016.7422      516.62753     -17933.719     -13513.536      136.33047     -16996.144    
       200   326.80623     -454.80455      566.93765      1556.3341      2926.4351     -13679.861     -13498.368     -761.0216      -14109.745    
       300   313.60923     -455.67101     -850.73179     -742.09819      8528.4566     -12599.665     -13876.055      1532.215      -17398.791    
       400   241.41276     -455.29092      1916.7481     -3413.5455      4843.4216     -16527.34      -13554.407      100.94447     -15670.826    
       500   262.28581     -455.05942     -12806.183      3457.7828      4888.3941     -16292.865     -11846.576     -2808.0724     -15531.526    
       600   314.3646      -454.9786       1987.3271      2993.5623      7555.1974     -13871.966     -14763.593     -1382.1819     -12939.882    
       700   338.89524     -454.93037      2104.2935      2581.665       3111.4615     -9781.2641     -13554.427      1120.3273     -16125.591    
       800   279.91772     -455.05124     -11031.67       812.49441      7180.3184     -12406.515     -13050.756     -1304.0016     -16100.731    
       900   374.02369     -454.78454      936.2435       145.3142      -1033.4682     -17411.375     -13352.003      690.27651     -12262        
      1000   360.76873     -455.53245     -2452.1493      1309.0999      10601.267     -8388.9005     -9390.2502      1897.9235     -14125.379    
Loop time of 5.82743 on 1 procs for 1000 steps with 62 atoms

Performance: 14.826 ns/day, 1.619 hours/ns, 171.602 timesteps/s, 10.639 katom-step/s
113.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 5.7975     | 5.7975     | 5.7975     |   0.0 | 99.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0091741  | 0.0091741  | 0.0091741  |   0.0 |  0.16
Output  | 0.00055803 | 0.00055803 | 0.00055803 |   0.0 |  0.01
Modify  | 0.014228   | 0.014228   | 0.014228   |   0.0 |  0.24
Other   |            | 0.006017   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4390 ave        4390 max        4390 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4390
Ave neighs/atom = 70.806452
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.959 | 2.959 | 2.959 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   360.76873     -455.53245     -2452.1493      0              0              0              0              0              0            
       100   296.70001     -455.12123     -9981.8468      620.62778      1550.7694     -12474.954     -13847.28       888.87788     -13939.6      
       200   340.16388     -454.86495      898.11871      1538.687       3865.5675     -12439.889     -13813.313     -409.9757      -15083.37     
       300   284.35152     -455.52852     -1935.8631     -2043.505       7653.7963     -13378.291     -13344.171      504.44388     -17429.376    
Loop time of 1.73972 on 1 procs for 300 steps with 62 atoms

Performance: 14.899 ns/day, 1.611 hours/ns, 172.442 timesteps/s, 10.691 katom-step/s
113.2% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.7309     | 1.7309     | 1.7309     |   0.0 | 99.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027049  | 0.0027049  | 0.0027049  |   0.0 |  0.16
Output  | 0.00017887 | 0.00017887 | 0.00017887 |   0.0 |  0.01
Modify  | 0.004241   | 0.004241   | 0.004241   |   0.0 |  0.24
Other   |            | 0.001736   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            721 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4362 ave        4362 max        4362 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4362
Ave neighs/atom = 70.354839
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -4.5491247286407
variable C2pos equal ${d2}
variable C2pos equal 8.11205381788394
variable C3pos equal ${d3}
variable C3pos equal -2.0627887182585
variable C4pos equal ${d4}
variable C4pos equal 42.315956023033
variable C5pos equal ${d5}
variable C5pos equal 3.0068847625933
variable C6pos equal ${d6}
variable C6pos equal -0.634348324368493

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(1.6193941529248+${C1pos})
variable C14 equal 0.5*(1.6193941529248+-4.5491247286407)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(-1.2487376473422+${C2pos})
variable C24 equal 0.5*(-1.2487376473422+8.11205381788394)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(-0.397810011563005+${C3pos})
variable C34 equal 0.5*(-0.397810011563005+-2.0627887182585)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(42.6373772023848+${C4pos})
variable C44 equal 0.5*(42.6373772023848+42.315956023033)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-3.86238490404457+${C5pos})
variable C54 equal 0.5*(-3.86238490404457+3.0068847625933)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-2.0519939100195+${C6pos})
variable C64 equal 0.5*(-2.0519939100195+-0.634348324368493)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.54292732499844
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.54292732499844
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -0.190858546499969 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.27034808 -1.736548)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.5532      -882.00594      0              0              0              0              0              0            
       100   252.51681     -455.1784      -3766.5469      3165.6264      411.72158     -15207.933     -13061.53       6735.0301     -8452.7072    
       200   324.83447     -454.9441      -1358.2522      1080.0665      2921.3894     -12146.615     -12814.657      5523.9496     -6307.0289    
       300   317.75548     -455.84571     -2254.1963     -2014.3036      7582.8606     -12172.567     -13649.724      7064.9661     -8785.4769    
       400   237.49066     -455.34747      3548.0017     -2727.9854      4859.0565     -13712.883     -13191.632      6763.0437     -7207.1837    
       500   252.66534     -454.99274     -10859.549      4874.3983      6098.5131     -15440.92      -11667.017      4305.6877     -7381.9688    
       600   318.72633     -455.0232       950.89685      2780.5459      9008.1039     -13470.043     -14072.614      3606.2337     -3868.4162    
       700   356.76229     -455.1143       1097.8664      1421.2912      4240.2516     -9007.1477     -13556.984      6950.2662     -7655.3857    
       800   298.79502     -455.18177     -14013.472     -1253.6616      5443.8829     -11443.997     -12918.213      5697.3948     -7321.3709    
       900   385.54759     -454.97081      4060.3867      735.65737     -555.82981     -15959.322     -12963.463      7519.012      -3799.9346    
      1000   369.40592     -455.68001     -740.88484      922.40488      10670.536     -6786.4758     -9149.9877      8192.0084     -6070.4538    
Loop time of 5.73262 on 1 procs for 1000 steps with 62 atoms

Performance: 15.072 ns/day, 1.592 hours/ns, 174.440 timesteps/s, 10.815 katom-step/s
115.3% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 5.7024     | 5.7024     | 5.7024     |   0.0 | 99.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0093032  | 0.0093032  | 0.0093032  |   0.0 |  0.16
Output  | 0.0005834  | 0.0005834  | 0.0005834  |   0.0 |  0.01
Modify  | 0.014313   | 0.014313   | 0.014313   |   0.0 |  0.25
Other   |            | 0.006043   |            |       |  0.11

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4394 ave        4394 max        4394 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4394
Ave neighs/atom = 70.870968
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   369.40592     -455.68001     -740.88484      0              0              0              0              0              0            
       100   299.92234     -455.43059     -9080.1858      765.69841      2024.4037     -11109.437     -13611.847      7228.0083     -5807.7299    
       200   324.94731     -454.9259       95.197089      1913.5854      4528.84       -11849.294     -13177.513      6102.4659     -6819.385     
       300   291.63228     -455.74558     -1298.1478     -2614.76        6916.304      -12119.412     -13714.666      6780.7433     -9045.1105    
Loop time of 1.72642 on 1 procs for 300 steps with 62 atoms

Performance: 15.014 ns/day, 1.599 hours/ns, 173.770 timesteps/s, 10.774 katom-step/s
114.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.7173     | 1.7173     | 1.7173     |   0.0 | 99.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027829  | 0.0027829  | 0.0027829  |   0.0 |  0.16
Output  | 0.00017572 | 0.00017572 | 0.00017572 |   0.0 |  0.01
Modify  | 0.0043211  | 0.0043211  | 0.0043211  |   0.0 |  0.25
Other   |            | 0.001804   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            721 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4356 ave        4356 max        4356 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4356
Ave neighs/atom = 70.258065
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 1.6928499743718
variable C2neg equal ${d2}
variable C2neg equal -11.7995151948948
variable C3neg equal ${d3}
variable C3neg equal 8.35718459369949
variable C4neg equal ${d4}
variable C4neg equal -0.394628797038904
variable C5neg equal ${d5}
variable C5neg equal 28.3746123549888
variable C6neg equal ${d6}
variable C6neg equal -1.21812392094001

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.54292732499844
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 0.190858546499969 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 0.11136901 -1.736548)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.51373     -5351.5607      0              0              0              0              0              0            
       100   263.36201     -455.33165     -8911.5349     -1452.9406      999.08682     -21608.819     -13181.283     -7176.3686     -7864.5168    
       200   317.72693     -454.88846     -2854.2177     -479.82665      4110.9416     -16650.779     -12736.196     -7966.265      -5108.6744    
       300   314.7414      -455.7987      -5371.9202     -3077.6214      8880.7175     -14730.064     -14080.329     -5467.8806     -8513.9958    
       400   243.03642     -455.33444      2414.849      -4161.0868      5147.1456     -18572.629     -14057.29      -6499.3935     -7176.8977    
       500   261.1334      -455.02521     -12075.666      3440.6182      7612.5692     -18672.035     -11560.445     -9081.825      -6776.3742    
       600   299.36308     -454.9474       752.67061      2157.4508      9978.6386     -17003.319     -14567.785     -8668.1149     -3799.3908    
       700   327.80767     -454.99569      174.92319      501.94623      2910.0302     -13308.522     -13396.241     -6829.6124     -7437.8717    
       800   282.64796     -455.11968     -13567.338     -850.42605      8257.0242     -16963.525     -12756.496     -8283.8723     -7223.1199    
       900   379.90157     -455.02744     -1083.656      -729.62394      335.17569     -19560.83      -13128.335     -6084.1318     -3878.9942    
      1000   357.20627     -455.73411     -3127.7595     -509.53558      11678.321     -10677.186     -9500.5046     -5313.506      -5396.9519    
Loop time of 6.07458 on 1 procs for 1000 steps with 62 atoms

Performance: 14.223 ns/day, 1.687 hours/ns, 164.621 timesteps/s, 10.206 katom-step/s
114.7% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.0445     | 6.0445     | 6.0445     |   0.0 | 99.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0092043  | 0.0092043  | 0.0092043  |   0.0 |  0.15
Output  | 0.00054717 | 0.00054717 | 0.00054717 |   0.0 |  0.01
Modify  | 0.014234   | 0.014234   | 0.014234   |   0.0 |  0.23
Other   |            | 0.006071   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4388 ave        4388 max        4388 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4388
Ave neighs/atom = 70.774194
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   357.20627     -455.73411     -3127.7595      0              0              0              0              0              0            
       100   293.46953     -455.35856     -11071.237     -1913.6858      2173.1498     -16250.711     -13654.594     -5728.02       -5123.8418    
       200   335.20335     -455.01072      157.04772     -1328.2312      4692.895      -15439.587     -13328.166     -7563.5717     -5985.5228    
       300   286.60017     -455.57623     -1091.9929     -3433.8453      9807.7553     -16101.078     -13415.512     -6352.8525     -8773.2457    
Loop time of 1.81007 on 1 procs for 300 steps with 62 atoms

Performance: 14.320 ns/day, 1.676 hours/ns, 165.740 timesteps/s, 10.276 katom-step/s
114.7% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8011     | 1.8011     | 1.8011     |   0.0 | 99.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027387  | 0.0027387  | 0.0027387  |   0.0 |  0.15
Output  | 0.00017286 | 0.00017286 | 0.00017286 |   0.0 |  0.01
Modify  | 0.0042736  | 0.0042736  | 0.0042736  |   0.0 |  0.24
Other   |            | 0.001792   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            715 ave         715 max         715 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4342 ave        4342 max        4342 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4342
Ave neighs/atom = 70.032258
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 2.4025765162178
variable C2pos equal ${d2}
variable C2pos equal -2.6577411199561
variable C3pos equal ${d3}
variable C3pos equal 11.551142906564
variable C4pos equal ${d4}
variable C4pos equal -0.964695164098793
variable C5pos equal ${d5}
variable C5pos equal 37.2933667583966
variable C6pos equal ${d6}
variable C6pos equal -0.277642596327496

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(1.6928499743718+${C1pos})
variable C15 equal 0.5*(1.6928499743718+2.4025765162178)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-11.7995151948948+${C2pos})
variable C25 equal 0.5*(-11.7995151948948+-2.6577411199561)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(8.35718459369949+${C3pos})
variable C35 equal 0.5*(8.35718459369949+11.551142906564)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-0.394628797038904+${C4pos})
variable C45 equal 0.5*(-0.394628797038904+-0.964695164098793)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(28.3746123549888+${C5pos})
variable C55 equal 0.5*(28.3746123549888+37.2933667583966)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(-1.21812392094001+${C6pos})
variable C65 equal 0.5*(-1.21812392094001+-0.277642596327496)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 7.33635257958294

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*7.33635257958294
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -0.146727051591659 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.037348495 -0.079489538 -1.736548)

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.58657     -2797.4392      0              0              0              0              0              0            
       100   265.44905     -455.33457     -5790.4835      1909.2345     -65.226379     -18348.611     -2758.1645      884.66794     -7940.7795    
       200   325.35221     -455.03055     -3518.3516      441.71099      2529.5729     -15083.698     -3288.5126      454.18259     -5596.3241    
       300   319.11872     -455.89571     -4284.4532     -1027.719       8190.8087     -13083.585     -3674.2274      2352.1762     -8778.9959    
       400   232.59417     -455.45323      3124.6921     -2786.1855      4322.5622     -15240.216     -3203.3974      1614.116      -7103.8176    
       500   252.275       -455.09129     -13202.42       2658.6683      5385.9099     -17583.19      -1814.8993     -902.78997     -6987.7858    
       600   315.6238      -455.21181     -276.93398      2356.717       6506.0223     -14969.596     -4204.1403     -832.51189     -3430.5164    
       700   328.80472     -455.09223      319.86725      1814.471       2180.5403     -10850.833     -3406.3305      1662.9747     -7655.5724    
       800   283.25968     -455.16375     -12947.2       -812.63637      5539.0967     -14137.8       -3149.5789     -184.81464     -7906.9212    
       900   381.19431     -455.12245      2141.3325      402.6695      -3.3204336     -17598.212     -2730.3986      2026.3642     -3345.9484    
      1000   359.72268     -455.8446      -1106.8331      1167.5056      10932.659     -7634.005       705.90155      2074.7436     -5781.9686    
Loop time of 5.82598 on 1 procs for 1000 steps with 62 atoms

Performance: 14.830 ns/day, 1.618 hours/ns, 171.645 timesteps/s, 10.642 katom-step/s
115.1% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 5.7955     | 5.7955     | 5.7955     |   0.0 | 99.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0093583  | 0.0093583  | 0.0093583  |   0.0 |  0.16
Output  | 0.00058311 | 0.00058311 | 0.00058311 |   0.0 |  0.01
Modify  | 0.014494   | 0.014494   | 0.014494   |   0.0 |  0.25
Other   |            | 0.006045   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4404 ave        4404 max        4404 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4404
Ave neighs/atom = 71.032258
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   359.72268     -455.8446      -1106.8331      0              0              0              0              0              0            
       100   287.68561     -455.5345      -10843.327      344.29359      1080.9426     -13335.678     -3257.0714      2243.563      -5268.5323    
       200   321.72821     -455.0709      -1948.0649     -493.18932      3937.5529     -13815.996     -3402.3431      672.85424     -6057.0679    
       300   291.45707     -455.83653     -1666.6438     -1562.0412      8391.3161     -13543.563     -4046.5065      1852.6793     -9072.1659    
Loop time of 1.73692 on 1 procs for 300 steps with 62 atoms

Performance: 14.923 ns/day, 1.608 hours/ns, 172.720 timesteps/s, 10.709 katom-step/s
115.0% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.7278     | 1.7278     | 1.7278     |   0.0 | 99.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0028254  | 0.0028254  | 0.0028254  |   0.0 |  0.16
Output  | 0.00016313 | 0.00016313 | 0.00016313 |   0.0 |  0.01
Modify  | 0.0044345  | 0.0044345  | 0.0044345  |   0.0 |  0.26
Other   |            | 0.001732   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            715 ave         715 max         715 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4356 ave        4356 max        4356 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4356
Ave neighs/atom = 70.258065
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 6.95644393993249
variable C2neg equal ${d2}
variable C2neg equal -4.42445490454629
variable C3neg equal ${d3}
variable C3neg equal 1.23642915028599
variable C4neg equal ${d4}
variable C4neg equal -0.5299057101788
variable C5neg equal ${d5}
variable C5neg equal 3.73429258292004
variable C6neg equal ${d6}
variable C6neg equal 47.1226716612305

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Loaded 1 plugins from /home/zkm/anaconda3/envs/deepmd/lib/deepmd_lmp
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 2 Aug 2023, LAMMPS = 2 Aug 2023
  restoring atom style atomic from restart
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.18407555 -0.079489538 -1.736548)
  1 by 1 by 1 MPI processor grid
Summary of lammps deepmd module ...
  >>> Info of deepmd-kit:
  installed to:       /home/zkm/anaconda3/envs/deepmd
  source:             v2.2.7
  source branch:       HEAD
  source commit:      839f4fe7
  source commit at:   2023-10-27 21:10:24 +0800
  surpport model ver.:1.1 
  build variant:      cuda
  build with tf inc:  /home/zkm/anaconda3/envs/deepmd/include;/home/zkm/anaconda3/envs/deepmd/include
  build with tf lib:  /home/zkm/anaconda3/envs/deepmd/lib/libtensorflow_cc.so
  set tf intra_op_parallelism_threads: 0
  set tf inter_op_parallelism_threads: 0
  >>> Info of lammps module:
  use deepmd-kit at:  /home/zkm/anaconda3/envs/deepmd  restoring pair style deepmd from restart
  62 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*7.33635257958294
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 0.146727051591659 remap units box
Changing box ...
  triclinic box = (-0.026421927 0.057501491 -0.084114365) to (11.14139 7.3938541 9.458813) with tilt (0.3308026 -0.079489538 -1.736548)

# Run MD

run ${nequil}
run 1000
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair deepmd, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   286.95655     -455.51647     -3585.9138      0              0              0              0              0              0            
       100   255.97837     -455.18826     -6606.5148      626.6554       1955.2603     -18699.631     -23373.755     -1646.4822     -8414.1974    
       200   317.6628      -454.7642      -118.6673       1159.8142      4763.6779     -13818.845     -22567.82      -2573.4625     -5799.8152    
       300   306.79183     -455.6506      -310.22459     -2265.7348      8970.1166     -13146.367     -24245.473     -282.71545     -8795.3701    
       400   241.81139     -455.15142      3232.867      -3842.9963      6027.1136     -16942.446     -23522.275     -884.17085     -7153.7343    
       500   264.7886      -454.94187     -10573.538      5358.9798      7900.2562     -16577.562     -21231.875     -4105.3379     -6951.221     
       600   307.84031     -454.84266      2718.8147      3598.8606      11932.056     -14857.079     -24443.202     -3575.7409     -4810.998     
       700   342.39457     -454.90032      1727.8357      1436.2422      4686.4747     -11045.154     -23252.616     -1236.9421     -7632.2255    
       800   284.83485     -455.07228     -10677.505      811.53217      9282.8208     -13337.082     -22483.842     -2087.0439     -7005.9629    
       900   371.5259      -454.74913      1305.626       457.4047       1002.7567     -18512.308     -23034.877     -848.20416     -4374.7036    
      1000   358.13347     -455.48916     -2559.217       213.39307      11098.067     -10024.863     -19162.702      306.88571     -5612.2203    
Loop time of 5.79513 on 1 procs for 1000 steps with 62 atoms

Performance: 14.909 ns/day, 1.610 hours/ns, 172.559 timesteps/s, 10.699 katom-step/s
113.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 5.7643     | 5.7643     | 5.7643     |   0.0 | 99.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0095808  | 0.0095808  | 0.0095808  |   0.0 |  0.17
Output  | 0.00056764 | 0.00056764 | 0.00056764 |   0.0 |  0.01
Modify  | 0.014646   | 0.014646   | 0.014646   |   0.0 |  0.25
Other   |            | 0.006022   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            731 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4402 ave        4402 max        4402 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4402
Ave neighs/atom = 71
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0


# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si

pair_style	deepmd tob9_deepmd_compress.pb
pair_coeff	* * Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

#neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 10000 10000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:903)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.1 ${seed}
fix 5 all langevin 300 300 0.1 123457


run ${nrun}
run 300
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 2.96 | 2.96 | 2.96 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   358.13347     -455.48916     -2559.217       0              0              0              0              0              0            
       100   290.75594     -455.18409     -9863.0087     -81.398576      3424.8828     -13457.947     -24164.959     -914.93854     -5576.0694    
       200   334.49926     -454.80971      1916.4506      1051.5407      5590.8372     -12955.001     -23438.735     -2121.1207     -6894.688     
       300   282.42682     -455.59469     -1527.4231     -3491.9765      8852.7955     -14440.824     -23144.768     -852.07449     -8582.1191    
Loop time of 1.73311 on 1 procs for 300 steps with 62 atoms

Performance: 14.956 ns/day, 1.605 hours/ns, 173.099 timesteps/s, 10.732 katom-step/s
114.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.724      | 1.724      | 1.724      |   0.0 | 99.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0028329  | 0.0028329  | 0.0028329  |   0.0 |  0.16
Output  | 0.00017466 | 0.00017466 | 0.00017466 |   0.0 |  0.01
Modify  | 0.004347   | 0.004347   | 0.004347   |   0.0 |  0.25
Other   |            | 0.001758   |            |       |  0.10

Nlocal:             62 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:            721 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         4352 ave        4352 max        4352 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4352
Ave neighs/atom = 70.193548
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 2.6932327006137
variable C2pos equal ${d2}
variable C2pos equal 2.1170579033575
variable C3pos equal ${d3}
variable C3pos equal 3.2498769657405
variable C4pos equal ${d4}
variable C4pos equal -1.92032838857105
variable C5pos equal ${d5}
variable C5pos equal 9.78947661219676
variable C6pos equal ${d6}
variable C6pos equal 48.3686361478554

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(6.95644393993249+${C1pos})
variable C16 equal 0.5*(6.95644393993249+2.6932327006137)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(-4.42445490454629+${C2pos})
variable C26 equal 0.5*(-4.42445490454629+2.1170579033575)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(1.23642915028599+${C3pos})
variable C36 equal 0.5*(1.23642915028599+3.2498769657405)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-0.5299057101788+${C4pos})
variable C46 equal 0.5*(-0.5299057101788+-1.92032838857105)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(3.73429258292004+${C5pos})
variable C56 equal 0.5*(3.73429258292004+9.78947661219676)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(47.1226716612305+${C6pos})
variable C66 equal 0.5*(47.1226716612305+48.3686361478554)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 151.684382039516
variable C22all equal ${C22}
variable C22all equal 149.086523986471
variable C33all equal ${C33}
variable C33all equal 113.439357785707

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(51.671965085592+${C21})
variable C12all equal 0.5*(51.671965085592+51.1799518445771)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(36.2577304032469+${C31})
variable C13all equal 0.5*(36.2577304032469+35.3071346744806)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(34.3931906513548+${C32})
variable C23all equal 0.5*(34.3931906513548+31.6089292478665)

variable C44all equal ${C44}
variable C44all equal 42.4766666127089
variable C55all equal ${C55}
variable C55all equal 32.8339895566927
variable C66all equal ${C66}
variable C66all equal 47.7456539045429

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-1.46486528785795+${C41})
variable C14all equal 0.5*(-1.46486528785795+-5.04485026884923)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(2.0477132452948+${C51})
variable C15all equal 0.5*(2.0477132452948+0.304083249808195)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(4.82483832027309+${C61})
variable C16all equal 0.5*(4.82483832027309+-0.10812106569375)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(3.43165808527087+${C42})
variable C24all equal 0.5*(3.43165808527087+-2.84635361742165)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(-7.22862815742545+${C52})
variable C25all equal 0.5*(-7.22862815742545+-3.54814897463099)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-1.1536985005944+${C62})
variable C26all equal 0.5*(-1.1536985005944+-1.0872298685685)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(-1.23029936491075+${C43})
variable C34all equal 0.5*(-1.23029936491075+2.6201341452908)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(9.95416375013174+${C53})
variable C35all equal 0.5*(9.95416375013174+9.80543370901849)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(2.24315305801325+${C63})
variable C36all equal 0.5*(2.24315305801325+-0.201283435501)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-0.679661980568849+${C54})
variable C45all equal 0.5*(-0.679661980568849+-0.427750070725635)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-1.22511704937493+${C64})
variable C46all equal 0.5*(-1.22511704937493+-1.343171117194)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(6.7618845975584+${C65})
variable C56all equal 0.5*(6.7618845975584+-0.747883258633753)


print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 151.684382039516 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 149.086523986471 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 113.439357785707 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 51.4259584650845 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 35.7824325388638 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 33.0010599496106 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 42.4766666127089 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 32.8339895566927 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 47.7456539045429 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = -3.25485777835359 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = 1.1758982475515 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = 2.35835862728967 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = 0.29265223392461 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = -5.38838856602822 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = -1.12046418458145 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = 0.694917390190025 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = 9.87979872957511 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = 1.02093481125613 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = -0.553706025647242 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -1.28414408328447 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = 3.00700066946232 GPa

print " "
 
print "Cij tensor matrix"
Cij tensor matrix
print " "
 
print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}"
151.684382039516  51.4259584650845  35.7824325388638  -3.25485777835359  1.1758982475515  2.35835862728967
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}"
51.4259584650845  149.086523986471  33.0010599496106  0.29265223392461  -5.38838856602822  -1.12046418458145
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}"
35.7824325388638  33.0010599496106  113.439357785707  0.694917390190025  9.87979872957511  1.02093481125613
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}"
-3.25485777835359  0.29265223392461  0.694917390190025  42.4766666127089  -0.553706025647242  -1.28414408328447
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}"
1.1758982475515  -5.38838856602822  9.87979872957511  -0.553706025647242  32.8339895566927  3.00700066946232
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}"
2.35835862728967  -1.12046418458145  1.02093481125613  -1.28414408328447  3.00700066946232  47.7456539045429

print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}" file Cij.dat screen no
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}" append Cij.dat screen no
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}" append Cij.dat screen no
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}" append Cij.dat screen no
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}" append Cij.dat screen no
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}" append Cij.dat screen no

write_restart restart2
System init for write_restart ...
Generated 0 of 6 mixed pair_coeff terms from geometric mixing rule
Total wall time: 0:07:00
